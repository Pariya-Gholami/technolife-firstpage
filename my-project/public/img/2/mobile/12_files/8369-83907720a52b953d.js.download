"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8369],{36630:function(e,l,t){t.d(l,{Y:function(){return o}});var i=t(90047),n=t(43450),r=t(92749);function o(e){let l=[];return{addHeader:function(e,t){return l.push({label:e,value:t}),this},execute:async function(t,o,a,s){try{(null==e?void 0:e.loading)&&r.yW.show();let d=new i.z().setEndPoint(t);return s&&(d=d.setSignal(s)),l.length>0&&l.forEach(e=>{d.addHeader(e.label,e.value)}),await d.request((0,n.jsonToGraphQLQuery)(o),a)}catch(u){throw u}finally{(null==e?void 0:e.loading)&&r.yW.hide()}}}}},78243:function(e,l,t){t.d(l,{Oq:function(){return o},jv:function(){return n},l9:function(){return r}});var i=t(43450);let n={query:{__name:"search_page_filters",__variables:{text:"String",filter:"filter_obj"},search_page_filters:{__args:{text:new i.VariableType("text"),filter:new i.VariableType("filter")},page_filters:{title:!0,items:{name:!0,code:!0,enName:!0},price_range:{min:!0,max:!0}},content:{meta_title:!0,page_title:!0,meta_keywords:!0,meta_description:!0,description:!0,name:!0,canonical:!0,base_url:!0}}}},r={query:{__name:"search_page_results",__variables:{text:"String",filter:"filter_obj"},search_page_results:{__args:{text:new i.VariableType("text"),filter:new i.VariableType("filter")},results:{name:!0,_id:!0,code:!0,normal_price:!0,discount:!0,discounted_price:!0,icons:{font:!0,value:!0},deadline:!0,colors:!0,image:!0,score_count:!0,score_avg:!0,available:!0,free_delivery:!0,marketing_group:!0,marketing_group_id:!0,warningCount:!0,discount_info:{is_permanent:!0,daily_repeat:!0},start_date_discount:!0,discount_time:!0,query_id:!0,product_position:!0},count:!0,query_id:!0,banners:{url:!0,link:!0,alt:!0}}}},o={query:{__name:"addToCustomerSearches2",__variables:{search_term:"String",query_id:"String"},addToCustomerSearches2:{__args:{search_term:new i.VariableType("search_term"),query_id:new i.VariableType("query_id")},result:!0}}};new i.VariableType("landingSearch")},63049:function(e,l,t){t.d(l,{K:function(){return o}});var i=t(85893),n=t(99650),r=t(78935),o=function(){let{scrollToTop:e}=(0,n.Z)();return(0,i.jsx)("button",{onClick:function(){e()},type:"button",className:"fixed bottom-4 left-6 z-50 flex h-10.5 w-10.5 items-center justify-center rounded-full bg-primary-shade outline outline-1 outline-primary-shade border border-white",children:(0,i.jsx)(r.Z,{name:"arrow-large-top",color:"fill-white"})})}},65822:function(e,l,t){var i=t(85893),n=t(67294),r=t(78935),o=t(93967),a=t.n(o),s=t(24421),d=t(92749),u=t(63404);l.Z=function(e){let{header:l,children:t,footer:o,visible:c,stickTop:v,className:p,onClose:x}=e,f=(0,n.useRef)(!1);function m(){f.current&&((0,d.pX)(),f.current=!1)}return(0,n.useEffect)(()=>(c?((0,d.dg)(),f.current=!0):m(),()=>{m()}),[c]),(0,i.jsx)(u.Z,{children:(0,i.jsxs)("div",{className:a()("fixed bottom-0 top-0 z-[1000] block w-screen overflow-y-auto bg-background-500 transition-all scrollbar-hide",{"!left-full":!c,"left-0":c}),children:[(0,i.jsx)(s.Z,{visible:!!l,children:(0,i.jsxs)("div",{className:a()("fixed top-0 z-50 flex h-[56px] w-screen items-center justify-between border-b border-primary-tint-5 bg-background-500 px-4 transition-all",{"!left-full":!c,"left-0":c}),children:[(0,i.jsx)(s.Z,{visible:"string"==typeof l,children:(0,i.jsx)("p",{className:"text-base font-semiBold leading-5 text-primary-shade-1",children:l})}),(0,i.jsx)(s.Z,{visible:"string"!=typeof l,children:l}),(0,i.jsxs)("div",{className:"flex gap-1.5 text-sm font-semiBold leading-6 text-primary-shade-1",onClick:x,children:[(0,i.jsx)("span",{className:"font-semiBold 2md:hidden",children:"بستن"}),(0,i.jsx)(r.Z,{name:"cancel-large-circle",className:"hidden 2md:block",color:"fill-primary-shade-1",size:"w-6 h-6"}),(0,i.jsx)(r.Z,{name:"cancel",className:"2md:hidden",color:"fill-primary-shade-1",size:"w-6 h-6"})]})]})}),(0,i.jsxs)(s.Z,{visible:c,children:[(0,i.jsx)("div",{className:a()("absolute inset-0 flex w-full flex-col items-center",{"mt-[72px]":!!l&&!v,"mt-[56px]":!!l&&!!v,"mt-[16px]":!l&&!v,"mt-0":!l&&!!v},null==p?void 0:p.content),children:t}),(0,i.jsx)(s.Z,{visible:!!o,children:(0,i.jsx)("div",{className:"fixed inset-x-0 bottom-0 border-t border-primary-tint-5 bg-background px-4 py-3.5",children:o})})]})]})})}},76739:function(e,l,t){var i=t(85893),n=t(93967),r=t.n(n),o=t(78935);let a=e=>{var l,t;let{percent:n,className:a,classNameText:s,isHavePromotion:d}=e;return(0,i.jsxs)("div",{className:r()("min-w-6 lg:min-w-7 flex h-[17px] !items-center justify-center gap-1 rounded-[3px] px-1 lg:h-[19px] bg-red-60",a,{}),children:[(0,i.jsx)(o.Z,{name:"white-percent",size:"w-[9px] h-[9px] lg:w-[11px] lg:h-[11px]",color:"fill-white"}),(0,i.jsx)("span",{className:r()("flex !items-center justify-center pt-[1px] text-center text-sm font-semiBold leading-4 text-white lg:pt-[3px]",s),children:null!==(t=null===(l=null==n?void 0:n.toString())||void 0===l?void 0:l.replace("%",""))&&void 0!==t?t:0})]})};l.Z=a},14236:function(e,l,t){var i=t(85893),n=t(93967),r=t.n(n);t(67294);let o=e=>{let{size:l,color:t,bgColor:n,space:o,weight:a,title:s,className:d}=e;return(0,i.jsxs)("div",{className:r()("flex w-full items-center gap-1 py-3",null==d?void 0:d.container),children:[(0,i.jsx)("div",{className:" h-px flex-grow ".concat(void 0===n?"bg-gray":n)}),(0,i.jsx)("p",{className:r()("relative px-1",l,t,o,a,{"text-sm xl:text-base":!l,"text-gray-500":!t,"px-3":!o,"font-semiBold":!a}),children:null!=s?s:"ناموجود"}),(0,i.jsx)("div",{className:" h-px flex-grow ".concat(void 0===n?"bg-gray":n)})]})};l.Z=o},12278:function(e,l,t){var i=t(85893),n=t(93967),r=t.n(n);let o=e=>{let{className:l}=e;return(0,i.jsx)("span",{className:r()("text-primary-shade-1 text-xs font-medium mr-1",l),children:"تومان"})};l.Z=o},74006:function(e,l,t){t.d(l,{p:function(){return d}});var i=t(85893),n=t(67294),r=t(42708),o=t(88691),a=t(7077),s=t(30518);let d=e=>{let{onEndReached:l,isReachEnd:t,margin:d="300px",isLoading:u=!1}=e,{ref:c,inView:v}=(0,r.YD)({delay:100,rootMargin:d,threshold:0}),{isFetching:p}=(0,o.L)();return((0,n.useEffect)(()=>{v&&l()},[v]),t)?null:u||p?(0,i.jsx)("div",{className:"flex w-full items-center justify-center py-4",children:(0,i.jsx)(a.E,{src:s.fX.loadingBlack,alt:"loadingGif",width:54,height:30})}):(0,i.jsx)("div",{ref:c,className:"block h-6 w-full"})}},76827:function(e,l,t){t.d(l,{Z:function(){return a}});var i=t(85893),n=t(93967),r=t.n(n),o=t(78935);function a(e){let{className:l,count:t}=e;return(0,i.jsxs)("div",{className:r()(" flex items-center gap-1.5 ",null==l?void 0:l.container),children:[(0,i.jsx)(o.Z,{name:"box-tick-gray-2",size:"w-4.5 h-4.5",color:"fill-red-60"}),(0,i.jsxs)("p",{className:r()(" pt-[2px] text-xs font-semiBold text-red-60",null==l?void 0:l.text),children:[t,"  عدد در انبار باقی مانده"]})]})}},34023:function(e,l,t){var i=t(85893),n=t(78935),r=t(30518),o=t(7077),a=t(42153);let s=()=>(0,i.jsxs)("div",{className:" flex flex-col items-center gap-[34px] pb-[62px] pt-[42px] lg:gap-[52px] lg:pb-[100px] lg:pt-[68px] ",children:[(0,i.jsx)("div",{className:" h-[170px] w-[188px] lg:h-[254px] lg:w-[282px] ",children:(0,i.jsx)(o.E,{width:"MOBILE"===a.Hz?188:282,height:"DESKTOP"===a.Hz?170:254,src:r._C.notFoundProduct,alt:"",className:" h-full w-full"})}),(0,i.jsxs)("div",{className:" flex flex-col items-center",children:[(0,i.jsx)("p",{className:" text-base font-semiBold leading-4 text-gray-700 lg:text-[22px]",children:"کالایی یافت نشد."}),(0,i.jsx)("p",{className:" pb-4 pt-3 text-xs font-medium leading-4 text-gray-700 lg:pb-6 lg:pt-4 lg:text-base",children:"لطفا فیلترها را ویرایش کنید یا واژه دیگری را جستجو کنید."}),(0,i.jsxs)("div",{className:" flex gap-3",children:[(0,i.jsx)(n.Z,{name:"unknown",size:"w-[18px] h-[18px] lg:w-5 lg:h-5"}),(0,i.jsx)(n.Z,{name:"search",size:"w-[18px] h-[18px] lg:w-5 lg:h-5"})]})]})]});l.Z=s},79107:function(e,l,t){t(85893),t(60619),t(67294),t(84866),t(93967),t(34125),t(11163),t(36447)},5598:function(e,l,t){t.d(l,{w:function(){return u}});var i=t(85893),n=t(67294),r=t(60619),o=t(84866),a=t(11163),s=t(36447);let d=e=>{var l;let{data:t,isSearch:d,categoryName:u}=e,{isActiveToCompare:c,list:v,maxProductCount:p,canAddProduct:x,addToCompare:f,removeFromCompare:m}=null!==(l=(0,o.O)())&&void 0!==l?l:{},[h,g]=(0,n.useState)([]),_=(0,a.useRouter)();(0,n.useEffect)(()=>{var e;g(null===(e=null!=v?v:[])||void 0===e?void 0:e.map(e=>e.code))},[v]);let b=e=>{s.q.setEvent("click_product_in_list",{...e,category:u})},y=e=>{var l;return(null===(l=_.query)||void 0===l?void 0:l.page)?(+_.query.page-1)*30+e:e};return(0,i.jsx)("article",{className:"flex flex-col gap-[3px]",children:t&&t.map((e,l)=>{var t;let n=h.includes(null!==(t=null==e?void 0:e.code)&&void 0!==t?t:"");return(0,i.jsx)("div",{className:"border-b border-t px-3 pb-3 pt-6 first:border-t-0",children:(0,i.jsx)(r.V,{data:e,isAllowToCompare:c,isChoosed:n,maxProductCount:p,canAddProduct:x,imagePriority:l<3,isSearch:d,onChange:l=>{l?null==f||f({code:null==e?void 0:e.code,image:null==e?void 0:e.image}):null==m||m({code:null==e?void 0:e.code})},handleEventLogger:b,getGlobalPosition:()=>y(l)})},null==e?void 0:e._id)})})};var u=d;t(79107)},60619:function(e,l,t){t.d(l,{V:function(){return C}});var i=t(85893),n=t(93967),r=t.n(n),o=t(67294),a=t(24421),s=t(69353),d=t(78935),u=t(55648),c=t(7077),v=t(42153),p=function(e){var l;let{colors:t,limit:n,className:o,direction:s}=e,u={"gap-[6px]":!(null==o?void 0:o.gap)},c={"h-2 w-2":!(null==o?void 0:o.size)};return t?(0,i.jsxs)("div",{className:r()("flex items-center",u,null==o?void 0:o.gap,{"flex-row":!s||"row"===s,"flex-col":"col"===s},null==o?void 0:o.space),children:[null===(l=null==t?void 0:t.slice(0,null!=n?n:5))||void 0===l?void 0:l.map(e=>{var l,t;return(0,i.jsx)("div",{className:r()("rounded-full",c,null==o?void 0:o.size,{"white-color-shadow":"DESKTOP"===v.Hz&&(null===(l=null==e?void 0:e.toUpperCase())||void 0===l?void 0:l.includes("#FFF")),"white-color-shadow-mobile":"MOBILE"===v.Hz&&(null===(t=null==e?void 0:e.toUpperCase())||void 0===t?void 0:t.includes("#FFF"))}),style:{backgroundColor:"".concat(e)}},e)}),(0,i.jsx)(a.Z,{visible:!!((null==t?void 0:t.length)&&(null==t?void 0:t.length)>(null!=n?n:5)),children:(0,i.jsx)(d.Z,{name:"add-large",size:"w-3 h-3",color:"fill-gray-800"})})]}):null},x=t(76739),f=t(12278),m=t(14236),h=t(34125),g=t(92749),_=t(86626),b=t(8384),y=t(20514),j=t(30518),w=t(73788),N=t(76827),k=t(87312),C=function(e){var l,t,n,v,C,Z,q,S,T,P,z,E,O,I,D,B,H,V,M,A,U;let{data:F,isAllowToCompare:R,isChoosed:K,canAddProduct:W,maxProductCount:L,imagePriority:Y,onChange:X,isSearch:G,handleEventLogger:J,getGlobalPosition:Q}=e,$=(0,h.U)(),ee=(0,k.x)(),el=async e=>{var l,t,i,n;e.stopPropagation(),!g.sk&&(G?window.open("/".concat(null==F?void 0:null===(l=F.code)||void 0===l?void 0:l.getOrderCode().formatOrderCode("product"),"/").concat(null==F?void 0:null===(t=F.name)||void 0===t?void 0:t.formatUrl(),"?query_id=").concat(null==F?void 0:F.query_id,"&position=").concat(null==F?void 0:F.product_position)):window.open("/".concat(null==F?void 0:null===(i=F.code)||void 0===i?void 0:i.getOrderCode().formatOrderCode("product"),"/").concat(null==F?void 0:null===(n=F.name)||void 0===n?void 0:n.formatUrl())),G&&(null==F?void 0:F._id)&&(null==F?void 0:F.query_id)&&(null==F?void 0:F.product_position)&&(null==ee||ee.setSearchClick(null==F?void 0:F._id,null==F?void 0:F.query_id,null==F?void 0:F.product_position)))},et=()=>{W||K?X&&X(!K):null==$||$.toast({text:"حداکثر تعداد مجاز برای مقایسه ".concat(L," کالا میباشد ")})},ei=(0,o.useRef)(null),en=e=>{let l=e.touches[0];ei.current={x:l.clientX,y:l.clientY}},er=e=>{if(!ei.current)return;let l=e.changedTouches[0],t=Math.abs(l.clientX-ei.current.x),i=Math.abs(l.clientY-ei.current.y);t<10&&i<10&&(null==J||J({product_id:null==F?void 0:F._id,position:null==Q?void 0:Q(),product_name:null==F?void 0:F.name,price:null==F?void 0:F.normal_price})),ei.current=null},eo=!!(null==F?void 0:F.deadline)&&(null==F?void 0:F.marketing_group_id)===y.gT.promotionId&&!!(null==F?void 0:F.discount);return null==F?null:(0,i.jsxs)("section",{className:"relative pr-1",onClick:el,onTouchStart:en,onTouchEnd:er,children:[(0,i.jsx)(a.Z,{visible:!!F.deadline&&!!F.marketing_group&&!!F.discount,children:(0,i.jsx)("div",{className:"w-full px-1 pb-4",children:(0,i.jsx)(s.Z,{isPermannent:!!(null==F?void 0:null===(l=F.discount_info)||void 0===l?void 0:l.is_permanent),isHavePromotion:eo,title:null==F?void 0:F.marketing_group,time:null!==(O=Number(null==F?void 0:F.discount_time))&&void 0!==O?O:0,className:{title:"text-sm"}})})}),(0,i.jsxs)(a.Z,{visible:(null==F?void 0:F.free_delivery)===!0&&!!F.available,children:[(0,i.jsx)(_.Z,{name:"free-delivery",height:20,width:76,alt:"ارسال رایگان"}),(0,i.jsx)(b.Z,{className:"h-1"})]}),(0,i.jsxs)("div",{className:"flex w-full",children:[(0,i.jsxs)("div",{className:"mb-2.5 w-0 grow pl-4 pt-1",children:[(0,i.jsx)(u.Z,{href:G?"/".concat(null===(t=F.code)||void 0===t?void 0:t.getOrderCode().formatOrderCode("product"),"/").concat(null==F?void 0:null===(n=F.name)||void 0===n?void 0:n.formatUrl(),"?query_id=").concat(null==F?void 0:F.query_id,"&position=").concat(null==F?void 0:F.product_position):"/".concat(null==F?void 0:null===(v=F.code)||void 0===v?void 0:v.getOrderCode().formatOrderCode("product"),"/").concat(null==F?void 0:null===(C=F.name)||void 0===C?void 0:C.formatUrl()),onClick:e=>{e.stopPropagation(),G&&F._id&&(null==F?void 0:F.query_id)&&(null==F?void 0:F.product_position)&&(null==ee||ee.setSearchClick(F._id,null==F?void 0:F.query_id,null==F?void 0:F.product_position))},target:"_blank",children:(0,i.jsx)("h2",{className:"yekanbakh-en line-clamp-3 text-xss font-semiBold leading-6.5 -tracking-0.5 text-gray-800",children:F.name})}),(0,i.jsxs)("div",{className:r()("mt-2 flex h-5 w-full items-center justify-end gap-[2px] pl-1",{"!justify-between":!!F.available&&F.available<=w.H}),children:[(0,i.jsx)(a.Z,{visible:!!F.available&&F.available<=w.H,children:(0,i.jsx)(N.Z,{count:null!==(I=F.available)&&void 0!==I?I:0})}),(0,i.jsx)(a.Z,{visible:(null!==(D=F.score_avg)&&void 0!==D?D:0)>=1,children:(0,i.jsxs)("div",{className:"flex items-center gap-[2px]",children:[(0,i.jsx)(d.Z,{name:"StarNoColor",size:"w-3 h-3",color:"fill-yellow-30",className:"-mt-0.5"}),(0,i.jsx)("p",{className:"text-sm font-semiBold leading-5 text-gray-600",children:null===(Z=F.score_avg)||void 0===Z?void 0:Z.toFixed(1)})]})})]}),(0,i.jsx)("div",{className:r()("flex w-full pt-3.5",{"justify-center":(null===(q=F.icons)||void 0===q?void 0:q.length)===1,"justify-between":(null===(S=F.icons)||void 0===S?void 0:S.length)!==1}),children:null===(T=F.icons)||void 0===T?void 0:T.map((e,l)=>{var t,n;return(0,i.jsxs)("div",{className:r()("flex h-12 flex-col items-center justify-center gap-1",{"w-[52px]":(null===(t=F.icons)||void 0===t?void 0:t.length)===4,"w-[70px]":(null===(n=F.icons)||void 0===n?void 0:n.length)===3}),children:[(0,i.jsx)(d.Z,{name:null!==(B=null==e?void 0:e.font)&&void 0!==B?B:"unknown",size:"w-4 h-4",color:"fill-gray-500"}),(0,i.jsx)("p",{className:"yekanbakh-en text-xs font-semiBold leading-4 text-gray-700",children:null==e?void 0:e.value})]},null==e?void 0:e.value)})})]}),(0,i.jsxs)("div",{className:"relative mb-4 flex flex-col items-center gap-3",children:[(0,i.jsx)(c.E,{src:null!==(H=null==F?void 0:F.image)&&void 0!==H?H:"",alt:null!==(V=null==F?void 0:F.alt_image)&&void 0!==V?V:"",title:null!==(M=null==F?void 0:F.name)&&void 0!==M?M:"",width:118,height:118,priority:Y}),(0,i.jsx)(a.Z,{visible:!!eo,children:(0,i.jsx)(c.E,{src:j._C.technoOFFPromotionBadge,alt:y.gT.promotionTitle,title:y.gT.promotionTitle,width:48,height:48,className:"absolute right-0 top-17.5"})}),(0,i.jsx)(p,{colors:F.colors})]})]}),(0,i.jsxs)("div",{className:"h-10 w-full",children:[(0,i.jsx)(a.Z,{visible:(null!==(A=null==F?void 0:F.available)&&void 0!==A?A:0)>0&&!!F.discount,children:(0,i.jsxs)("div",{className:"flex flex-col items-end gap-1 pl-1",children:[(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)(x.Z,{percent:null==F?void 0:F.discount,isHavePromotion:eo}),(0,i.jsx)("p",{className:"mr-2 text-[17px] font-semiBold leading-[18px] text-primary-shade-1",children:null===(P=F.discounted_price)||void 0===P?void 0:P.toString().formatDigits()}),(0,i.jsx)(f.Z,{className:"leading-[18px] text-primary-shade-1"})]}),(0,i.jsx)("p",{className:"ml-7.5 text-sm leading-4 text-primary-tint-5 line-through",children:null===(z=F.normal_price)||void 0===z?void 0:z.toString().formatDigits()})]})}),(0,i.jsx)(a.Z,{visible:(null!==(U=null==F?void 0:F.available)&&void 0!==U?U:0)>0&&null===F.discount,children:(0,i.jsxs)("div",{className:"flex justify-end pl-1",children:[(0,i.jsx)("p",{className:"text-[17px] font-semiBold leading-[18px] text-primary-shade-1",children:null===(E=F.normal_price)||void 0===E?void 0:E.toString().formatDigits()}),(0,i.jsx)(f.Z,{className:"leading-[18px]"})]})}),(0,i.jsx)(a.Z,{visible:0===F.available&&!!(null==F?void 0:F.discount),children:(0,i.jsx)("div",{className:" float-left -my-3 w-[117px] px-1",children:(0,i.jsx)(m.Z,{title:"تمام شد",bgColor:"bg-gray-300",color:"text-gray-600",size:"text-base"})})}),(0,i.jsx)(a.Z,{visible:0===F.available&&!(null==F?void 0:F.discount),children:(0,i.jsx)("div",{className:" float-left -my-3 w-[117px] px-1",children:(0,i.jsx)(m.Z,{bgColor:"bg-gray-300",color:"text-gray-600",size:"text-base"})})})]}),(0,i.jsx)(a.Z,{visible:R,children:(0,i.jsxs)("button",{className:r()("absolute bottom-3 right-1 flex h-8 min-w-[92px] items-center justify-end rounded-[5px] border px-2.5 shadow-675",{"border-transparent bg-primary-shade":K,"border-gray-400 bg-white":!K}),onClick:e=>{e.stopPropagation(),et()},children:[(0,i.jsx)("p",{className:r()("pt-[2px] text-sm leading-4",{"font-medium text-white":K,"font-semiBold text-gray-700":!K}),children:K?"حذف":"مقایسه"}),(0,i.jsx)(d.Z,{name:K?"trash-three":"add",size:"w-5 h-5",color:K?"fill-white":"fill-gray-700",className:r()({"mr-[5px]":!K,"mr-2.5":K})})]})})]})};t(31494)},69353:function(e,l,t){var i=t(85893),n=t(24421),r=t(93967),o=t.n(r),a=t(67294);let s=e=>{let{title:l,time:t,className:r,semicircularBar:s,isHavePromotion:d,isPermannent:u}=e,c=()=>new Date().getTime(),v=e=>!(isNaN(e.getTime())||e.getTime()<=c()),[p,x]=(0,a.useState)((()=>{let e=new Date(new Date().getTime()+ +t);return v(e)?(e.getTime()-c()).formatHour():null})()),[f,m]=(0,a.useState)(100);return(0,a.useEffect)(()=>{let e=new Date(new Date().getTime()+ +t);if(!v(e)){x(null);return}x((e.getTime()-c()).formatHour());let l=setInterval(()=>{if(!v(e)){l&&clearInterval(l),x(null);return}x((e.getTime()-c()).formatHour())},1e3);return()=>{l&&clearInterval(l)}},[t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:o()("flex items-center justify-between pt-0.5 text-red-60 "),children:[(0,i.jsx)(n.Z,{visible:"string"==typeof l&&(null!==p&&!u||!!u),children:(0,i.jsx)("p",{className:o()("font-semiBold leading-4",{"text-xs lg:text-[15px] lg:!leading-5":!(null==r?void 0:r.title),"line-clamp-1 max-w-[60%]":!u,"text-orange-500":!!d},null==r?void 0:r.title),children:l})}),(0,i.jsx)(n.Z,{visible:"string"!=typeof l&&(null!==p&&!u||!!u),children:l}),(0,i.jsx)(n.Z,{visible:null!==p,children:(0,i.jsx)("time",{className:o()(" whitespace-nowrap text-base font-semiBold !leading-4 lg:text-lg lg:!leading-5",null==r?void 0:r.time,{"text-color-promotion":!!d}),suppressHydrationWarning:!0,children:p})})]}),(0,i.jsx)(n.Z,{visible:!!s&&(null!==p&&!u||!!u),children:(0,i.jsx)("div",{className:o()("relative float-left mt-1 h-[3px] w-full rounded-t-md bg-gray-300 after:absolute after:left-0 after:top-0 after:h-[3px] after:w-[100%] after:rounded-t-md ",{"bg-orange-500":!!d,"after:bg-red-60":!d})})}),(0,i.jsx)(n.Z,{visible:!s&&(null!==p&&!u||!!u),children:(0,i.jsx)("div",{className:o()("relative mt-[3px] lg:mt-[5px] flex h-[3px] w-full justify-end overflow-hidden rounded-[10px] bg-gray-300 lg:h-1"),children:(0,i.jsx)("div",{className:o()("h-[3px] rounded-[10px] lg:h-1",{"bg-orange-500":!!d,"bg-red-60":!d}),style:{width:"".concat(f,"%")}})})})]})};l.Z=(0,a.memo)(s)},70214:function(e,l,t){t.d(l,{j:function(){return o},z:function(){return a}});var i=t(85893),n=t(67294);let r=(0,n.createContext)(null),o=e=>{let{children:l,isGoogle:t}=e;return(0,i.jsx)(r.Provider,{value:{isGoogle:t},children:l})};function a(){return(0,n.useContext)(r)}},87312:function(e,l,t){t.d(l,{Z:function(){return w},x:function(){return N}});var i=t(85893),n=t(67294),r=t(11163),o=t(6821),a=t(129),s=t(92749),d=t(24421),u=t(74006),c=t(22756),v=t(42118),p=t(57243),x=t(93967),f=t.n(x),m=t(20514),h=t(36447),g=t(36630),_=t(42153),b=t(78243);async function y(e,l){return(0,g.Y)().execute(_.Sf.searchServiceIP,b.Oq,{search_term:e,query_id:l})}let j=(0,n.createContext)(null);function w(e){var l;let{children:t,menuProductFilters:x,menuFilters:g}=e,_=(0,r.useRouter)(),b=(0,p.i)(),{mutateAsync:w}=(0,a.gU)(),N=(0,n.useMemo)(()=>(0,o.tR)(_.query),[_.query]),k=(0,n.useMemo)(()=>(0,s._D)({...x,filter:{...N}}),[x,N]),C=(0,n.useMemo)(()=>(0,s._D)({...g,filter:{...N}}),[g,N]),Z=(0,n.useMemo)(()=>{var e;return!(0,s.Ke)(null==k?void 0:null===(e=k.filter)||void 0===e?void 0:e.skip)},[k]),{refetch:q,data:S}=(0,a.aU)(C,{enabled:!1,keepPreviousData:!0}),T=()=>{q()},{data:P,isFetching:z,fetchNextPage:E,isFetchingNextPage:O,hasNextPage:I}=(0,a.HA)(k,{enabled:Z,keepPreviousData:!0,cacheTime:3e5,staleTime:0,onSuccess:T}),{data:D,isFetching:B,isLoading:H}=(0,a.v9)(k,{enabled:!Z,keepPreviousData:!0,cacheTime:3e5,staleTime:0,onSuccess:async e=>{if(T(),e&&e.pages){var l,t;await W(_.query[m.az.keywords],null===(l=e.pages[(null===(t=e.pages)||void 0===t?void 0:t.length)-1])||void 0===l?void 0:l.query_id)}}});(0,n.useEffect)(()=>(B||z||O?s.yW.show():s.yW.hide(),()=>{s.yW.hide()}),[B,z,O]);let V=(0,n.useMemo)(()=>(0,v.hq)(Z,D,P),[Z,D,P]),M=(0,n.useMemo)(()=>{var e;return null!==(e=null==S?void 0:S.page_filters)&&void 0!==e?e:[]},[S]),A=()=>{!I||z||O||H||E()},U=(0,n.useMemo)(()=>{var e,l,t,i;return Z?null!==(t=null==P?void 0:null===(e=P.pages)||void 0===e?void 0:e.length)&&void 0!==t?t:0:null!==(i=null===(l=k.filter)||void 0===l?void 0:l.skip)&&void 0!==i?i:1},[k,Z,P]),F=(0,n.useMemo)(()=>N&&(null==S?void 0:S.page_filters)?(0,o.Ji)(null!=N?N:{},null==S?void 0:S.page_filters):null,[N,null==S?void 0:S.page_filters]),R=(e,l)=>{var t,i,n,r;h.q.setEvent(e,{search_query:null===(t=_.query)||void 0===t?void 0:t[m.az.keywords],place:"search",total_product_count:null!==(r=null==V?void 0:V.count)&&void 0!==r?r:0,total_available_product_count:(null==V?void 0:null===(i=V.results)||void 0===i?void 0:i.reduce((e,l)=>{var t;return e+(null!==(t=null==l?void 0:l.available)&&void 0!==t?t:0)},0))||0,page:Z?U||1:((null===(n=k.filter)||void 0===n?void 0:n.skip)||0)+1,filter:F,...l})},K=async(e,l,t)=>{try{let i=await w({query_id:l,product_id:e,product_position:null!=t?t:0});i&&i.result}catch(n){}},W=async(e,l)=>{await y(e,l).then(()=>{}).catch(e=>console.error("clickHandler>>>>>>>>>> AddToCustomerSearches has error",e))};return(0,n.useEffect)(()=>{F&&R("search_page_view")},[F,U]),(0,i.jsxs)(j.Provider,{value:{products:V,filters:N,filtersList:M,setSearchClick:K,addToCustomerSearches:W},children:[t,(0,i.jsx)(d.Z,{visible:Z&&!!I&&U<m.gT.maxPlpInfinity,children:(0,i.jsx)(u.p,{isReachEnd:!I,onEndReached:A})}),(0,i.jsx)("div",{className:f()("my-8 w-full opacity-0 lg:my-16",{"pr-[298px]":!!(null==b?void 0:b.status),"!opacity-100":Z&&!I||!Z||U>=m.gT.maxPlpInfinity}),children:(0,i.jsx)(c.Z,{count:null!==(l=null==V?void 0:V.count)&&void 0!==l?l:0})})]})}function N(){return(0,n.useContext)(j)}},57243:function(e,l,t){t.d(l,{Z:function(){return o},i:function(){return a}});var i=t(85893),n=t(67294);let r=(0,n.createContext)(null);function o(e){let{children:l,defaultStatus:t}=e,[o,a]=(0,n.useState)(t),s=e=>{a(e)};return(0,i.jsx)(r.Provider,{value:{status:o,onToggle:s},children:l})}function a(){return(0,n.useContext)(r)}},84866:function(e,l,t){t.d(l,{D:function(){return s},O:function(){return d}});var i=t(85893),n=t(81922),r=t(11163),o=t(67294);let a=(0,o.createContext)(null);function s(e){let{children:l,isAllowed:t}=e,s=(0,r.useRouter)(),[d,u]=(0,o.useState)(4),[c,v]=(0,o.useState)(!0),[p,x]=(0,o.useState)([]),[f,m]=(0,o.useState)(null==t||t),[h,g]=(0,o.useState)(!1);(0,o.useEffect)(()=>{m(null==t||t)},[t]),(0,o.useEffect)(()=>{s.query[n.az.plpCode],s.query[n.az.plpName]&&(g(!1),x([]),v(!0))},[s.query[n.az.plpCode],s.query[n.az.plpName]]);let _=(0,o.useCallback)(e=>{if(p.length>=d)return;let l=p.findIndex(l=>l.code===e.code);if(-1===l){let t=[...p];t.push(e),w(t),x(t)}},[p,d]),b=(0,o.useCallback)(e=>{let l=p.findIndex(l=>l.code===e.code);if(l>=0){let t=[...p];t.splice(l,1),w(t),x(t)}},[p]),y=(0,o.useCallback)(function(){x([]),f&&v(!0)},[f]),j=(0,o.useCallback)(e=>{e||(x([]),w([])),g(e)},[]),w=(0,o.useCallback)(e=>{v(e.length<d)},[d]),N=(0,o.useCallback)(e=>{m(e)},[]);return(0,i.jsx)(a.Provider,{value:{list:p,maxProductCount:d,isActiveToCompare:h,isAllowToCompare:f,canAddProduct:c,setActivateStatus:j,setAllowedStatus:N,addToCompare:_,removeFromCompare:b,setMaxProductCount:u,resetCompare:y},children:l})}function d(){return(0,o.useContext)(a)}},129:function(e,l,t){t.d(l,{HA:function(){return s},aU:function(){return o},v9:function(){return a},gU:function(){return p},K_:function(){return x}});var i=t(34766),n=t(42153),r=t(78243);t(66127);let o=(e,l)=>(0,i.w)({endpoint:n.Sf.searchServiceIP,keyPrefix:"search",queryObject:r.jv,queryInputData:e,options:l}),a=(e,l)=>(0,i.w)({endpoint:n.Sf.searchServiceIP,keyPrefix:"search",queryObject:r.l9,queryInputData:e,options:l}),s=(e,l)=>(0,i.$)({endpoint:n.Sf.searchServiceIP,keyPrefix:"search",queryObject:r.l9,queryInputData:e,options:l});var d=t(43450);let u={mutation:{__name:"setSearchClick",__variables:{query_id:"String",product_id:"ObjectID",product_position:"Int"},setSearchClick:{__args:{query_id:new d.VariableType("query_id"),product_id:new d.VariableType("product_id"),product_position:new d.VariableType("product_position")},result:!0}}},c={mutation:{__name:"setSearchToCart",__variables:{query_id:"String",product_id:"ObjectID",product_position:"Int"},setSearchToCart:{__args:{query_id:new d.VariableType("query_id"),product_id:new d.VariableType("product_id"),product_position:new d.VariableType("product_position")},result:!0}}};var v=t(25417);let p=e=>(0,v.w)({endpoint:n.Sf.searchServiceIP,queryObject:u,options:e}),x=e=>(0,v.w)({endpoint:n.Sf.searchServiceIP,queryObject:c,options:e})},42118:function(e,l,t){t.d(l,{KE:function(){return o},VJ:function(){return d},_2:function(){return a},hq:function(){return n},lo:function(){return u},qj:function(){return r},wP:function(){return c},ye:function(){return s}});var i=t(20514);let n=(e,l,t)=>{let i={results:[],banners:[],count:0,query_id:""};if(!e)return null!=l?l:i;if(e&&(null==t?void 0:t.pages)&&Array.isArray(t.pages)){let n=[];t.pages.forEach(e=>{(null==e?void 0:e.results)&&(n=n.concat(e.results))});let r=t.pages.length>0?t.pages[0]:i;return{results:n,count:null==r?void 0:r.count,banners:null==r?void 0:r.banners,query_id:null==r?void 0:r.query_id}}return i},r=(e,l,t)=>{let i={results:[],count:0,scores:[]};if(!e)return null!=l?l:i;if(e&&(null==t?void 0:t.pages)&&Array.isArray(t.pages)){let n=[],r=[];t.pages.forEach(e=>{(null==e?void 0:e.results)&&(n=n.concat(e.results)),(null==e?void 0:e.scores)&&(r=e.scores)});let o=t.pages.length>0?t.pages[0]:i;return{results:n,count:null==o?void 0:o.count,average_score:null==o?void 0:o.average_score,scores:r}}return i},o=e=>(null!=e?e:[]).filter(e=>!!(null==e?void 0:e.available)&&!!(null==e?void 0:e.product_active)).reduce((e,l)=>{var t;return e+(null!==(t=null==l?void 0:l.count)&&void 0!==t?t:0)},0),a=e=>(null!=e?e:[]).filter(e=>!(null==e?void 0:e.product_active)||!(null==e?void 0:e.available)).reduce((e,l)=>{var t;return e+(null!==(t=null==l?void 0:l.count)&&void 0!==t?t:0)},0),s=e=>(null!=e?e:[]).map(e=>{var l,t,i,n;return{...e,isAvailable:!!(null==e?void 0:e.available)&&(null!==(l=null==e?void 0:e.count)&&void 0!==l?l:0)<=(null!==(t=null==e?void 0:e.max_valid_count)&&void 0!==t?t:0),isUnAvailableAtCount:!!(null==e?void 0:e.available)&&(null!==(i=null==e?void 0:e.count)&&void 0!==i?i:0)>(null!==(n=null==e?void 0:e.max_valid_count)&&void 0!==n?n:0)}}),d=e=>(null!=e?e:[]).filter(e=>!!(null==e?void 0:e.available)&&(!!e.discounted_price||!!e.normal_price)),u=(e,l)=>e&&l?Math.ceil(e*i.gT.insurancePercent/(100*e/l)):Math.ceil(null!=e?e:0);function c(e,l){return e&&l?"/".concat(e.getOrderCode().formatOrderCode("product"),"/").concat(l.formatUrl()):""}}}]);