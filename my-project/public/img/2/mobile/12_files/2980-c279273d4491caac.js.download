"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2980],{64723:function(l,e,n){var r=n(85893),t=n(55648),i=n(93967),o=n.n(i),u=n(67294);let s=l=>{var e;let{list:n,onClickItem:i}=l,s=(0,u.useMemo)(()=>(null!=n?n:[]).sort((l,e)=>{var n,r;return(null!==(n=null==l?void 0:l.position)&&void 0!==n?n:0)-(null!==(r=null==e?void 0:e.position)&&void 0!==r?r:0)}),[n]);return(0,r.jsx)("nav",{className:"w-full",children:(0,r.jsx)("ul",{className:"no-scrollbar flex gap-2.5 overflow-scroll px-4 xs:max-w-full 2md:mb-[9px] lg:px-0 xl:gap-[15px]",children:s.map((l,n)=>(0,r.jsx)("li",{onClick:()=>{null==i||i(l,n)},className:"breadcrumb-devider relative text-primary-tint-4 last:text-primary-shade-1",children:(0,r.jsx)(t.Z,{id:n===(null==s?void 0:s.length)-2?"breadcrumbParent":void 0,href:null!==(e=null==l?void 0:l.item)&&void 0!==e?e:"",className:o()("block whitespace-nowrap text-xs font-regular leading-4  xl:leading-[25px]"),children:null==l?void 0:l.name})},null==l?void 0:l.item))})})};e.Z=s},49877:function(l,e,n){var r=n(85893),t=n(67294),i=n(93967),o=n.n(i),u=n(78935);let s=l=>{let{title:e,arrowSide:n,className:t,iconColor:i,iconSize:s,onClick:d,id:a,iconPosition:v}=l;return(0,r.jsxs)("div",{className:o()("flex items-center cursor-pointer",{"flex-row-reverse":"right"===v}),onClick:d,id:null!=a?a:void 0,children:[(0,r.jsx)("p",{className:o()("text-xs font-semiBold text-primary-shade",t),children:e}),(0,r.jsx)(u.Z,{size:o()(s,{"w-[18px] h-[18px] lg:w-6 lg:h-6":!s}),name:"arrow-".concat(null!=n?n:"left"),color:o()(i,{"fill-primary-shade":!i}),className:""})]})};e.Z=(0,t.memo)(s)},14651:function(l,e,n){var r=n(85893),t=n(67294);let i=l=>{let{children:e}=l,n=(0,t.useRef)(null),[i,o]=(0,t.useState)(null),u=(0,t.useRef)(!0),s=l=>{var e,r;u.current=!1,o(l.clientX),n.current&&(null===(e=n.current)||void 0===e?void 0:e.firstElementChild)&&((null===(r=n.current)||void 0===r?void 0:r.firstElementChild).style.pointerEvents="auto",n.current.style.cursor="auto")},d=l=>{var e,r;if(!u.current&&(n.current&&(null===(e=n.current)||void 0===e?void 0:e.firstElementChild)&&((null===(r=n.current)||void 0===r?void 0:r.firstElementChild).style.pointerEvents="none",n.current.style.cursor="pointer"),null!==i)){let t=n.current;t&&(t.scrollLeft+=i-l.clientX,o(l.clientX))}},a=()=>{var l,e;u.current=!0,o(null),n.current&&(null===(l=n.current)||void 0===l?void 0:l.firstElementChild)&&((null===(e=n.current)||void 0===e?void 0:e.firstElementChild).style.pointerEvents="auto",n.current.style.cursor="auto")};return(0,r.jsx)("div",{ref:n,className:"overflow-x-auto no-scrollbar",onMouseDown:l=>s(l),onMouseLeave:a,onMouseMove:l=>d(l),onMouseUp:a,children:e})};e.Z=i},86604:function(l,e,n){n.d(e,{H:function(){return N}});var r=n(85893),t=n(67294),i=n(93967),o=n.n(i),u=n(78935),s=n(55648),d=n(14651),a=n(24421);let v=l=>{var e,n;let{data:i,className:v,manualScroll:c,isSearch:p=!1}=l,x=(0,t.useRef)(null),[m,h]=(0,t.useState)(!0),f=l=>{var e;(null===(e=x.current)||void 0===e?void 0:e.parentElement)&&(x.current.parentElement.classList.add("scroll-smooth"),x.current.parentElement.scrollLeft+=l,x.current.parentElement.classList.remove("scroll-smooth"))};return(0,t.useEffect)(()=>{var l,e;if((null!==(l=null==i?void 0:i.length)&&void 0!==l?l:0)>0&&x.current&&x.current){let n=x.current.offsetWidth,r=0;for(let t=0;t<(null===(e=x.current.children)||void 0===e?void 0:e.length);t++){let o=x.current.children[t];r+=o.clientWidth}n<r?h(!0):h(!1)}else h(!1)},[i]),(0,r.jsxs)("nav",{className:"relative h-[30px] w-full",children:[(0,r.jsx)(d.Z,{children:(0,r.jsx)("ul",{className:o()(" flex h-[30px] gap-2.5 scroll-smooth"),ref:x,children:i&&i.map(l=>{var t,i;return(0,r.jsx)("li",{className:o()(" w-min cursor-pointer rounded-md border border-gray-300 xl:border-gray-400 "),children:(0,r.jsx)(s.Z,{className:"block whitespace-nowrap px-6 pb-[5px] pt-[7px] text-xs font-regular text-gray-600 xl:text-xs",onDragStart:l=>{l.preventDefault()},href:null!==(e=null==l?void 0:l.url)&&void 0!==e?e:"",children:null!==(n=null==l?void 0:l.name)&&void 0!==n?n:""})},null===(t=null===(i=((null==Math?void 0:Math.random())*1e6).toString()+(null==l?void 0:l.url))||void 0===i?void 0:i.match(/\d+/g))||void 0===t?void 0:t.map(Number).join(""))})})}),(0,r.jsxs)(a.Z,{visible:m,children:[(0,r.jsx)("button",{type:"button",className:o()(" absolute -left-8 top-[3px] flex h-[22px] w-[22px] cursor-pointer items-center justify-center rounded-full shadow-[0px_0px_14px_-3px_rgba(0,0,0,0.22)] ",null==v?void 0:v.arrows,null==v?void 0:v.left),onClick:()=>f(-100),children:(0,r.jsx)(u.Z,{name:"arrow-large-left",size:" w-[18px] h-[18px]"})}),(0,r.jsx)("button",{type:"button",className:o()("  absolute -right-8 top-[3px] flex h-[22px] w-[22px] cursor-pointer items-center justify-center rounded-full shadow-[0px_0px_14px_-3px_rgba(0,0,0,0.22)]",null==v?void 0:v.arrows,null==v?void 0:v.right),onClick:()=>f(100),children:(0,r.jsx)(u.Z,{name:"arrow-large-right",size:" w-[18px] h-[18px]"})})]})]})};var c=n(17789),p=n(5598),x=n(34023),m=n(44533),h=n(84866),f=n(11163),g=n(99650),j=n(66139),b=n(58300),w=n(6821),y=n(64723);let _=l=>{var e,n,i,u,s,d,_,N,Z,E,k,C;let{breadCrumbFilters:M,menuFilters:S}=l,R=(0,f.useRouter)(),{scrollToTop:q}=(0,g.Z)(),O=(0,j.S)(),{data:P,error:z}=(0,b.iF)(M),{data:D,error:L}=(0,b.Vo)(S),W=(0,t.useMemo)(()=>{var l;return(0,w.m8)(null!==(l=null==O?void 0:O.filters)&&void 0!==l?l:{},null==D?void 0:D.page_filters)},[null==O?void 0:O.filters,null==D?void 0:D.page_filters]),F=(0,t.useCallback)(l=>{let e=l?(0,w.Ig)(l):{};q(),R.push({pathname:R.pathname,query:{...e,code:R.query.code,name:R.query.name}},void 0,{shallow:!0})},[R]),I=l=>{var e;let n={...null!==(e=null==O?void 0:O.filters)&&void 0!==e?e:{}};n.ordering&&n.ordering===l?delete n.ordering:n.ordering=l,F(n)},{list:T}=null!==(N=(0,h.O)())&&void 0!==N?N:{};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"px-4 pt-4",children:(0,r.jsx)(y.Z,{list:P})}),(0,r.jsx)(a.Z,{visible:!!D&&(null!==(Z=null===(e=D.landing_carousel)||void 0===e?void 0:e.length)&&void 0!==Z?Z:0)>0,children:(0,r.jsx)("div",{className:" mt-4 pr-4",children:(0,r.jsx)(v,{manualScroll:!0,data:null==D?void 0:D.landing_carousel,className:{arrows:"hidden"}})})}),(0,r.jsx)("div",{className:o()(" sticky top-[45px] z-20 w-full bg-white p-4"),children:(0,r.jsx)(c.Y,{summaryFilters:W,filters:null!==(E=null==O?void 0:O.filters)&&void 0!==E?E:{},onChangeOrder:I,onChangeRoute:F,banners:null==O?void 0:null===(n=O.products)||void 0===n?void 0:n.banners,productFilters:null==D?void 0:D.page_filters,btnName:"مقایسه"})}),(0,r.jsx)("div",{className:o()("w-full bg-white px-4 transition-all",{"sticky top-[110px] z-10 pb-4":(null==T?void 0:T.length)>0}),children:(0,r.jsx)(m.Z,{productsCount:null!==(k=null==O?void 0:null===(i=O.products)||void 0===i?void 0:i.count)&&void 0!==k?k:0})}),(0,r.jsx)(a.Z,{visible:(null==O?void 0:null===(u=O.products)||void 0===u?void 0:u.count)!==0,children:(0,r.jsx)(p.w,{data:null==O?void 0:null===(s=O.products)||void 0===s?void 0:s.results,categoryName:null!==(C=null==P?void 0:null===(d=P[(null==P?void 0:P.length)-1])||void 0===d?void 0:d.name)&&void 0!==C?C:""})}),(0,r.jsx)(a.Z,{visible:(null==O?void 0:null===(_=O.products)||void 0===_?void 0:_.count)===0,children:(0,r.jsx)(x.Z,{})})]})};var N=_},82669:function(l,e,n){var r=n(85893),t=n(49877),i=n(24421),o=n(67294),u=n(93967),s=n.n(u);e.Z=(0,o.memo)(function(l){let{className:e,content:n}=l,[u,d]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{d(!1)},[]),(0,r.jsxs)("article",{className:s()("border-t border-gray-300 pt-6  lg:pt-8 ",e),children:[(0,r.jsxs)("div",{className:" relative",children:[(0,r.jsx)("div",{className:s()("product_article h-[140px] overflow-hidden lg:h-[295px]",{"!h-auto !overflow-auto":u}),dangerouslySetInnerHTML:{__html:null!=n?n:""}}),(0,r.jsx)(i.Z,{visible:!u,children:(0,r.jsx)("div",{className:" absolute bottom-0 right-0 z-10 h-[90px] w-full bg-gradient-to-t from-white lg:h-[142px]"})})]}),(0,r.jsx)(i.Z,{visible:!u,children:(0,r.jsx)("div",{onClick:()=>d(!0),children:(0,r.jsx)(t.Z,{title:"نمایش بیشتر",arrowSide:"bottom",className:"!text-sm !font-medium lg:!text-lg"})})}),(0,r.jsx)(i.Z,{visible:u,children:(0,r.jsx)("div",{onClick:()=>d(!1),children:(0,r.jsx)(t.Z,{title:"بستن",arrowSide:"top",className:"!text-sm !font-medium lg:!text-lg"})})})]})})},66139:function(l,e,n){n.d(e,{S:function(){return b},Z:function(){return j}});var r=n(85893),t=n(67294),i=n(11163),o=n(93967),u=n.n(o),s=n(6821),d=n(92749),a=n(24421),v=n(74006),c=n(22756),p=n(58300),x=n(42118),m=n(57243),h=n(20514),f=n(36447);let g=(0,t.createContext)(null);function j(l){var e;let{children:n,menuProductFilters:o,breadcrumbPageFilters:j}=l,b=(0,i.useRouter)(),{data:w}=(0,p.Vo)(o),y=(0,m.i)(),{data:_}=(0,p.iF)(j),N=(0,t.useMemo)(()=>(0,s.tR)(b.query),[b.query]),Z=(0,t.useMemo)(()=>(0,d._D)({...o,filterObj:{...o.filterObj,...N}}),[o,N]),E=(0,t.useMemo)(()=>{var l;return!(0,d.Ke)(null==Z?void 0:null===(l=Z.filterObj)||void 0===l?void 0:l.skip)},[Z]),{data:k,isLoading:C,isFetching:M,fetchNextPage:S,isFetchingNextPage:R,hasNextPage:q}=(0,p.mP)(Z,{enabled:E,keepPreviousData:!0}),{data:O,isFetching:P}=(0,p.WI)(Z,{enabled:!E,keepPreviousData:!0});(0,t.useEffect)(()=>(P||M||R?d.yW.show():d.yW.hide(),()=>{d.yW.hide()}),[P,M,R]);let z=(0,t.useMemo)(()=>(0,x.hq)(E,O,k),[E,O,k]),D=()=>{!q||M||R||C||S()},L=(0,t.useMemo)(()=>{var l,e,n,r;return E?null!==(n=null==k?void 0:null===(l=k.pages)||void 0===l?void 0:l.length)&&void 0!==n?n:0:null!==(r=null===(e=Z.filterObj)||void 0===e?void 0:e.skip)&&void 0!==r?r:1},[Z,E,k]),W=(0,t.useMemo)(()=>N&&(null==w?void 0:w.page_filters)?(0,s.Ji)(null!=N?N:{},null==w?void 0:w.page_filters):null,[N,null==w?void 0:w.page_filters]),F=(l,e)=>{var n,r,t,i,o,u,s,d,a;let v=window.location.href;f.q.setEvent(l,{page_url:v,plp_name:null!==(u=null==_?void 0:null===(n=_[(null==_?void 0:_.length)-1])||void 0===n?void 0:n.name)&&void 0!==u?u:"",vertical:null!==(s=null==_?void 0:null===(r=_[(null==_?void 0:_.length)-1])||void 0===r?void 0:r.name)&&void 0!==s?s:"",leaf_category:null!==(d=null==_?void 0:null===(t=_[(null==_?void 0:_.length)-1])||void 0===t?void 0:t.name)&&void 0!==d?d:"",place:"plp",total_product_count:null!==(a=null==z?void 0:z.count)&&void 0!==a?a:0,total_available_product_count:(null==z?void 0:null===(i=z.results)||void 0===i?void 0:i.reduce((l,e)=>{var n;return l+(null!==(n=null==e?void 0:e.available)&&void 0!==n?n:0)},0))||0,page:E?L||1:((null===(o=Z.filterObj)||void 0===o?void 0:o.skip)||0)+1,filter:null!=W?W:{},...e})};return(0,t.useEffect)(()=>{W&&F("plp_page_view")},[W,L]),(0,r.jsxs)(g.Provider,{value:{products:z,filters:N},children:[n,(0,r.jsx)(a.Z,{visible:E&&!!q&&L<h.gT.maxPlpInfinity,children:(0,r.jsx)(v.p,{isReachEnd:!q,onEndReached:D})}),(0,r.jsx)("div",{className:u()("my-8 w-full opacity-0 lg:my-16",{"pr-[298px]":!!(null==y?void 0:y.status),"!opacity-100":E&&!q||!E||L>=h.gT.maxPlpInfinity}),children:(0,r.jsx)(c.Z,{count:null!==(e=null==z?void 0:z.count)&&void 0!==e?e:0})})]})}function b(){return(0,t.useContext)(g)}}}]);