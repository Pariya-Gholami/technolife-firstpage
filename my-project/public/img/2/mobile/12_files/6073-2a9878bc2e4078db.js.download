"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6073],{32993:function(e,t,l){l.d(t,{Iu:function(){return s},X5:function(){return r}});var i=l(30518);let r=(e,t)=>{var l,i;return t?(t.meta_title=n(t.meta_title,e.title),t.meta_description=n(t.meta_description,e.description),{...e,title:t.meta_title,description:t.meta_description,noindex:null!==(l=t.no_index)&&void 0!==l?l:e.noindex,nofollow:null!==(i=t.no_index)&&void 0!==i?i:e.nofollow}):{}},a=(e,t)=>{var l,r,a,s;let n=[...null!==(a=null===(l=e.openGraph)||void 0===l?void 0:l.images)&&void 0!==a?a:[]],o={};if((null==t?void 0:t.color_items)&&t.color_items.length>0&&(null===(r=t.color_items[0])||void 0===r?void 0:r.image))o=t.color_items[0].image;else{if(null==t||!t.main_image)return e;o=t.main_image}for(let c=0;c<n.length;c++)n[c].url=(null==o?void 0:o.image)?o.image:i._C.technoLogo,n[c].alt=(null==o?void 0:o.alt_image)?o.alt_image:null!==(s=t.meta_title)&&void 0!==s?s:"";return e.openGraph={...e.openGraph,images:n,url:e.canonical},{...e}},s=(e,t,l)=>{var i,r,s,n,o,c;if("product"===t&&(null==e?void 0:null===(i=e.openGraph)||void 0===i?void 0:null===(r=i.images)||void 0===r?void 0:r.length))e=a(e,l);else if(("PLP"===t||"mainPage"===t)&&(null==e?void 0:null===(s=e.openGraph)||void 0===s?void 0:null===(n=s.images)||void 0===n?void 0:n.length)){let u=e.openGraph.images.map(t=>({...t,url:l,alt:e.title||"Technolife e-shop | فروشگاه اینترنتی تکنولایف"}));e.openGraph={...e.openGraph,images:u,url:e.canonical||e.openGraph.url}}return{...e,openGraph:{...e.openGraph,title:null!==(o=e.title)&&void 0!==o?o:"",description:null!==(c=e.description)&&void 0!==c?c:""}}},n=(e,t)=>e||(null!=t?t:"")},6821:function(e,t,l){l.d(t,{F:function(){return h},Ig:function(){return u},Ji:function(){return v},iU:function(){return c},m8:function(){return g},tR:function(){return s}});var i=l(92749),r=l(82018),a=l(81922);let s=e=>{if("object"==typeof e&&!Array.isArray(e)&&null!=e){let t={};return Object.keys(e).forEach(l=>{r.d[l]&&l&&(t[r.d[l]]=e[l])}),(0,i.Ke)(t.limit)||(t.limit=a.cB.limit),(0,i.Ke)(t.skip)&&!isNaN(t.skip)&&(t.skip=t.skip<1?0:t.skip-1),n(t)}return{}},n=e=>{let t=JSON.parse(JSON.stringify(e));return Object.keys(t).forEach(e=>{t[e]=o(e,t[e])}),t},o=(e,t)=>{switch(e){case"limit":case"skip":case"price_max":case"price_min":return(0,i.Ke)(t)&&!isNaN(+t)?+t:t;case"available":case"available_in_stock":return(0,i.Ke)(t)?"true"===t:t;case"attribute_filters":case"brand_filters":case"category_filters":return(0,i.Ke)(t)?t.includes("_")?(0,i._D)(t.split("_")).map(e=>parseInt(e)):[+t]:[];case"colors":return(0,i.Ke)(t)?t.includes("_")?t.split("_"):[t]:[];default:return t}},c=(e,t,l)=>{let r={...e};switch(t){case"attribute_filters":case"brand_filters":case"category_filters":if((0,i.Ke)(r[t])&&Array.isArray(r[t])){let a=r[t].findIndex(e=>isNaN(+e)?e===l:+e==+l);a>=0?r[t].splice(a,1):(r[t].push(l),r[t]=isNaN(+l)?r[t]:p(r[t]))}else r[t]=isNaN(+l)?[l]:p([l]);break;case"colors":if((0,i.Ke)(r[t])&&Array.isArray(r[t])){let s=r[t].findIndex(e=>e===l);s>=0?r[t].splice(s,1):r[t].push(l)}else r[t]=[l];break;default:r[t]=l}return r},u=e=>{let t={};return Object.keys(e).forEach(l=>{r.q[l]&&l&&(t[r.q[l]]=e[l])}),(0,i.Ke)(t.limit)&&delete t.limit,(0,i.Ke)(null==t?void 0:t.page)&&(t.page=0),d(t)},d=e=>{let t=JSON.parse(JSON.stringify(e));return Object.keys(t).forEach(e=>{t[e]=f(e,t[e])}),t},f=(e,t)=>{switch(e){case"af":case"manufacturer_id":case"category_id":case"colors":return(0,i.Ke)(t)&&Array.isArray(t)?p(t).join("_"):void 0;default:return t}},p=e=>{let t=[...e];return t.length>0&&!isNaN(+t[0])&&(t=t.map(e=>(+e).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}))),t},g=(e,t)=>{let l=[],r=null;return e&&Object.keys(e).length>0&&t&&Array.isArray(t)&&Object.keys(e).forEach(i=>{let a;switch(i){case"price_min":case"price_max":var s,n;a="price_min",l.push({label:"قیمت: از ".concat((null!==(s=e.price_min)&&void 0!==s?s:0).toString().formatDigits()," تا ").concat((null!==(n=e.price_max)&&void 0!==n?n:0).toString().formatDigits()),value:a});break;case"available":if(!e.available)break;a="available",l.push({label:"فقط کالاهای موجود",value:a});break;case"available_in_stock":if(!e.available_in_stock)break;a="available_in_stock",l.push({label:"ارسال فوری",value:a});break;case"attribute_filters":if(!Array.isArray(e.attribute_filters))break;r=new m(t,"attribute_filters").setExcludes(["برندها","دسته بندی ها"]).getResult(e.attribute_filters),l=l.concat(r);break;case"colors":if(!Array.isArray(e.colors))break;r=new m(t,"colors").getResult(e.colors),l=l.concat(r);break;case"brand_filters":if(!Array.isArray(e.brand_filters))break;r=new m(t,"brand_filters").setIncludes(["برندها"]).getResult(e.brand_filters),l=l.concat(r);break;case"category_filters":if(!Array.isArray(e.category_filters))break;r=new m(t,"category_filters").setIncludes(["دسته بندی ها"]).getResult(e.category_filters),l=l.concat(r)}}),[...(0,i.XV)(l,"value")]},v=(e,t)=>{let l={},i=null;return e&&Object.keys(e).length>0&&t&&Array.isArray(t)&&Object.keys(e).forEach(r=>{switch(r){case"attribute_filters":if(!Array.isArray(e.attribute_filters))break;i=new m(t,"attribute_filters").setExcludes(["برندها","دسته بندی ها"]).getResult(e.attribute_filters),l.attribute_filters=null==i?void 0:i.map(e=>null==e?void 0:e.label);break;case"colors":if(!Array.isArray(e.colors))break;i=new m(t,"colors").getResultTitle(e.colors),l.colors=i;break;case"brand_filters":if(!Array.isArray(e.brand_filters))break;i=new m(t,"brand_filters").setIncludes(["برندها"]).getResultTitle(e.brand_filters),l.brand_filters=i;break;case"category_filters":if(!Array.isArray(e.category_filters))break;i=new m(t,"category_filters").setIncludes(["دسته بندی ها"]).getResultTitle(e.category_filters),l.category_filters=i;break;default:l[r]=e[r]}}),l};class m{setIncludes(e){var t;return this.includes=[...e],this.includes.length>0&&(this.filters=this.filters.filter(e=>this.includes.includes(null!==(t=null==e?void 0:e.title)&&void 0!==t?t:""))),this}setExcludes(e){var t;return this.excludes=[...e],this.excludes.length>0&&(this.filters=this.filters.filter(e=>!this.excludes.includes(null!==(t=null==e?void 0:e.title)&&void 0!==t?t:""))),this}getResult(e){let t=[];return e.forEach(e=>{let l=this.getActiveValue(e);l&&t.push({label:l.label,value:"".concat(this.prefix).concat(a.vY.separate).concat(l.value)})}),t}getResultTitle(e){let t=[];return e.forEach(e=>{let l=this.getActiveValue(e,!0);l&&t.push(l.label)}),t}getActiveValue(e,t){let l=null;return this.filters.forEach((i,r)=>{if(null==i?void 0:i.items){var a,s,n,o,c,u,d,f;let p=i.items.findIndex(t=>((null==t?void 0:t.code)&&!isNaN(+(null!==(a=t.code)&&void 0!==a?a:0))?+t.code:null==t?void 0:t.code)===(isNaN(+e)?e:+e));p>=0&&(l={label:"".concat((null===(s=this.filters[r])||void 0===s?void 0:s.title)&&!t?null===(n=null===(o=this.filters[r])||void 0===o?void 0:o.title)||void 0===n?void 0:n.concat(":"):""," ").concat(null!==(d=null===(c=i.items[p])||void 0===c?void 0:c.name)&&void 0!==d?d:""),value:null!==(f=null===(u=i.items[p])||void 0===u?void 0:u.code)&&void 0!==f?f:""})}}),l}constructor(e,t){this.filters=[],this.includes=[],this.excludes=[],this.prefix="",e&&(this.filters=e),this.prefix=t}}let h=(e,t)=>e?e.filter(e=>{var l,i,r,a;let s=null===(l=null==e?void 0:null===(i=e.name)||void 0===i?void 0:i.toLowerCase())||void 0===l?void 0:l.includes((null!=t?t:"").toLowerCase()),n=null===(r=null==e?void 0:null===(a=e.enName)||void 0===a?void 0:a.toLowerCase())||void 0===r?void 0:r.includes((null!=t?t:"").toLowerCase());return s||n}):[]},82018:function(e,t,l){l.d(t,{d:function(){return r},q:function(){return i}});let i={attribute_filters:"af",attributes:"af",available:"only_available",available_in_stock:"send_quick",brand_filters:"manufacturer_id",category_filters:"category_id",colors:"colors",limit:"limit",skip:"page",ordering:"ordering",price_max:"pto",price_min:"pfrom",marketing_groups:"marketingGroup",categories:"",brands:"",active:"",codes:"",date_sort:"",discount:"",end_date:"",locale:"",page_number:"",text:"keywords",start_date:"",is_approved:"",is_not_approved:""},r={af:"attribute_filters",only_available:"available",send_quick:"available_in_stock",manufacturer_id:"brand_filters",category_id:"category_filters",colors:"colors",limit:"limit",page:"skip",ordering:"ordering",pto:"price_max",pfrom:"price_min",marketingGroup:"marketing_groups",page_type:"page_type",active:"",codes:"",date_sort:"",discount:"",end_date:"",locale:"",page_number:"",text:"keywords",start_date:"",is_approved:"",is_not_approved:""}},25998:function(e,t,l){var i=l(85893),r=l(67294),a=l(93967),s=l.n(a),n=l(63404);let o=e=>{let{children:t,onClick:l,visible:r,size:a}=e;return(0,i.jsx)(n.Z,{children:(0,i.jsx)("div",{className:s()("no-scrollbar fixed inset-0 flex min-h-screen w-screen items-center justify-center overflow-scroll bg-black transition-all lg:overflow-auto",{invisible:!r,"bg-opacity-0":!r,"opacity-0":!r},{visible:r,"bg-opacity-30":r,"opacity-100":r}),style:{zIndex:r?10001:-1},onClick:()=>{null==l||l()},children:(0,i.jsx)("div",{className:s()("no-scrollbar fixed inset-0 z-[1000] flex min-h-screen w-screen items-center justify-center overflow-scroll bg-black transition-all lg:overflow-auto",{invisible:!r,"bg-opacity-0":!r,"opacity-0":!r},{visible:r,"bg-opacity-30":r,"opacity-100":r}),onClick:e=>{e.stopPropagation(),null==l||l()},children:(0,i.jsx)("div",{onClick:e=>{e.stopPropagation()},children:t})})})})};t.Z=(0,r.memo)(o)},22756:function(e,t,l){var i=l(85893),r=l(67294),a=l(11163),s=l(93967),n=l.n(s),o=l(81922),c=l(82018),u=l(78935),d=l(99650),f=l(55648),p=l(20514);let g=e=>{let{count:t,limit:l,idToScroll:s,startFromFirstPage:g}=e,v=(0,a.useRouter)(),{scrollToTop:m}=(0,d.Z)(),h=Math.ceil(t/(null!=l?l:o.cB.limit)),b=(0,r.useMemo)(()=>v.query[c.q.skip]&&!isNaN(+v.query[c.q.skip])?1>+v.query[c.q.skip]?1:+v.query[c.q.skip]>h?h:+v.query[c.q.skip]:g?1:h>p.gT.maxPlpInfinity?p.gT.maxPlpInfinity:h,[v.query[c.q.skip],h,p.gT.maxPlpInfinity,g]),_=(0,r.useMemo)(()=>{let e=0,t=Array(h>=7?7:h).fill(0);if(null===b||h<=7)return t.map((e,t)=>({page:t+1,click:!0}));let l=-1,i=-1;return b-4>0&&(l=1),h-4>=b&&(i=5),(e=b-4<=0?1:b+4>h?h-6:b-3)<=0&&(e=1),t.map((t,r)=>({click:(-1===l||1!==r)&&(-1===i||5!==r),page:-1!==l&&1===r||-1!==i&&5===r?"...":0===r?1:6===r?h:e+r}))},[b,t,l,h]),y=async e=>{if("string"!=typeof e){if(void 0!==s){let t=document.querySelector(s);null==t||t.scrollIntoView({behavior:"smooth",block:"start"})}else m()}};return 0===_.length?null:(0,i.jsxs)("div",{className:"flex w-full items-center justify-center",children:[(0,i.jsx)(f.Z,{href:{pathname:v.pathname,query:{...v.query,[c.q.skip]:(null!=b?b:2)-1}},shallow:!0,className:"h-6 w-6",disabled:1===b||null===b,children:(0,i.jsx)("button",{onClick:()=>{y((null!=b?b:2)-1)},disabled:1===b||null===b,className:"h-6 w-6 rounded-full bg-white shadow-50",children:(0,i.jsx)(u.Z,{name:"arrow-right",color:1===b||null===b?"fill-gray-400":void 0})})}),(0,i.jsx)("div",{className:"mx-6 flex items-center justify-center xl:mx-8",children:_.map(e=>(0,i.jsx)(f.Z,{href:{pathname:v.pathname,query:{...v.query,[c.q.skip]:e.page}},className:"ml-2 block last:ml-0",shallow:!0,disabled:!(e.click&&b!==e.page),children:(0,i.jsx)("button",{className:n()("ml-1.5 lg:ml-2 rounded-full border last:ml-0",{"h-7 w-7 lg:h-8 lg:w-8 border-gray-300 bg-transparent":b!==e.page,"h-8 w-8 lg:h-9 lg:w-9  border-primary-shade bg-primary-shade":b===e.page,"cursor-default":!e.click||b===e.page,"border-0 !w-[18px] lg:!w-8":"..."===e.page}),disabled:!(e.click&&b!==e.page),onClick:()=>{y(e.page)},children:(0,i.jsx)("span",{className:n()({"text-sm font-medium text-gray-700":b!==e.page,"text-base lg:text-[18px] font-semiBold text-white":b===e.page}),children:e.page})})},e.page+(1e6*Math.random()).toFixed(0)))}),(0,i.jsx)(f.Z,{href:{pathname:v.pathname,query:{...v.query,[c.q.skip]:(null!=b?b:1)+1}},className:"h-6 w-6",shallow:!0,disabled:b===_[(null!=_?_:[]).length-1].page,children:(0,i.jsx)("button",{onClick:()=>{y((null!=b?b:1)+1)},disabled:b===_[(null!=_?_:[]).length-1].page,className:"h-6 w-6 rounded-full bg-white shadow-50",children:(0,i.jsx)(u.Z,{name:"arrow-left",color:b===_[(null!=_?_:[]).length-1].page?"fill-gray-400":void 0})})})]})};t.Z=g},25417:function(e,t,l){l.d(t,{w:function(){return c}});var i=l(60475),r=l(90047),a=l(29433),s=l(92749),n=l(87871),o=l(88767);let c=e=>{let{endpoint:t,mutationInputData:l,queryObject:c,dependantQueries:u,options:d,enableTK:f=!1,enableLoading:p=!1}=e,g=(0,o.useQueryClient)(),v=(0,n.dQ)();return(0,o.useMutation)(e=>{p&&s.yW.show();let l=new r.Z().setEndPoint(t);return f&&l.addHeader("Authorization",(0,a.z)(null==v?void 0:v.btk)),l.request((0,i.T)(c),null!=e?e:{})},{...d,onSuccess:(e,t,l)=>{var i;return u&&function(e,t){for(let l of e)t.invalidateQueries(l)}(u,g),null==d?void 0:null===(i=d.onSuccess)||void 0===i?void 0:i.call(d,e,t,l)},onSettled:(e,t,l,i)=>{var r;return p&&s.yW.hide(),null==d?void 0:null===(r=d.onSettled)||void 0===r?void 0:r.call(d,e,t,l,i)}})}}}]);