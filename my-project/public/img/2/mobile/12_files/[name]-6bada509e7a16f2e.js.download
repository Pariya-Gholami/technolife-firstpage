(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3863],{74594:function(l,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sellers/[code]/[name]",function(){return i(19435)}])},8798:function(l,e,i){"use strict";i.d(e,{v:function(){return n}});let n=[{min:4.4,max:5,text:"عالی",color:"#142D67"},{min:3.4,max:4.4,text:"خیلی خوب",color:"#142D67"},{min:2.9,max:3.4,text:"خوب",color:"#142D67"},{min:1.9,max:2.9,text:"متوسط",color:"#6477A1"},{min:0,max:1.9,text:"ضعیف",color:"#890003"}]},64723:function(l,e,i){"use strict";var n=i(85893),o=i(55648),t=i(93967),s=i.n(t),d=i(67294);let r=l=>{var e;let{list:i,onClickItem:t}=l,r=(0,d.useMemo)(()=>(null!=i?i:[]).sort((l,e)=>{var i,n;return(null!==(i=null==l?void 0:l.position)&&void 0!==i?i:0)-(null!==(n=null==e?void 0:e.position)&&void 0!==n?n:0)}),[i]);return(0,n.jsx)("nav",{className:"w-full",children:(0,n.jsx)("ul",{className:"no-scrollbar flex gap-2.5 overflow-scroll px-4 xs:max-w-full 2md:mb-[9px] lg:px-0 xl:gap-[15px]",children:r.map((l,i)=>(0,n.jsx)("li",{onClick:()=>{null==t||t(l,i)},className:"breadcrumb-devider relative text-primary-tint-4 last:text-primary-shade-1",children:(0,n.jsx)(o.Z,{id:i===(null==r?void 0:r.length)-2?"breadcrumbParent":void 0,href:null!==(e=null==l?void 0:l.item)&&void 0!==e?e:"",className:s()("block whitespace-nowrap text-xs font-regular leading-4  xl:leading-[25px]"),children:null==l?void 0:l.name})},null==l?void 0:l.item))})})};e.Z=r},49877:function(l,e,i){"use strict";var n=i(85893),o=i(67294),t=i(93967),s=i.n(t),d=i(78935);let r=l=>{let{title:e,arrowSide:i,className:o,iconColor:t,iconSize:r,onClick:u,id:a,iconPosition:v}=l;return(0,n.jsxs)("div",{className:s()("flex items-center cursor-pointer",{"flex-row-reverse":"right"===v}),onClick:u,id:null!=a?a:void 0,children:[(0,n.jsx)("p",{className:s()("text-xs font-semiBold text-primary-shade",o),children:e}),(0,n.jsx)(d.Z,{size:s()(r,{"w-[18px] h-[18px] lg:w-6 lg:h-6":!r}),name:"arrow-".concat(null!=i?i:"left"),color:s()(t,{"fill-primary-shade":!t}),className:""})]})};e.Z=(0,o.memo)(r)},82669:function(l,e,i){"use strict";var n=i(85893),o=i(49877),t=i(24421),s=i(67294),d=i(93967),r=i.n(d);e.Z=(0,s.memo)(function(l){let{className:e,content:i}=l,[d,u]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{u(!1)},[]),(0,n.jsxs)("article",{className:r()("border-t border-gray-300 pt-6  lg:pt-8 ",e),children:[(0,n.jsxs)("div",{className:" relative",children:[(0,n.jsx)("div",{className:r()("product_article h-[140px] overflow-hidden lg:h-[295px]",{"!h-auto !overflow-auto":d}),dangerouslySetInnerHTML:{__html:null!=i?i:""}}),(0,n.jsx)(t.Z,{visible:!d,children:(0,n.jsx)("div",{className:" absolute bottom-0 right-0 z-10 h-[90px] w-full bg-gradient-to-t from-white lg:h-[142px]"})})]}),(0,n.jsx)(t.Z,{visible:!d,children:(0,n.jsx)("div",{onClick:()=>u(!0),children:(0,n.jsx)(o.Z,{title:"نمایش بیشتر",arrowSide:"bottom",className:"!text-sm !font-medium lg:!text-lg"})})}),(0,n.jsx)(t.Z,{visible:d,children:(0,n.jsx)("div",{onClick:()=>u(!1),children:(0,n.jsx)(o.Z,{title:"بستن",arrowSide:"top",className:"!text-sm !font-medium lg:!text-lg"})})})]})})},19435:function(l,e,i){"use strict";i.r(e),i.d(e,{__N_SSP:function(){return V},default:function(){return H}});var n,o,t,s,d=i(85893),r=i(67294),u=i(11163),a=i(93967),v=i.n(a),c=i(81922),x=i(26590),p=i(56297),m=i(84866),f=i(42153),g=i(92749),h=i(58300),j=i(32993),b=i(57243),_=i(82669),w=i(19981),y=i(24421),N=i(63049),C=i(46262),Z=i(32268),k=i(70214),P=i(87871),q=i(6821),E=i(74006),M=i(22756),D=i(42118),R=i(20514),S=i(36447);let F=(0,r.createContext)(null);function J(l){var e;let{children:i,sellerProductFilters:n,sellerFilters:o}=l,t=(0,u.useRouter)(),{data:s}=(0,h.YR)(o),a=(0,b.i)(),c=(0,r.useMemo)(()=>(0,q.tR)(t.query),[t.query]),x=(0,r.useMemo)(()=>(0,g._D)({...n,filterObj:{...c}}),[n,c]),p=(0,r.useMemo)(()=>{var l;return!(0,g.Ke)(null==x?void 0:null===(l=x.filterObj)||void 0===l?void 0:l.skip)},[x]),{data:m,isLoading:f,isFetching:j,fetchNextPage:_,isFetchingNextPage:w,hasNextPage:N}=(0,h.vc)(x,{enabled:p,keepPreviousData:!0}),{data:C,isFetching:Z}=(0,h.p_)(x,{enabled:!p,keepPreviousData:!0});(0,r.useEffect)(()=>(Z||j||w?g.yW.show():g.yW.hide(),()=>{g.yW.hide()}),[Z,j,w]);let k=(0,r.useMemo)(()=>(0,D.hq)(p,C,m),[p,C,m]),P=(0,r.useMemo)(()=>{var l,e,i,n,o,t;return p?null!==(o=null==m?void 0:null===(l=m.pages)||void 0===l?void 0:null===(e=l[0])||void 0===e?void 0:null===(i=e.bread_crumb)||void 0===i?void 0:i.filter(l=>null!==l))&&void 0!==o?o:[]:null!==(t=null==C?void 0:null===(n=C.bread_crumb)||void 0===n?void 0:n.filter(l=>null!==l))&&void 0!==t?t:[]},[p,C,m]),J=(0,r.useMemo)(()=>{var l,e,i,n;return p?null!==(i=null==m?void 0:null===(l=m.pages)||void 0===l?void 0:null===(e=l[0])||void 0===e?void 0:e.sellers_info)&&void 0!==i?i:{}:null!==(n=null==C?void 0:C.sellers_info)&&void 0!==n?n:{}},[p,C,m]),O=()=>{!N||j||w||f||_()},Y=(0,r.useMemo)(()=>{var l,e,i,n;return p?null!==(i=null==m?void 0:null===(l=m.pages)||void 0===l?void 0:l.length)&&void 0!==i?i:0:null!==(n=null===(e=x.filterObj)||void 0===e?void 0:e.skip)&&void 0!==n?n:1},[x,p,m]),B=(0,r.useMemo)(()=>c&&(null==s?void 0:s.page_filters)?(0,q.Ji)(null!=c?c:{},null==s?void 0:s.page_filters):null,[c,null==s?void 0:s.page_filters]),I=(l,e)=>{var i,n,o,t,s,d,r,u,a;S.q.setEvent(l,{plp_name:null!==(d=null==P?void 0:null===(i=P[(null==P?void 0:P.length)-1])||void 0===i?void 0:i.name)&&void 0!==d?d:"",vertical:null!==(r=null==P?void 0:null===(n=P[(null==P?void 0:P.length)-1])||void 0===n?void 0:n.name)&&void 0!==r?r:"",leaf_category:null!==(u=null==P?void 0:null===(o=P[(null==P?void 0:P.length)-1])||void 0===o?void 0:o.name)&&void 0!==u?u:"",place:"plp",total_product_count:null!==(a=null==k?void 0:k.count)&&void 0!==a?a:0,total_available_product_count:(null==k?void 0:null===(t=k.results)||void 0===t?void 0:t.reduce((l,e)=>{var i;return l+(null!==(i=null==e?void 0:e.available)&&void 0!==i?i:0)},0))||0,page:p?Y||1:((null===(s=x.filterObj)||void 0===s?void 0:s.skip)||0)+1,filter:null!=B?B:{},...e})};return(0,r.useEffect)(()=>{B&&I("plp_page_view")},[B,Y]),(0,d.jsxs)(F.Provider,{value:{products:k,filters:c,breadcrumbs:P,sellersInfo:J},children:[i,(0,d.jsx)(y.Z,{visible:p&&!!N&&Y<R.gT.maxPlpInfinity,children:(0,d.jsx)(E.p,{isReachEnd:!N,onEndReached:O})}),(0,d.jsx)("div",{className:v()("my-8 lg:my-16 w-full opacity-0",{"pr-[298px]":!!(null==a?void 0:a.status),"!opacity-100":p&&!N||!p||Y>=R.gT.maxPlpInfinity}),children:(0,d.jsx)(M.Z,{count:null!==(e=null==k?void 0:k.count)&&void 0!==e?e:0})})]})}var O=i(17789),Y=i(5598),B=i(34023),I=i(44533),T=i(99650),G=i(64723),W=i(30518);let z=[{image:null===W._C||void 0===W._C?void 0:null===(n=W._C.sellers)||void 0===n?void 0:n.score,type:"score",title:"عملکرد کلی"},{image:null===W._C||void 0===W._C?void 0:null===(o=W._C.sellers)||void 0===o?void 0:o.supply,type:"supply",title:"تحویل کالا"},{image:null===W._C||void 0===W._C?void 0:null===(t=W._C.sellers)||void 0===t?void 0:t.faultless,type:"faultless",title:"بدون مرجوعی"},{image:null===W._C||void 0===W._C?void 0:null===(s=W._C.sellers)||void 0===s?void 0:s.on_schedule,type:"on_schedule",title:"تحویل به موقع"}];var A=i(7077),L=i(8798);let X=l=>{var e,i,n,o,t,s;let{data:u}=l,a=(0,r.useMemo)(()=>!!((null==u?void 0:u.score)||(null==u?void 0:u.faultless)||(null==u?void 0:u.on_schedule)||(null==u?void 0:u.supply)),[u]),v=(null==u?void 0:u.score)&&null!==(o=null===L.v||void 0===L.v?void 0:L.v.find(l=>(null==l?void 0:l.min)<(null!==(i=null==u?void 0:u.score)&&void 0!==i?i:0)&&(null!==(n=null==u?void 0:u.score)&&void 0!==n?n:0)<=(null==l?void 0:l.max)))&&void 0!==o?o:null;return(0,d.jsxs)("section",{className:"mt-2 mb-8 lg:mb-16 mx-4 max-w-full lg:mx-0 lg:w-full h-auto py-5 px-4 lg:py-9 relative rounded-2xl overflow-hidden",children:[(0,d.jsx)(A.E,{className:"w-full h-full absolute top-0 left-0 object-cover object-center",src:null===W._C||void 0===W._C?void 0:null===(e=W._C.sellers)||void 0===e?void 0:e.background,alt:null!==(t=null==u?void 0:u.fa_name)&&void 0!==t?t:""}),(0,d.jsxs)("h1",{className:"relative font-semiBold text-base leading-6 lg:text-[32px] lg:leading-12 text-primary-shade-1 text-center ",children:["فروشگاه ",null==u?void 0:u.fa_name]}),(0,d.jsx)(y.Z,{visible:a,children:(0,d.jsxs)("ul",{className:"mt-6 lg:mt-12 bg-white w-full rounded-2xl shadow-light flex flex-wrap lg:flex-nowrap lg:py-6 lg:px-9 lg:gap-x-16 lg:w-fit lg:mx-auto relative",children:[(0,d.jsx)("span",{className:"block absolute left-1/2 top-0 w-[1px] h-full gradientDividerY lg:left-1/4"}),(0,d.jsx)("span",{className:"hidden lg:block absolute top-0 w-[1px] h-full gradientDividerY lg:left-1/2"}),(0,d.jsx)("span",{className:"hidden lg:block absolute top-0 w-[1px] h-full gradientDividerY lg:left-3/4"}),(0,d.jsx)("span",{className:"block absolute lg:hidden left-0 top-1/2 w-full h-[1px] gradientDividerX"}),z.map((l,e)=>(0,d.jsxs)("li",{className:" flex w-1/2 lg:w-[156px] py-6 lg:py-0 gap-4 lg:gap-6 flex-col justify-center items-center",children:["score"===l.type?(0,d.jsx)("span",{className:"text-xl lg:text-2xl lg:leading-9 font-semiBold ",style:{color:(null==v?void 0:v.color)==="#142D67"?"#198038":null==v?void 0:v.color},children:null==v?void 0:v.text}):(0,d.jsxs)("span",{className:"flex items-center font-medium text-xl text-green-700 pr-2 lg:text-2xl lg:font-semiBold lg:leading-9",children:["%",String(null!==(s=null==u?void 0:u[l.type])&&void 0!==s?s:"")]}),(0,d.jsx)("p",{className:"flex items-center justify-center font-medium text-sm leading-5 text-gray-800 lg:text-base lg:font-semiBold lg:leading-7 ",children:l.title})]},e))]})})]})},K=l=>{var e,i,n,o,t,s,a,c;let{sellerFilters:x,sellerProductFilters:p}=l,f=(0,u.useRouter)(),{scrollToTop:g}=(0,T.Z)(),j=(0,r.useContext)(F),{data:b}=(0,h.YR)(x),_=(0,r.useMemo)(()=>{var l;return(0,q.m8)(null!==(l=null==j?void 0:j.filters)&&void 0!==l?l:{},null==b?void 0:b.page_filters)},[null==j?void 0:j.filters,null==b?void 0:b.page_filters]),w=(0,r.useCallback)(l=>{let e=l?(0,q.Ig)(l):{};g(),f.push({pathname:f.pathname,query:{...e,code:f.query.code,name:f.query.name}},void 0,{shallow:!0})},[f]),N=l=>{var e;let i={...null!==(e=null==j?void 0:j.filters)&&void 0!==e?e:{}};i.ordering&&i.ordering===l?delete i.ordering:i.ordering=l,w(i)},{list:C}=null!==(s=(0,m.O)())&&void 0!==s?s:{};return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"px-4 pt-4",children:(0,d.jsx)(G.Z,{list:null==j?void 0:j.breadcrumbs})}),(0,d.jsx)(X,{data:null==j?void 0:j.sellersInfo}),(0,d.jsx)("div",{className:v()(" sticky top-[45px] z-20 w-full bg-white p-4"),children:(0,d.jsx)(O.Y,{summaryFilters:_,filters:null!==(a=null==j?void 0:j.filters)&&void 0!==a?a:{},onChangeOrder:N,onChangeRoute:w,banners:null==j?void 0:null===(e=j.products)||void 0===e?void 0:e.banners,productFilters:null==b?void 0:b.page_filters,btnName:"مقایسه"})}),(0,d.jsx)("div",{className:v()("w-full bg-white px-4 transition-all",{"sticky top-[110px] z-10 pb-4":(null==C?void 0:C.length)>0}),children:(0,d.jsx)(I.Z,{productsCount:null!==(c=null==j?void 0:null===(i=j.products)||void 0===i?void 0:i.count)&&void 0!==c?c:0})}),(0,d.jsx)(y.Z,{visible:(null==j?void 0:null===(n=j.products)||void 0===n?void 0:n.count)!==0,children:(0,d.jsx)(Y.w,{data:null==j?void 0:null===(o=j.products)||void 0===o?void 0:o.results})}),(0,d.jsx)(y.Z,{visible:(null==j?void 0:null===(t=j.products)||void 0===t?void 0:t.count)===0,children:(0,d.jsx)(B.Z,{})})]})};var V=!0;function H(l){let{sellerProductFilters:e,sellerFilters:i,isGoogleBot:n,seoData:o,breadCrumbs:t}=l,s=(0,u.useRouter)(),{data:a,error:q}=(0,h.YR)(i),E=(0,C.G)(),M=(0,r.useRef)(!1);(0,r.useEffect)(()=>{E&&(M.current||(M.current=!0,null==E||E.emitAnalyticFn(()=>{var l;Z.G.pageView.productListSeller({sellerCode:(null===(l=i.codes)||void 0===l?void 0:l[0])||""})})))},[E,i.codes]);let D=(0,r.useMemo)(()=>{if(!o)return c.J3.Plp;{var l,e;c.J3.Plp.canonical=o?(null!==(e=f.x2+o.canonical)&&void 0!==e?e:"").toLowerCase():"",c.J3.Plp.noindex=!o||!1!==o.no_index,c.J3.Plp.nofollow=!o||!1!==o.no_index;let i=null===(l=c.J3.Plp.additionalMetaTags)||void 0===l?void 0:l.find(l=>"googlebot"===l.name);return i&&(i.content=c.J3.Plp.nofollow?"noindex,nofollow":"index,follow"),(0,j.Iu)((0,j.X5)(c.J3.Plp,o))}},[o]);return(0,r.useEffect)(()=>{w.Wi.logPageView()},[s.query.code,s.query.name]),(0,r.useEffect)(()=>{s.query.category&&s.query.action&&w.Wi.logEvent((0,g.wt)(s.query.category),(0,g.wt)(s.query.action))},[s.query.category,s.query.action]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(x.Z,{searchLinksGP:!0,...D,breadCrumbSchema:null!=t?t:void 0,affili:!0}),(0,d.jsx)(P.Kb,{children:(0,d.jsx)(p.Z,{showBannerNav:!0,disableGA:!0,children:(0,d.jsx)(m.D,{isAllowed:!!(null==a?void 0:a.show_compare),children:(0,d.jsxs)(b.Z,{defaultStatus:!1,children:[(0,d.jsx)(J,{sellerProductFilters:e,sellerFilters:i,children:(0,d.jsx)(k.j,{isGoogle:n,children:(0,d.jsx)(K,{sellerFilters:i})})}),(0,d.jsx)(y.Z,{visible:!!(null==o?void 0:o.critique),children:(0,d.jsx)("div",{className:v()(" pt-[3px]"),children:(0,d.jsx)(_.Z,{content:null==o?void 0:o.critique,className:v()("border-gray-200 pl-[11px] pr-4")})})})]})})})}),(0,d.jsx)(N.K,{})]})}}},function(l){l.O(0,[2962,9397,1664,6469,1915,2192,7465,2077,1009,6073,8369,405,9774,2888,179],function(){return l(l.s=74594)}),_N_E=l.O()}]);