"use strict";(()=>{var ws=Object.defineProperty;var xs=(e,r)=>{for(var t in r)ws(e,t,{get:r[t],enumerable:!0})};var Ri,Ss=[/۰/g,/۱/g,/۲/g,/۳/g,/۴/g,/۵/g,/۶/g,/۷/g,/۸/g,/۹/g],Es=[/٠/g,/١/g,/٢/g,/٣/g,/٤/g,/٥/g,/٦/g,/٧/g,/٨/g,/٩/g],Ts=e=>{for(let r=0;r<10;r++)e=e.replace(Ss[r],r.toString()).replace(Es[r],r.toString());return e},Jr=e=>e.replace(/\r?\n|\r/g,"").trim(),pr=class{#e;#t;constructor(r){this.#t=r,this.#e=r.property_selectors}pageData(){let r=!1,t=Object.keys(this.#e).reduce((n,i)=>((this.#e[i].required||this.#e[i].code||this.#e[i].selector)&&(n[i]=this.#n(this.#e[i],i),!n[i]&&this.#e[i].required&&(r=!0)),n),{});if(!r)return t}#n(r,t){return r.code?this.#i(r):this.#a(r,t)}#i(r){let t=new Function(Jr(r.code));try{return t()}catch{return""}}#o(r){return r.selector.split("|").map(n=>({required:r.required,code:r.code,selector:n}))}#a(r,t){let n=this.#o(r),i="";for(r of n)if(t==="image"?i=this.#s(r):i=this.#u(r,t),i)break;return(t==="price"||t==="old_price")&&(i=Ts(i).replace(/\D/g,"")),i}#s({selector:r}){let t=document.querySelector(r);if(!t)return"";let n=a=>a.startsWith("http")?a:null,i=["src","data-src","href"],o=null;for(let a of i)if(o=t.getAttribute(a),o&&n(o))break;return o??""}static FullCategorySeparator="///";#u({selector:r},t){let n=document.querySelector(r);if(!n)return"";let i="";if(n.hasChildNodes())if(t==="full_category"){let o=new Set,a=new Set;this.#r(Array.from(n.childNodes)).map(l=>l.toString().trim()).filter(l=>!!l).reduce((l,u,c,d)=>((!this.#t.remove_last_category||c!==d.length-1)&&l.push(u),l),[]).forEach(l=>{o.has(l)?a.add(l):o.add(l)}),a.forEach(l=>{o.delete(l)});let s=[...o].map(l=>Jr(l));a.forEach(l=>{s=s.map(u=>u.replaceAll(l,""))}),i=s.join(Ri.FullCategorySeparator)}else i=Array.from(n.childNodes).filter(o=>o.nodeType===Node.TEXT_NODE).map(o=>Jr(o.textContent??"")).join("");return i}#r(r){let t=[];return r.forEach(n=>{n.nodeType===Node.TEXT_NODE&&n.textContent?t.push(n.textContent):t=[...t,...this.#r(Array.from(n.childNodes))]}),t}};Ri=pr;var hr=pr;var Ai=["42"];var Rt=()=>{let{hostname:e}=window.location;return e.includes("pegah.tech")||e.includes("stage")||e.includes("staging")||e.includes("localhost")};var At=class e{static extractAdvertiserIdFromUrl(r){let n=/\/serve\/([^/]+)\/retargeting\.js/.exec(r);return n?n[1]:null}static extractUniqueAdvertiserIds(){let r=new Set;if(document.currentScript instanceof HTMLScriptElement){let n=e.extractAdvertiserIdFromUrl(document.currentScript.src);n&&r.add(n)}return Array.from(document.getElementsByTagName("script")).forEach(n=>{if(n.src){let i=e.extractAdvertiserIdFromUrl(n.src);i&&r.add(i)}}),r.size<=0&&Rt()?[...Ai]:[...r]}};var Vr=function(e,r){return Vr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Vr(e,r)};function Pe(e,r){Vr(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var A=function(){return A=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},A.apply(this,arguments)};function xe(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o}function Qr(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(xe(arguments[r]));return e}var M;(function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"})(M||(M={}));function ks(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o}function Di(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(ks(arguments[r]));return e}var m=function(){return m=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},m.apply(this,arguments)};function Os(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o}function Ue(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(Os(arguments[r]));return e}function Ci(e){e.then(null,function(r){})}function Pi(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function ct(){return!Pi()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ui(e,r){return e.require(r)}var Is={};function k(){return ct()?global:typeof window<"u"?window:typeof self<"u"?self:Is}function lt(e,r,t){var n=t||k(),i=n.__SENTRY__=n.__SENTRY__||{},o=i[e]||(i[e]=r());return o}var Ni=Object.prototype.toString;function ft(e){switch(Ni.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return ue(e,Error)}}function dt(e,r){return Ni.call(e)==="[object "+r+"]"}function _r(e){return dt(e,"ErrorEvent")}function en(e){return dt(e,"DOMError")}function Li(e){return dt(e,"DOMException")}function he(e){return dt(e,"String")}function Ye(e){return e===null||typeof e!="object"&&typeof e!="function"}function _e(e){return dt(e,"Object")}function Ke(e){return typeof Event<"u"&&ue(e,Event)}function Mi(e){return typeof Element<"u"&&ue(e,Element)}function ji(e){return dt(e,"RegExp")}function pt(e){return!!(e&&e.then&&typeof e.then=="function")}function zi(e){return _e(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Fi(e){return typeof e=="number"&&e!==e}function ue(e,r){try{return e instanceof r}catch{return!1}}function Dt(e,r){try{for(var t=e,n=5,i=80,o=[],a=0,s=0,l=" > ",u=l.length,c=void 0;t&&a++<n&&(c=Rs(t,r),!(c==="html"||a>1&&s+o.length*u+c.length>=i));)o.push(c),s+=c.length,t=t.parentNode;return o.reverse().join(l)}catch{return"<unknown>"}}function Rs(e,r){var t=e,n=[],i,o,a,s,l;if(!t||!t.tagName)return"";n.push(t.tagName.toLowerCase());var u=r&&r.length?r.filter(function(d){return t.getAttribute(d)}).map(function(d){return[d,t.getAttribute(d)]}):null;if(u&&u.length)u.forEach(function(d){n.push("["+d[0]+'="'+d[1]+'"]')});else if(t.id&&n.push("#"+t.id),i=t.className,i&&he(i))for(o=i.split(/\s+/),l=0;l<o.length;l++)n.push("."+o[l]);var c=["type","name","title","alt"];for(l=0;l<c.length;l++)a=c[l],s=t.getAttribute(a),s&&n.push("["+a+'="'+s+'"]');return n.join("")}function Bi(){var e=k();try{return e.document.location.href}catch{return""}}var tn=function(e,r){return tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},tn(e,r)};function Hi(e,r){tn(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var $=function(){return $=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},$.apply(this,arguments)};function me(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o}function rn(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(ce(arguments[r]));return e}var $i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?As:Ds);function As(e,r){return e.__proto__=r,e}function Ds(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(e,t)||(e[t]=r[t]);return e}var j=function(e){Hi(r,e);function r(t){var n=this.constructor,i=e.call(this,t)||this;return i.message=t,i.name=n.prototype.constructor.name,$i(i,n.prototype),i}return r}(Error);var ge=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__;var Cs=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ps(e){return e==="http"||e==="https"}function Ne(e,r){r===void 0&&(r=!1);var t=e.host,n=e.path,i=e.pass,o=e.port,a=e.projectId,s=e.protocol,l=e.publicKey;return s+"://"+l+(r&&i?":"+i:"")+("@"+t+(o?":"+o:"")+"/"+(n&&n+"/")+a)}function Us(e){var r=Cs.exec(e);if(!r)throw new j("Invalid Sentry Dsn: "+e);var t=ce(r.slice(1),6),n=t[0],i=t[1],o=t[2],a=o===void 0?"":o,s=t[3],l=t[4],u=l===void 0?"":l,c=t[5],d="",p=c,f=p.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),p=f.pop()),p){var h=p.match(/^\d+/);h&&(p=h[0])}return Zi({host:s,pass:a,path:d,projectId:p,port:u,protocol:n,publicKey:i})}function Zi(e){return"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),{user:e.publicKey||"",protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Ns(e){if(ge){var r=e.port,t=e.projectId,n=e.protocol,i=["protocol","publicKey","host","projectId"];if(i.forEach(function(o){if(!e[o])throw new j("Invalid Sentry Dsn: "+o+" missing")}),!t.match(/^\d+$/))throw new j("Invalid Sentry Dsn: Invalid projectId "+t);if(!Ps(n))throw new j("Invalid Sentry Dsn: Invalid protocol "+n);if(r&&isNaN(parseInt(r,10)))throw new j("Invalid Sentry Dsn: Invalid port "+r);return!0}}function ht(e){var r=typeof e=="string"?Us(e):Zi(e);return Ns(r),r}var qi=["fatal","error","warning","log","info","debug","critical"];var Ls=k(),Ms="Sentry Logger ",Ct=["debug","info","warn","error","log","assert"];function nn(e){var r=k();if(!("console"in r))return e();var t=r.console,n={};Ct.forEach(function(i){var o=t[i]&&t[i].__sentry_original__;i in r.console&&o&&(n[i]=t[i],t[i]=o)});try{return e()}finally{Object.keys(n).forEach(function(i){t[i]=n[i]})}}function Gi(){var e=!1,r={enable:function(){e=!0},disable:function(){e=!1}};return ge?Ct.forEach(function(t){r[t]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e&&nn(function(){var o;(o=Ls.console)[t].apply(o,rn([Ms+"["+t+"]:"],n))})}}):Ct.forEach(function(t){r[t]=function(){}}),r}var y;ge?y=lt("logger",Gi):y=Gi();function Xe(e,r){return r===void 0&&(r=0),typeof e!="string"||r===0||e.length<=r?e:e.substr(0,r)+"..."}function on(e,r){if(!Array.isArray(e))return"";for(var t=[],n=0;n<e.length;n++){var i=e[n];try{t.push(String(i))}catch{t.push("[value cannot be serialized]")}}return t.join(r)}function mr(e,r){return he(e)?ji(r)?r.test(e):typeof r=="string"?e.indexOf(r)!==-1:!1:!1}function G(e,r,t){if(r in e){var n=e[r],i=t(n);if(typeof i=="function")try{an(i,n)}catch{}e[r]=i}}function Je(e,r,t){Object.defineProperty(e,r,{value:t,writable:!0,configurable:!0})}function an(e,r){var t=r.prototype||{};e.prototype=r.prototype=t,Je(e,"__sentry_original__",r)}function _t(e){return e.__sentry_original__}function Ki(e){return Object.keys(e).map(function(r){return encodeURIComponent(r)+"="+encodeURIComponent(e[r])}).join("&")}function sn(e){var r=e;if(ft(e))r=$({message:e.message,name:e.name,stack:e.stack},Yi(e));else if(Ke(e)){var t=e;r=$({type:t.type,target:Wi(t.target),currentTarget:Wi(t.currentTarget)},Yi(t)),typeof CustomEvent<"u"&&ue(e,CustomEvent)&&(r.detail=t.detail)}return r}function Wi(e){try{return Mi(e)?Dt(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Yi(e){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r}function Xi(e,r){r===void 0&&(r=40);var t=Object.keys(sn(e));if(t.sort(),!t.length)return"[object has no keys]";if(t[0].length>=r)return Xe(t[0],r);for(var n=t.length;n>0;n--){var i=t.slice(0,n).join(", ");if(!(i.length>r))return n===t.length?i:Xe(i,r)}return""}function gr(e){var r,t;if(_e(e)){var n={};try{for(var i=me(Object.keys(e)),o=i.next();!o.done;o=i.next()){var a=o.value;typeof e[a]<"u"&&(n[a]=gr(e[a]))}}catch(s){r={error:s}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return n}return Array.isArray(e)?e.map(gr):e}var js=50;function Ji(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=e.sort(function(n,i){return n[0]-i[0]}).map(function(n){return n[1]});return function(n,i){var o,a,s,l;i===void 0&&(i=0);var u=[];try{for(var c=me(n.split(`
`).slice(i)),d=c.next();!d.done;d=c.next()){var p=d.value;try{for(var f=(s=void 0,me(t)),h=f.next();!h.done;h=f.next()){var R=h.value,b=R(p);if(b){u.push(b);break}}}catch(g){s={error:g}}finally{try{h&&!h.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}}}catch(g){o={error:g}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return zs(u)}}function zs(e){if(!e.length)return[];var r=e,t=r[0].function||"",n=r[r.length-1].function||"";return(t.indexOf("captureMessage")!==-1||t.indexOf("captureException")!==-1)&&(r=r.slice(1)),n.indexOf("sentryWrapped")!==-1&&(r=r.slice(0,-1)),r.slice(0,js).map(function(i){return $($({},i),{filename:i.filename||r[0].filename,function:i.function||"?"})}).reverse()}var un="<anonymous>";function le(e){try{return!e||typeof e!="function"?un:e.name||un}catch{return un}}function mt(){if(!("fetch"in k()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function vr(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Vi(){if(!mt())return!1;var e=k();if(vr(e.fetch))return!0;var r=!1,t=e.document;if(t&&typeof t.createElement=="function")try{var n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(r=vr(n.contentWindow.fetch)),t.head.removeChild(n)}catch(i){ge&&y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return r}function Qi(){if(!mt())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}function eo(){var e=k(),r=e.chrome,t=r&&r.app&&r.app.runtime,n="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!t&&n}var F=k(),Pt={},to={};function Fs(e){if(!to[e])switch(to[e]=!0,e){case"console":Bs();break;case"dom":Xs();break;case"xhr":qs();break;case"fetch":Hs();break;case"history":Gs();break;case"error":Js();break;case"unhandledrejection":Vs();break;default:ge&&y.warn("unknown instrumentation type:",e);return}}function Se(e,r){Pt[e]=Pt[e]||[],Pt[e].push(r),Fs(e)}function fe(e,r){var t,n;if(!(!e||!Pt[e]))try{for(var i=me(Pt[e]||[]),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(r)}catch(s){ge&&y.error(`Error while triggering instrumentation handler.
Type: `+e+`
Name: `+le(a)+`
Error:`,s)}}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}function Bs(){"console"in F&&Ct.forEach(function(e){e in F.console&&G(F.console,e,function(r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];fe("console",{args:t,level:e}),r&&r.apply(F.console,t)}})})}function Hs(){Vi()&&G(F,"fetch",function(e){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n={args:r,fetchData:{method:$s(r),url:Zs(r)},startTimestamp:Date.now()};return fe("fetch",$({},n)),e.apply(F,r).then(function(i){return fe("fetch",$($({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw fe("fetch",$($({},n),{endTimestamp:Date.now(),error:i})),i})}})}function $s(e){return e===void 0&&(e=[]),"Request"in F&&ue(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function Zs(e){return e===void 0&&(e=[]),typeof e[0]=="string"?e[0]:"Request"in F&&ue(e[0],Request)?e[0].url:String(e[0])}function qs(){if("XMLHttpRequest"in F){var e=XMLHttpRequest.prototype;G(e,"open",function(r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this,o=t[1],a=i.__sentry_xhr__={method:he(t[0])?t[0].toUpperCase():t[0],url:t[1]};he(o)&&a.method==="POST"&&o.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var s=function(){if(i.readyState===4){try{a.status_code=i.status}catch{}fe("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&typeof i.onreadystatechange=="function"?G(i,"onreadystatechange",function(l){return function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return s(),l.apply(i,u)}}):i.addEventListener("readystatechange",s),r.apply(i,t)}}),G(e,"send",function(r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.__sentry_xhr__&&t[0]!==void 0&&(this.__sentry_xhr__.body=t[0]),fe("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),r.apply(this,t)}})}}var yr;function Gs(){if(!eo())return;var e=F.onpopstate;F.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=F.location.href,o=yr;if(yr=i,fe("history",{from:o,to:i}),e)try{return e.apply(this,t)}catch{}};function r(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n.length>2?n[2]:void 0;if(o){var a=yr,s=String(o);yr=s,fe("history",{from:a,to:s})}return t.apply(this,n)}}G(F.history,"pushState",r),G(F.history,"replaceState",r)}var Ws=1e3,br,wr;function Ys(e,r){if(!e||e.type!==r.type)return!0;try{if(e.target!==r.target)return!0}catch{}return!1}function Ks(e){if(e.type!=="keypress")return!1;try{var r=e.target;if(!r||!r.tagName)return!0;if(r.tagName==="INPUT"||r.tagName==="TEXTAREA"||r.isContentEditable)return!1}catch{}return!0}function ro(e,r){return r===void 0&&(r=!1),function(t){if(!(!t||wr===t)&&!Ks(t)){var n=t.type==="keypress"?"input":t.type;br===void 0?(e({event:t,name:n,global:r}),wr=t):Ys(wr,t)&&(e({event:t,name:n,global:r}),wr=t),clearTimeout(br),br=F.setTimeout(function(){br=void 0},Ws)}}}function Xs(){if("document"in F){var e=fe.bind(null,"dom"),r=ro(e,!0);F.document.addEventListener("click",r,!1),F.document.addEventListener("keypress",r,!1),["EventTarget","Node"].forEach(function(t){var n=F[t]&&F[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(G(n,"addEventListener",function(i){return function(o,a,s){if(o==="click"||o=="keypress")try{var l=this,u=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},c=u[o]=u[o]||{refCount:0};if(!c.handler){var d=ro(e);c.handler=d,i.call(this,o,d,s)}c.refCount+=1}catch{}return i.call(this,o,a,s)}}),G(n,"removeEventListener",function(i){return function(o,a,s){if(o==="click"||o=="keypress")try{var l=this,u=l.__sentry_instrumentation_handlers__||{},c=u[o];c&&(c.refCount-=1,c.refCount<=0&&(i.call(this,o,c.handler,s),c.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,s)}}))})}}var cn=null;function Js(){cn=F.onerror,F.onerror=function(e,r,t,n,i){return fe("error",{column:n,error:i,line:t,msg:e,url:r}),cn?cn.apply(this,arguments):!1}}var ln=null;function Vs(){ln=F.onunhandledrejection,F.onunhandledrejection=function(e){return fe("unhandledrejection",e),ln?ln.apply(this,arguments):!0}}function no(){var e=typeof WeakSet=="function",r=e?new WeakSet:[];function t(i){if(e)return r.has(i)?!0:(r.add(i),!1);for(var o=0;o<r.length;o++){var a=r[o];if(a===i)return!0}return r.push(i),!1}function n(i){if(e)r.delete(i);else for(var o=0;o<r.length;o++)if(r[o]===i){r.splice(o,1);break}}return[t,n]}function Ee(){var e=k(),r=e.crypto||e.msCrypto;if(r!==void 0&&r.getRandomValues){var t=new Uint16Array(8);r.getRandomValues(t),t[3]=t[3]&4095|16384,t[4]=t[4]&16383|32768;var n=function(i){for(var o=i.toString(16);o.length<4;)o="0"+o;return o};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var o=Math.random()*16|0,a=i==="x"?o:o&3|8;return a.toString(16)})}function xr(e){if(!e)return{};var r=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!r)return{};var t=r[6]||"",n=r[8]||"";return{host:r[4],path:r[5],protocol:r[2],relative:r[5]+t+n}}function io(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Te(e){var r=e.message,t=e.event_id;if(r)return r;var n=io(e);return n?n.type&&n.value?n.type+": "+n.value:n.type||n.value||t||"<unknown>":t||"<unknown>"}function Ut(e,r,t){var n=e.exception=e.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=r||""),o.type||(o.type=t||"Error")}function Le(e,r){var t=io(e);if(t){var n={type:"generic",handled:!0},i=t.mechanism;if(t.mechanism=$($($({},n),i),r),r&&"data"in r){var o=$($({},i&&i.data),r.data);t.mechanism.data=o}}}function fn(e){if(e&&e.__sentry_captured__)return!0;try{Je(e,"__sentry_captured__",!0)}catch{}return!1}function ke(e,r,t){r===void 0&&(r=1/0),t===void 0&&(t=1/0);try{return oo("",e,r,t)}catch(n){return{ERROR:"**non-serializable** ("+n+")"}}}function dn(e,r,t){r===void 0&&(r=3),t===void 0&&(t=100*1024);var n=ke(e,r);return tu(n)>t?dn(e,r-1,t):n}function oo(e,r,t,n,i){t===void 0&&(t=1/0),n===void 0&&(n=1/0),i===void 0&&(i=no());var o=ce(i,2),a=o[0],s=o[1],l=r;if(l&&typeof l.toJSON=="function")try{return l.toJSON()}catch{}if(r===null||["number","boolean","string"].includes(typeof r)&&!Fi(r))return r;var u=Qs(e,r);if(!u.startsWith("[object "))return u;if(t===0)return u.replace("object ","");if(a(r))return"[Circular ~]";var c=Array.isArray(r)?[]:{},d=0,p=ft(r)||Ke(r)?sn(r):r;for(var f in p)if(Object.prototype.hasOwnProperty.call(p,f)){if(d>=n){c[f]="[MaxProperties ~]";break}var h=p[f];c[f]=oo(f,h,t-1,n,i),d+=1}return s(r),c}function Qs(e,r){try{return e==="domain"&&r&&typeof r=="object"&&r._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&r===global?"[Global]":typeof window<"u"&&r===window?"[Window]":typeof document<"u"&&r===document?"[Document]":zi(r)?"[SyntheticEvent]":typeof r=="number"&&r!==r?"[NaN]":r===void 0?"[undefined]":typeof r=="function"?"[Function: "+le(r)+"]":typeof r=="symbol"?"["+String(r)+"]":typeof r=="bigint"?"[BigInt: "+String(r)+"]":"[object "+Object.getPrototypeOf(r).constructor.name+"]"}catch(t){return"**non-serializable** ("+t+")"}}function eu(e){return~-encodeURI(e).split(/%..|./).length}function tu(e){return eu(JSON.stringify(e))}function ie(e){return new V(function(r){r(e)})}function Me(e){return new V(function(r,t){t(e)})}var V=function(){function e(r){var t=this;this._state=0,this._handlers=[],this._resolve=function(n){t._setResult(1,n)},this._reject=function(n){t._setResult(2,n)},this._setResult=function(n,i){if(t._state===0){if(pt(i)){i.then(t._resolve,t._reject);return}t._state=n,t._value=i,t._executeHandlers()}},this._executeHandlers=function(){if(t._state!==0){var n=t._handlers.slice();t._handlers=[],n.forEach(function(i){i[0]||(t._state===1&&i[1](t._value),t._state===2&&i[2](t._value),i[0]=!0)})}};try{r(this._resolve,this._reject)}catch(n){this._reject(n)}}return e.prototype.then=function(r,t){var n=this;return new e(function(i,o){n._handlers.push([!1,function(a){if(!r)i(a);else try{i(r(a))}catch(s){o(s)}},function(a){if(!t)o(a);else try{i(t(a))}catch(s){o(s)}}]),n._executeHandlers()})},e.prototype.catch=function(r){return this.then(function(t){return t},r)},e.prototype.finally=function(r){var t=this;return new e(function(n,i){var o,a;return t.then(function(s){a=!1,o=s,r&&r()},function(s){a=!0,o=s,r&&r()}).then(function(){if(a){i(o);return}n(o)})})},e}();function Sr(e){var r=[];function t(){return e===void 0||r.length<e}function n(a){return r.splice(r.indexOf(a),1)[0]}function i(a){if(!t())return Me(new j("Not adding Promise due to buffer limit reached."));var s=a();return r.indexOf(s)===-1&&r.push(s),s.then(function(){return n(s)}).then(null,function(){return n(s).then(null,function(){})}),s}function o(a){return new V(function(s,l){var u=r.length;if(!u)return s(!0);var c=setTimeout(function(){a&&a>0&&s(!1)},a);r.forEach(function(d){ie(d).then(function(){--u||(clearTimeout(c),s(!0))},l)})})}return{$:r,add:i,drain:o}}function ru(e){return qi.indexOf(e)!==-1}function ao(e){return e==="warn"?M.Warning:ru(e)?e:M.Log}function Er(e){return e>=200&&e<300?"success":e===429?"rate_limit":e>=400&&e<500?"invalid":e>=500?"failed":"unknown"}var hn={nowSeconds:function(){return Date.now()/1e3}};function nu(){var e=k().performance;if(!(!e||!e.now)){var r=Date.now()-e.now();return{now:function(){return e.now()},timeOrigin:r}}}function iu(){try{var e=Ui(module,"perf_hooks");return e.performance}catch{return}}var pn=ct()?iu():nu(),so=pn===void 0?hn:{nowSeconds:function(){return(pn.timeOrigin+pn.now())/1e3}},je=hn.nowSeconds.bind(hn),_n=so.nowSeconds.bind(so);var Tr,Lp=function(){var e=k().performance;if(!e||!e.now){Tr="none";return}var r=3600*1e3,t=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+t-n):r,o=i<r,a=e.timing&&e.timing.navigationStart,s=typeof a=="number",l=s?Math.abs(a+t-n):r,u=l<r;return o||u?i<=l?(Tr="timeOrigin",e.timeOrigin):(Tr="navigationStart",a):(Tr="dateNow",n)}();function gt(e,r){return r===void 0&&(r=[]),[e,r]}function uo(e){var r=ce(e,2),t=ce(r[1],1),n=ce(t[0],1),i=n[0];return i.type}function Ve(e){var r=ce(e,2),t=r[0],n=r[1],i=JSON.stringify(t);return n.reduce(function(o,a){var s=ce(a,2),l=s[0],u=s[1],c=Ye(u)?String(u):JSON.stringify(u);return o+`
`+JSON.stringify(l)+`
`+c},i)}function co(e,r,t){var n=[{type:"client_report"},{timestamp:t||je(),discarded_events:e}];return gt(r?{dsn:r}:{},[n])}var ou=60*1e3;function au(e,r){r===void 0&&(r=Date.now());var t=parseInt(""+e,10);if(!isNaN(t))return t*1e3;var n=Date.parse(""+e);return isNaN(n)?ou:n-r}function Nt(e,r){return e[r]||e.all||0}function kr(e,r,t){return t===void 0&&(t=Date.now()),Nt(e,r)>t}function Or(e,r,t){var n,i,o,a;t===void 0&&(t=Date.now());var s=$({},e),l=r["x-sentry-rate-limits"],u=r["retry-after"];if(l)try{for(var c=me(l.trim().split(",")),d=c.next();!d.done;d=c.next()){var p=d.value,f=p.split(":",2),h=parseInt(f[0],10),R=(isNaN(h)?60:h)*1e3;if(!f[1])s.all=t+R;else try{for(var b=(o=void 0,me(f[1].split(";"))),g=b.next();!g.done;g=b.next()){var D=g.value;s[D]=t+R}}catch(x){o={error:x}}finally{try{g&&!g.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}}}catch(x){n={error:x}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}else u&&(s.all=t+au(u,t));return s}var lo=100,Oe=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return e.clone=function(r){var t=new e;return r&&(t._breadcrumbs=Ue(r._breadcrumbs),t._tags=m({},r._tags),t._extra=m({},r._extra),t._contexts=m({},r._contexts),t._user=r._user,t._level=r._level,t._span=r._span,t._session=r._session,t._transactionName=r._transactionName,t._fingerprint=r._fingerprint,t._eventProcessors=Ue(r._eventProcessors),t._requestSession=r._requestSession),t},e.prototype.addScopeListener=function(r){this._scopeListeners.push(r)},e.prototype.addEventProcessor=function(r){return this._eventProcessors.push(r),this},e.prototype.setUser=function(r){return this._user=r||{},this._session&&this._session.update({user:r}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(r){return this._requestSession=r,this},e.prototype.setTags=function(r){return this._tags=m(m({},this._tags),r),this._notifyScopeListeners(),this},e.prototype.setTag=function(r,t){var n;return this._tags=m(m({},this._tags),(n={},n[r]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(r){return this._extra=m(m({},this._extra),r),this._notifyScopeListeners(),this},e.prototype.setExtra=function(r,t){var n;return this._extra=m(m({},this._extra),(n={},n[r]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(r){return this._fingerprint=r,this._notifyScopeListeners(),this},e.prototype.setLevel=function(r){return this._level=r,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(r){return this._transactionName=r,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(r){return this.setTransactionName(r)},e.prototype.setContext=function(r,t){var n;return t===null?delete this._contexts[r]:this._contexts=m(m({},this._contexts),(n={},n[r]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(r){return this._span=r,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var r=this.getSpan();return r&&r.transaction},e.prototype.setSession=function(r){return r?this._session=r:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(r){if(!r)return this;if(typeof r=="function"){var t=r(this);return t instanceof e?t:this}return r instanceof e?(this._tags=m(m({},this._tags),r._tags),this._extra=m(m({},this._extra),r._extra),this._contexts=m(m({},this._contexts),r._contexts),r._user&&Object.keys(r._user).length&&(this._user=r._user),r._level&&(this._level=r._level),r._fingerprint&&(this._fingerprint=r._fingerprint),r._requestSession&&(this._requestSession=r._requestSession)):_e(r)&&(r=r,this._tags=m(m({},this._tags),r.tags),this._extra=m(m({},this._extra),r.extra),this._contexts=m(m({},this._contexts),r.contexts),r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(r,t){var n=typeof t=="number"?Math.min(t,lo):lo;if(n<=0)return this;var i=m({timestamp:je()},r);return this._breadcrumbs=Ue(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(r,t){if(this._extra&&Object.keys(this._extra).length&&(r.extra=m(m({},this._extra),r.extra)),this._tags&&Object.keys(this._tags).length&&(r.tags=m(m({},this._tags),r.tags)),this._user&&Object.keys(this._user).length&&(r.user=m(m({},this._user),r.user)),this._contexts&&Object.keys(this._contexts).length&&(r.contexts=m(m({},this._contexts),r.contexts)),this._level&&(r.level=this._level),this._transactionName&&(r.transaction=this._transactionName),this._span){r.contexts=m({trace:this._span.getTraceContext()},r.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(r.tags=m({transaction:n},r.tags))}return this._applyFingerprint(r),r.breadcrumbs=Ue(r.breadcrumbs||[],this._breadcrumbs),r.breadcrumbs=r.breadcrumbs.length>0?r.breadcrumbs:void 0,r.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors(Ue(fo(),this._eventProcessors),r,t)},e.prototype.setSDKProcessingMetadata=function(r){return this._sdkProcessingMetadata=m(m({},this._sdkProcessingMetadata),r),this},e.prototype._notifyEventProcessors=function(r,t,n,i){var o=this;return i===void 0&&(i=0),new V(function(a,s){var l=r[i];if(t===null||typeof l!="function")a(t);else{var u=l(m({},t),n);pt(u)?u.then(function(c){return o._notifyEventProcessors(r,c,n,i+1).then(a)}).then(null,s):o._notifyEventProcessors(r,u,n,i+1).then(a).then(null,s)}})},e.prototype._notifyScopeListeners=function(){var r=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(t){t(r)}),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(r){r.fingerprint=r.fingerprint?Array.isArray(r.fingerprint)?r.fingerprint:[r.fingerprint]:[],this._fingerprint&&(r.fingerprint=r.fingerprint.concat(this._fingerprint)),r.fingerprint&&!r.fingerprint.length&&delete r.fingerprint},e}();function fo(){return lt("globalEventProcessors",function(){return[]})}function Ie(e){fo().push(e)}var Ir=function(){function e(r){this.errors=0,this.sid=Ee(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var t=_n();this.timestamp=t,this.started=t,r&&this.update(r)}return e.prototype.update=function(r){if(r===void 0&&(r={}),r.user&&(!this.ipAddress&&r.user.ip_address&&(this.ipAddress=r.user.ip_address),!this.did&&!r.did&&(this.did=r.user.id||r.user.email||r.user.username)),this.timestamp=r.timestamp||_n(),r.ignoreDuration&&(this.ignoreDuration=r.ignoreDuration),r.sid&&(this.sid=r.sid.length===32?r.sid:Ee()),r.init!==void 0&&(this.init=r.init),!this.did&&r.did&&(this.did=""+r.did),typeof r.started=="number"&&(this.started=r.started),this.ignoreDuration)this.duration=void 0;else if(typeof r.duration=="number")this.duration=r.duration;else{var t=this.timestamp-this.started;this.duration=t>=0?t:0}r.release&&(this.release=r.release),r.environment&&(this.environment=r.environment),!this.ipAddress&&r.ipAddress&&(this.ipAddress=r.ipAddress),!this.userAgent&&r.userAgent&&(this.userAgent=r.userAgent),typeof r.errors=="number"&&(this.errors=r.errors),r.status&&(this.status=r.status)},e.prototype.close=function(r){r?this.update({status:r}):this.status==="ok"?this.update({status:"exited"}):this.update()},e.prototype.toJSON=function(){return gr({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},e}();var mn=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__;var gn=4,su=100,ze=function(){function e(r,t,n){t===void 0&&(t=new Oe),n===void 0&&(n=gn),this._version=n,this._stack=[{}],this.getStackTop().scope=t,r&&this.bindClient(r)}return e.prototype.isOlderThan=function(r){return this._version<r},e.prototype.bindClient=function(r){var t=this.getStackTop();t.client=r,r&&r.setupIntegrations&&r.setupIntegrations()},e.prototype.pushScope=function(){var r=Oe.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:r}),r},e.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},e.prototype.withScope=function(r){var t=this.pushScope();try{r(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(r,t){var n=this._lastEventId=t&&t.event_id?t.event_id:Ee(),i=t;if(!t){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(a){o=a}i={originalException:r,syntheticException:o}}return this._invokeClient("captureException",r,m(m({},i),{event_id:n})),n},e.prototype.captureMessage=function(r,t,n){var i=this._lastEventId=n&&n.event_id?n.event_id:Ee(),o=n;if(!n){var a=void 0;try{throw new Error(r)}catch(s){a=s}o={originalException:r,syntheticException:a}}return this._invokeClient("captureMessage",r,t,m(m({},o),{event_id:i})),i},e.prototype.captureEvent=function(r,t){var n=t&&t.event_id?t.event_id:Ee();return r.type!=="transaction"&&(this._lastEventId=n),this._invokeClient("captureEvent",r,m(m({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(r,t){var n=this.getStackTop(),i=n.scope,o=n.client;if(!(!i||!o)){var a=o.getOptions&&o.getOptions()||{},s=a.beforeBreadcrumb,l=s===void 0?null:s,u=a.maxBreadcrumbs,c=u===void 0?su:u;if(!(c<=0)){var d=je(),p=m({timestamp:d},r),f=l?nn(function(){return l(p,t)}):p;f!==null&&i.addBreadcrumb(f,c)}}},e.prototype.setUser=function(r){var t=this.getScope();t&&t.setUser(r)},e.prototype.setTags=function(r){var t=this.getScope();t&&t.setTags(r)},e.prototype.setExtras=function(r){var t=this.getScope();t&&t.setExtras(r)},e.prototype.setTag=function(r,t){var n=this.getScope();n&&n.setTag(r,t)},e.prototype.setExtra=function(r,t){var n=this.getScope();n&&n.setExtra(r,t)},e.prototype.setContext=function(r,t){var n=this.getScope();n&&n.setContext(r,t)},e.prototype.configureScope=function(r){var t=this.getStackTop(),n=t.scope,i=t.client;n&&i&&r(n)},e.prototype.run=function(r){var t=Lt(this);try{r(this)}finally{Lt(t)}},e.prototype.getIntegration=function(r){var t=this.getClient();if(!t)return null;try{return t.getIntegration(r)}catch{return mn&&y.warn("Cannot retrieve integration "+r.id+" from the current Hub"),null}},e.prototype.startSpan=function(r){return this._callExtensionMethod("startSpan",r)},e.prototype.startTransaction=function(r,t){return this._callExtensionMethod("startTransaction",r,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(r){if(r===void 0&&(r=!1),r)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var r=this.getStackTop(),t=r&&r.scope,n=t&&t.getSession();n&&n.close(),this._sendSessionUpdate(),t&&t.setSession()},e.prototype.startSession=function(r){var t=this.getStackTop(),n=t.scope,i=t.client,o=i&&i.getOptions()||{},a=o.release,s=o.environment,l=k(),u=(l.navigator||{}).userAgent,c=new Ir(m(m(m({release:a,environment:s},n&&{user:n.getUser()}),u&&{userAgent:u}),r));if(n){var d=n.getSession&&n.getSession();d&&d.status==="ok"&&d.update({status:"exited"}),this.endSession(),n.setSession(c)}return c},e.prototype._sendSessionUpdate=function(){var r=this.getStackTop(),t=r.scope,n=r.client;if(t){var i=t.getSession&&t.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},e.prototype._invokeClient=function(r){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[r]&&(t=s)[r].apply(t,Ue(n,[a]))},e.prototype._callExtensionMethod=function(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Mt(),o=i.__SENTRY__;if(o&&o.extensions&&typeof o.extensions[r]=="function")return o.extensions[r].apply(this,t);mn&&y.warn("Extension method "+r+" couldn't be found, doing nothing.")},e}();function Mt(){var e=k();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function Lt(e){var r=Mt(),t=de(r);return Rr(r,e),t}function Z(){var e=Mt();return(!po(e)||de(e).isOlderThan(gn))&&Rr(e,new ze),ct()?uu(e):de(e)}function uu(e){try{var r=Mt().__SENTRY__,t=r&&r.extensions&&r.extensions.domain&&r.extensions.domain.active;if(!t)return de(e);if(!po(t)||de(t).isOlderThan(gn)){var n=de(e).getStackTop();Rr(t,new ze(n.client,Oe.clone(n.scope)))}return de(t)}catch{return de(e)}}function po(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function de(e){return lt("hub",function(){return new ze},e)}function Rr(e,r){if(!e)return!1;var t=e.__SENTRY__=e.__SENTRY__||{};return t.hub=r,!0}function ho(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var n=Z();if(n&&n[e])return n[e].apply(n,Di(r));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function Ar(e,r){var t=new Error("Sentry syntheticException");return ho("captureException",e,{captureContext:r,originalException:e,syntheticException:t})}function Dr(e){ho("withScope",e)}var cu="7",lu=function(){function e(r,t,n){t===void 0&&(t={}),this.dsn=r,this._dsnObject=ht(r),this.metadata=t,this._tunnel=n}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.forceEnvelope=function(){return!!this._tunnel},e.prototype.getBaseApiEndpoint=function(){return vn(this._dsnObject)},e.prototype.getStoreEndpoint=function(){return go(this._dsnObject)},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return vt(this._dsnObject)},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return Re(this._dsnObject,this._tunnel)},e}();function Fe(e,r,t){return{initDsn:e,metadata:r||{},dsn:ht(e),tunnel:t}}function vn(e){var r=e.protocol?e.protocol+":":"",t=e.port?":"+e.port:"";return r+"//"+e.host+t+(e.path?"/"+e.path:"")+"/api/"}function _o(e,r){return""+vn(e)+e.projectId+"/"+r+"/"}function mo(e){return Ki({sentry_key:e.publicKey,sentry_version:cu})}function go(e){return _o(e,"store")}function vt(e){return go(e)+"?"+mo(e)}function fu(e){return _o(e,"envelope")}function Re(e,r){return r||fu(e)+"?"+mo(e)}function yn(e,r){var t=ht(e),n=vn(t)+"embed/error-page/",i="dsn="+Ne(t);for(var o in r)if(o!=="dsn")if(o==="user"){if(!r.user)continue;r.user.name&&(i+="&name="+encodeURIComponent(r.user.name)),r.user.email&&(i+="&email="+encodeURIComponent(r.user.email))}else i+="&"+encodeURIComponent(o)+"="+encodeURIComponent(r[o]);return n+"?"+i}var z=function(){return z=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},z.apply(this,arguments)};function vo(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function jt(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o}function Q(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(jt(arguments[r]));return e}var H=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__;var yo=[];function bo(e){return e.reduce(function(r,t){return r.every(function(n){return t.name!==n.name})&&r.push(t),r},[])}function du(e){var r=e.defaultIntegrations&&Q(e.defaultIntegrations)||[],t=e.integrations,n=Q(bo(r));Array.isArray(t)?n=Q(n.filter(function(a){return t.every(function(s){return s.name!==a.name})}),bo(t)):typeof t=="function"&&(n=t(n),n=Array.isArray(n)?n:[n]);var i=n.map(function(a){return a.name}),o="Debug";return i.indexOf(o)!==-1&&n.push.apply(n,Q(n.splice(i.indexOf(o),1))),n}function pu(e){yo.indexOf(e.name)===-1&&(e.setupOnce(Ie,Z),yo.push(e.name),H&&y.log("Integration installed: "+e.name))}function wo(e){var r={};return du(e).forEach(function(t){r[t.name]=t,pu(t)}),Je(r,"initialized",!0),r}var xo="Not capturing exception because it's already been captured.",bn=function(){function e(r,t){this._integrations={},this._numProcessing=0,this._backend=new r(t),this._options=t,t.dsn&&(this._dsn=ht(t.dsn))}return e.prototype.captureException=function(r,t,n){var i=this;if(fn(r)){H&&y.log(xo);return}var o=t&&t.event_id;return this._process(this._getBackend().eventFromException(r,t).then(function(a){return i._captureEvent(a,t,n)}).then(function(a){o=a})),o},e.prototype.captureMessage=function(r,t,n,i){var o=this,a=n&&n.event_id,s=Ye(r)?this._getBackend().eventFromMessage(String(r),t,n):this._getBackend().eventFromException(r,n);return this._process(s.then(function(l){return o._captureEvent(l,n,i)}).then(function(l){a=l})),a},e.prototype.captureEvent=function(r,t,n){if(t&&t.originalException&&fn(t.originalException)){H&&y.log(xo);return}var i=t&&t.event_id;return this._process(this._captureEvent(r,t,n).then(function(o){i=o})),i},e.prototype.captureSession=function(r){if(!this._isEnabled()){H&&y.warn("SDK not enabled, will not capture session.");return}typeof r.release!="string"?H&&y.warn("Discarded session because of missing or non-string release"):(this._sendSession(r),r.update({init:!1}))},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.getTransport=function(){return this._getBackend().getTransport()},e.prototype.flush=function(r){var t=this;return this._isClientDoneProcessing(r).then(function(n){return t.getTransport().close(r).then(function(i){return n&&i})})},e.prototype.close=function(r){var t=this;return this.flush(r).then(function(n){return t.getOptions().enabled=!1,n})},e.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=wo(this._options))},e.prototype.getIntegration=function(r){try{return this._integrations[r.id]||null}catch{return H&&y.warn("Cannot retrieve integration "+r.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(r,t){var n,i,o=!1,a=!1,s=t.exception&&t.exception.values;if(s){a=!0;try{for(var l=vo(s),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.mechanism;if(d&&d.handled===!1){o=!0;break}}}catch(h){n={error:h}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}var p=r.status==="ok",f=p&&r.errors===0||p&&o;f&&(r.update(z(z({},o&&{status:"crashed"}),{errors:r.errors||Number(a||o)})),this.captureSession(r))},e.prototype._sendSession=function(r){this._getBackend().sendSession(r)},e.prototype._isClientDoneProcessing=function(r){var t=this;return new V(function(n){var i=0,o=1,a=setInterval(function(){t._numProcessing==0?(clearInterval(a),n(!0)):(i+=o,r&&i>=r&&(clearInterval(a),n(!1)))},o)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},e.prototype._prepareEvent=function(r,t,n){var i=this,o=this.getOptions(),a=o.normalizeDepth,s=a===void 0?3:a,l=o.normalizeMaxBreadth,u=l===void 0?1e3:l,c=z(z({},r),{event_id:r.event_id||(n&&n.event_id?n.event_id:Ee()),timestamp:r.timestamp||je()});this._applyClientOptions(c),this._applyIntegrationsMetadata(c);var d=t;n&&n.captureContext&&(d=Oe.clone(d).update(n.captureContext));var p=ie(c);return d&&(p=d.applyToEvent(c,n)),p.then(function(f){return f&&(f.sdkProcessingMetadata=z(z({},f.sdkProcessingMetadata),{normalizeDepth:ke(s)+" ("+typeof s+")"})),typeof s=="number"&&s>0?i._normalizeEvent(f,s,u):f})},e.prototype._normalizeEvent=function(r,t,n){if(!r)return null;var i=z(z(z(z(z({},r),r.breadcrumbs&&{breadcrumbs:r.breadcrumbs.map(function(o){return z(z({},o),o.data&&{data:ke(o.data,t,n)})})}),r.user&&{user:ke(r.user,t,n)}),r.contexts&&{contexts:ke(r.contexts,t,n)}),r.extra&&{extra:ke(r.extra,t,n)});return r.contexts&&r.contexts.trace&&(i.contexts.trace=r.contexts.trace),i.sdkProcessingMetadata=z(z({},i.sdkProcessingMetadata),{baseClientNormalized:!0}),i},e.prototype._applyClientOptions=function(r){var t=this.getOptions(),n=t.environment,i=t.release,o=t.dist,a=t.maxValueLength,s=a===void 0?250:a;"environment"in r||(r.environment="environment"in t?n:"production"),r.release===void 0&&i!==void 0&&(r.release=i),r.dist===void 0&&o!==void 0&&(r.dist=o),r.message&&(r.message=Xe(r.message,s));var l=r.exception&&r.exception.values&&r.exception.values[0];l&&l.value&&(l.value=Xe(l.value,s));var u=r.request;u&&u.url&&(u.url=Xe(u.url,s))},e.prototype._applyIntegrationsMetadata=function(r){var t=Object.keys(this._integrations);t.length>0&&(r.sdk=r.sdk||{},r.sdk.integrations=Q(r.sdk.integrations||[],t))},e.prototype._sendEvent=function(r){this._getBackend().sendEvent(r)},e.prototype._captureEvent=function(r,t,n){return this._processEvent(r,t,n).then(function(i){return i.event_id},function(i){H&&y.error(i)})},e.prototype._processEvent=function(r,t,n){var i=this,o=this.getOptions(),a=o.beforeSend,s=o.sampleRate,l=this.getTransport();function u(d,p){l.recordLostEvent&&l.recordLostEvent(d,p)}if(!this._isEnabled())return Me(new j("SDK not enabled, will not capture event."));var c=r.type==="transaction";return!c&&typeof s=="number"&&Math.random()>s?(u("sample_rate","event"),Me(new j("Discarding event because it's not included in the random sample (sampling rate = "+s+")"))):this._prepareEvent(r,n,t).then(function(d){if(d===null)throw u("event_processor",r.type||"event"),new j("An event processor returned null, will not send event.");var p=t&&t.data&&t.data.__sentry__===!0;if(p||c||!a)return d;var f=a(d,t);return hu(f)}).then(function(d){if(d===null)throw u("before_send",r.type||"event"),new j("`beforeSend` returned `null`, will not send event.");var p=n&&n.getSession&&n.getSession();return!c&&p&&i._updateSessionFromEvent(p,d),i._sendEvent(d),d}).then(null,function(d){throw d instanceof j?d:(i.captureException(d,{data:{__sentry__:!0},originalException:d}),new j(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+d))})},e.prototype._process=function(r){var t=this;this._numProcessing+=1,r.then(function(n){return t._numProcessing-=1,n},function(n){return t._numProcessing-=1,n})},e}();function hu(e){var r="`beforeSend` method has to return `null` or a valid event.";if(pt(e))return e.then(function(t){if(!(_e(t)||t===null))throw new j(r);return t},function(t){throw new j("beforeSend rejected with "+t)});if(!(_e(e)||e===null))throw new j(r);return e}function wn(e){if(!(!e.metadata||!e.metadata.sdk)){var r=e.metadata.sdk,t=r.name,n=r.version;return{name:t,version:n}}}function So(e,r){return r&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||r.name,e.sdk.version=e.sdk.version||r.version,e.sdk.integrations=Q(e.sdk.integrations||[],r.integrations||[]),e.sdk.packages=Q(e.sdk.packages||[],r.packages||[])),e}function xn(e,r){var t=wn(r),n=z(z({sent_at:new Date().toISOString()},t&&{sdk:t}),!!r.tunnel&&{dsn:Ne(r.dsn)}),i="aggregates"in e?"sessions":"session",o=[{type:i},e],a=gt(n,[o]);return[a,i]}function Sn(e,r){var t=jt(xn(e,r),2),n=t[0],i=t[1];return{body:Ve(n),type:i,url:Re(r.dsn,r.tunnel)}}function Eo(e,r){var t=wn(r),n=e.type||"event",i=(e.sdkProcessingMetadata||{}).transactionSampling,o=i||{},a=o.method,s=o.rate;So(e,r.metadata.sdk),e.tags=e.tags||{},e.extra=e.extra||{},e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baseClientNormalized||(e.tags.skippedNormalization=!0,e.extra.normalizeDepth=e.sdkProcessingMetadata?e.sdkProcessingMetadata.normalizeDepth:"unset"),delete e.sdkProcessingMetadata;var l=z(z({event_id:e.event_id,sent_at:new Date().toISOString()},t&&{sdk:t}),!!r.tunnel&&{dsn:Ne(r.dsn)}),u=[{type:n,sample_rates:[{id:a,rate:s}]},e];return gt(l,[u])}function En(e,r){var t=wn(r),n=e.type||"event",i=n==="transaction"||!!r.tunnel,o=(e.sdkProcessingMetadata||{}).transactionSampling,a=o||{},s=a.method,l=a.rate;So(e,r.metadata.sdk),e.tags=e.tags||{},e.extra=e.extra||{},e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baseClientNormalized||(e.tags.skippedNormalization=!0,e.extra.normalizeDepth=e.sdkProcessingMetadata?e.sdkProcessingMetadata.normalizeDepth:"unset"),delete e.sdkProcessingMetadata;var u;try{u=JSON.stringify(e)}catch(R){e.tags.JSONStringifyError=!0,e.extra.JSONStringifyError=R;try{u=JSON.stringify(ke(e))}catch(b){var c=b;u=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:c.message,stack:c.stack}})}}var d={body:u,type:n,url:i?Re(r.dsn,r.tunnel):vt(r.dsn)};if(i){var p=z(z({event_id:e.event_id,sent_at:new Date().toISOString()},t&&{sdk:t}),!!r.tunnel&&{dsn:Ne(r.dsn)}),f=[{type:n,sample_rates:[{id:s,rate:l}]},d.body],h=gt(p,[f]);d.body=Ve(h)}return d}var To=function(){function e(){}return e.prototype.sendEvent=function(r){return ie({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},e.prototype.close=function(r){return ie(!0)},e}();var Tn=function(){function e(r){this._options=r,this._options.dsn||H&&y.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(r,t){throw new j("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(r,t,n){throw new j("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(r){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var t=Fe(this._options.dsn,this._options._metadata,this._options.tunnel),n=Eo(r,t);this._newTransport.send(n).then(null,function(i){H&&y.error("Error while sending event:",i)})}else this._transport.sendEvent(r).then(null,function(i){H&&y.error("Error while sending event:",i)})},e.prototype.sendSession=function(r){if(!this._transport.sendSession){H&&y.warn("Dropping session because custom transport doesn't implement sendSession");return}if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var t=Fe(this._options.dsn,this._options._metadata,this._options.tunnel),n=jt(xn(r,t),1),i=n[0];this._newTransport.send(i).then(null,function(o){H&&y.error("Error while sending session:",o)})}else this._transport.sendSession(r).then(null,function(o){H&&y.error("Error while sending session:",o)})},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new To},e}();var _u=30;function zt(e,r,t){t===void 0&&(t=Sr(e.bufferSize||_u));var n={},i=function(a){return t.drain(a)};function o(a){var s=uo(a),l=s==="event"?"error":s,u={category:l,body:Ve(a)};if(kr(n,l))return Me({status:"rate_limit",reason:ko(n,l)});var c=function(){return r(u).then(function(d){var p=d.body,f=d.headers,h=d.reason,R=d.statusCode,b=Er(R);return f&&(n=Or(n,f)),b==="success"?ie({status:b,reason:h}):Me({status:b,reason:h||p||(b==="rate_limit"?ko(n,l):"Unknown transport error")})})};return t.add(c)}return{send:o,flush:i}}function ko(e,r){return"Too many "+r+" requests, backing off until: "+new Date(Nt(e,r)).toISOString()}var Ft="6.19.7";var Bt={};xs(Bt,{FunctionToString:()=>Io,InboundFilters:()=>Ao});var Oo,Io=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Oo=Function.prototype.toString,Function.prototype.toString=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=_t(this)||this;return Oo.apply(n,r)}},e.id="FunctionToString",e}();var mu=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Ao=function(){function e(r){r===void 0&&(r={}),this._options=r,this.name=e.id}return e.prototype.setupOnce=function(r,t){r(function(n){var i=t();if(i){var o=i.getIntegration(e);if(o){var a=i.getClient(),s=a?a.getOptions():{},l=gu(o._options,s);return vu(n,l)?null:n}}return n})},e.id="InboundFilters",e}();function gu(e,r){return e===void 0&&(e={}),r===void 0&&(r={}),{allowUrls:Q(e.whitelistUrls||[],e.allowUrls||[],r.whitelistUrls||[],r.allowUrls||[]),denyUrls:Q(e.blacklistUrls||[],e.denyUrls||[],r.blacklistUrls||[],r.denyUrls||[]),ignoreErrors:Q(e.ignoreErrors||[],r.ignoreErrors||[],mu),ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function vu(e,r){return r.ignoreInternal&&Su(e)?(H&&y.warn(`Event dropped due to being internal Sentry Error.
Event: `+Te(e)),!0):yu(e,r.ignoreErrors)?(H&&y.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Te(e)),!0):bu(e,r.denyUrls)?(H&&y.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Te(e)+`.
Url: `+Cr(e)),!0):wu(e,r.allowUrls)?!1:(H&&y.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Te(e)+`.
Url: `+Cr(e)),!0)}function yu(e,r){return!r||!r.length?!1:xu(e).some(function(t){return r.some(function(n){return mr(t,n)})})}function bu(e,r){if(!r||!r.length)return!1;var t=Cr(e);return t?r.some(function(n){return mr(t,n)}):!1}function wu(e,r){if(!r||!r.length)return!0;var t=Cr(e);return t?r.some(function(n){return mr(t,n)}):!0}function xu(e){if(e.message)return[e.message];if(e.exception)try{var r=e.exception.values&&e.exception.values[0]||{},t=r.type,n=t===void 0?"":t,i=r.value,o=i===void 0?"":i;return[""+o,n+": "+o]}catch{return H&&y.error("Cannot extract message for event "+Te(e)),[]}return[]}function Su(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Ro(e){e===void 0&&(e=[]);for(var r=e.length-1;r>=0;r--){var t=e[r];if(t&&t.filename!=="<anonymous>"&&t.filename!=="[native code]")return t.filename||null}return null}function Cr(e){try{if(e.stacktrace)return Ro(e.stacktrace.frames);var r;try{r=e.exception.values[0].stacktrace.frames}catch{}return r?Ro(r):null}catch{return H&&y.error("Cannot extract url for event "+Te(e)),null}}var yt="?",Nu=10,Lu=20,Mu=30,ju=40,zu=50;function Ht(e,r,t,n){var i={filename:e,function:r,in_app:!0};return t!==void 0&&(i.lineno=t),n!==void 0&&(i.colno=n),i}var Fu=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Bu=/\((\S*)(?::(\d+))(?::(\d+))\)/,Hu=function(e){var r=Fu.exec(e);if(r){var t=r[2]&&r[2].indexOf("eval")===0;if(t){var n=Bu.exec(r[2]);n&&(r[2]=n[1],r[3]=n[2],r[4]=n[3])}var i=xe(Lo(r[1]||yt,r[2]),2),o=i[0],a=i[1];return Ht(a,o,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},Do=[Mu,Hu],$u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Zu=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,qu=function(e){var r,t=$u.exec(e);if(t){var n=t[3]&&t[3].indexOf(" > eval")>-1;if(n){var i=Zu.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}var o=t[3],a=t[1]||yt;return r=xe(Lo(a,o),2),a=r[0],o=r[1],Ht(o,a,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Co=[zu,qu],Gu=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Wu=function(e){var r=Gu.exec(e);return r?Ht(r[2],r[1]||yt,+r[3],r[4]?+r[4]:void 0):void 0},Po=[ju,Wu],Yu=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Ku=function(e){var r=Yu.exec(e);return r?Ht(r[2],r[3]||yt,+r[1]):void 0},Uo=[Nu,Ku],Xu=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Ju=function(e){var r=Xu.exec(e);return r?Ht(r[5],r[3]||r[4]||yt,+r[1],+r[2]):void 0},No=[Lu,Ju],Lo=function(e,r){var t=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return t||n?[e.indexOf("@")!==-1?e.split("@")[0]:yt,t?"safari-extension:"+r:"safari-web-extension:"+r]:[e,r]};function In(e){var r=Rn(e),t={type:e&&e.name,value:tc(e)};return r.length&&(t.stacktrace={frames:r}),t.type===void 0&&t.value===""&&(t.value="Unrecoverable error caught"),t}function Vu(e,r,t){var n={exception:{values:[{type:Ke(e)?e.constructor.name:t?"UnhandledRejection":"Error",value:"Non-Error "+(t?"promise rejection":"exception")+" captured with keys: "+Xi(e)}]},extra:{__serialized__:dn(e)}};if(r){var i=Rn(r);i.length&&(n.stacktrace={frames:i})}return n}function kn(e){return{exception:{values:[In(e)]}}}function Rn(e){var r=e.stacktrace||e.stack||"",t=ec(e);try{return Ji(Uo,No,Do,Po,Co)(r,t)}catch{}return[]}var Qu=/Minified React error #\d+;/i;function ec(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(Qu.test(e.message))return 1}return 0}function tc(e){var r=e&&e.message;return r?r.error&&typeof r.error.message=="string"?r.error.message:r:"No error message"}function Mo(e,r,t){var n=r&&r.syntheticException||void 0,i=Pr(e,n,t);return Le(i),i.level=M.Error,r&&r.event_id&&(i.event_id=r.event_id),ie(i)}function jo(e,r,t,n){r===void 0&&(r=M.Info);var i=t&&t.syntheticException||void 0,o=On(e,i,n);return o.level=r,t&&t.event_id&&(o.event_id=t.event_id),ie(o)}function Pr(e,r,t,n){var i;if(_r(e)&&e.error){var o=e;return kn(o.error)}if(en(e)||Li(e)){var a=e;if("stack"in e)i=kn(e);else{var s=a.name||(en(a)?"DOMError":"DOMException"),l=a.message?s+": "+a.message:s;i=On(l,r,t),Ut(i,l)}return"code"in a&&(i.tags=A(A({},i.tags),{"DOMException.code":""+a.code})),i}if(ft(e))return kn(e);if(_e(e)||Ke(e)){var u=e;return i=Vu(u,r,n),Le(i,{synthetic:!0}),i}return i=On(e,r,t),Ut(i,""+e,void 0),Le(i,{synthetic:!0}),i}function On(e,r,t){var n={message:e};if(t&&r){var i=Rn(r);i.length&&(n.stacktrace={frames:i})}return n}var Y=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__;var pe=k(),Ur;function $t(){if(Ur)return Ur;if(vr(pe.fetch))return Ur=pe.fetch.bind(pe);var e=pe.document,r=pe.fetch;if(e&&typeof e.createElement=="function")try{var t=e.createElement("iframe");t.hidden=!0,e.head.appendChild(t);var n=t.contentWindow;n&&n.fetch&&(r=n.fetch),e.head.removeChild(t)}catch(i){Y&&y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return Ur=r.bind(pe)}function zo(e,r){var t=Object.prototype.toString.call(pe&&pe.navigator)==="[object Navigator]",n=t&&typeof pe.navigator.sendBeacon=="function";if(n){var i=pe.navigator.sendBeacon.bind(pe.navigator);return i(e,r)}if(mt()){var o=$t();return Ci(o(e,{body:r,method:"POST",credentials:"omit",keepalive:!0}))}}function An(e){var r=e;return r==="event"?"error":r}var Dn=k(),Nr=function(){function e(r){var t=this;this.options=r,this._buffer=Sr(30),this._rateLimits={},this._outcomes={},this._api=Fe(r.dsn,r._metadata,r.tunnel),this.url=vt(this._api.dsn),this.options.sendClientReports&&Dn.document&&Dn.document.addEventListener("visibilitychange",function(){Dn.document.visibilityState==="hidden"&&t._flushOutcomes()})}return e.prototype.sendEvent=function(r){return this._sendRequest(En(r,this._api),r)},e.prototype.sendSession=function(r){return this._sendRequest(Sn(r,this._api),r)},e.prototype.close=function(r){return this._buffer.drain(r)},e.prototype.recordLostEvent=function(r,t){var n;if(this.options.sendClientReports){var i=An(t)+":"+r;Y&&y.log("Adding outcome: "+i),this._outcomes[i]=(n=this._outcomes[i],(n??0)+1)}},e.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var r=this._outcomes;if(this._outcomes={},!Object.keys(r).length){Y&&y.log("No outcomes to flush");return}Y&&y.log(`Flushing outcomes:
`+JSON.stringify(r,null,2));var t=Re(this._api.dsn,this._api.tunnel),n=Object.keys(r).map(function(o){var a=xe(o.split(":"),2),s=a[0],l=a[1];return{reason:l,category:s,quantity:r[o]}}),i=co(n,this._api.tunnel&&Ne(this._api.dsn));try{zo(t,Ve(i))}catch(o){Y&&y.error(o)}}},e.prototype._handleResponse=function(r){var t=r.requestType,n=r.response,i=r.headers,o=r.resolve,a=r.reject,s=Er(n.status);if(this._rateLimits=Or(this._rateLimits,i),this._isRateLimited(t)&&Y&&y.warn("Too many "+t+" requests, backing off until: "+this._disabledUntil(t)),s==="success"){o({status:s});return}a(n)},e.prototype._disabledUntil=function(r){var t=An(r);return new Date(Nt(this._rateLimits,t))},e.prototype._isRateLimited=function(r){var t=An(r);return kr(this._rateLimits,t)},e}();var Cn=function(e){Pe(r,e);function r(t,n){n===void 0&&(n=$t());var i=e.call(this,t)||this;return i._fetch=n,i}return r.prototype._sendRequest=function(t,n){var i=this;if(this._isRateLimited(t.type))return this.recordLostEvent("ratelimit_backoff",t.type),Promise.reject({event:n,type:t.type,reason:"Transport for "+t.type+" requests locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var o={body:t.body,method:"POST",referrerPolicy:Qi()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(o,this.options.fetchParameters),this.options.headers!==void 0&&(o.headers=this.options.headers),this._buffer.add(function(){return new V(function(a,s){i._fetch(t.url,o).then(function(l){var u={"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")};i._handleResponse({requestType:t.type,response:l,headers:u,resolve:a,reject:s})}).catch(s)})}).then(void 0,function(a){throw a instanceof j?i.recordLostEvent("queue_overflow",t.type):i.recordLostEvent("network_error",t.type),a})},r}(Nr);var Pn=function(e){Pe(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype._sendRequest=function(t,n){var i=this;return this._isRateLimited(t.type)?(this.recordLostEvent("ratelimit_backoff",t.type),Promise.reject({event:n,type:t.type,reason:"Transport for "+t.type+" requests locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429})):this._buffer.add(function(){return new V(function(o,a){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){var u={"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")};i._handleResponse({requestType:t.type,response:s,headers:u,resolve:o,reject:a})}},s.open("POST",t.url);for(var l in i.options.headers)Object.prototype.hasOwnProperty.call(i.options.headers,l)&&s.setRequestHeader(l,i.options.headers[l]);s.send(t.body)})}).then(void 0,function(o){throw o instanceof j?i.recordLostEvent("queue_overflow",t.type):i.recordLostEvent("network_error",t.type),o})},r}(Nr);function Un(e,r){r===void 0&&(r=$t());function t(n){var i=A({body:n.body,method:"POST",referrerPolicy:"origin"},e.requestOptions);return r(e.url,i).then(function(o){return o.text().then(function(a){return{body:a,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")},reason:o.statusText,statusCode:o.status}})})}return zt({bufferSize:e.bufferSize},t)}var rc=4;function Nn(e){function r(t){return new V(function(n,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===rc){var s={body:o.response,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")},reason:o.statusText,statusCode:o.status};n(s)}},o.open("POST",e.url);for(var a in e.headers)Object.prototype.hasOwnProperty.call(e.headers,a)&&o.setRequestHeader(a,e.headers[a]);o.send(t.body)})}return zt({bufferSize:e.bufferSize},r)}var Fo=function(e){Pe(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.eventFromException=function(t,n){return Mo(t,n,this._options.attachStacktrace)},r.prototype.eventFromMessage=function(t,n,i){return n===void 0&&(n=M.Info),jo(t,n,i,this._options.attachStacktrace)},r.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=A(A({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),n=Fe(t.dsn,t._metadata,t.tunnel),i=Re(n.dsn,n.tunnel);if(this._options.transport)return new this._options.transport(t);if(mt()){var o=A({},t.fetchParameters);return this._newTransport=Un({requestOptions:o,url:i}),new Cn(t)}return this._newTransport=Nn({url:i,headers:t.headers}),new Pn(t)},r}(Tn);var Lr=k(),Ln=0;function Mn(){return Ln>0}function nc(){Ln+=1,setTimeout(function(){Ln-=1})}function Qe(e,r,t){if(r===void 0&&(r={}),typeof e!="function")return e;try{var n=e.__sentry_wrapped__;if(n)return n;if(_t(e))return e}catch{return e}var i=function(){var s=Array.prototype.slice.call(arguments);try{t&&typeof t=="function"&&t.apply(this,arguments);var l=s.map(function(u){return Qe(u,r)});return e.apply(this,l)}catch(u){throw nc(),Dr(function(c){c.addEventProcessor(function(d){return r.mechanism&&(Ut(d,void 0,void 0),Le(d,r.mechanism)),d.extra=A(A({},d.extra),{arguments:s}),d}),Ar(u)}),u}};try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}catch{}an(i,e),Je(e,"__sentry_wrapped__",i);try{var a=Object.getOwnPropertyDescriptor(i,"name");a.configurable&&Object.defineProperty(i,"name",{get:function(){return e.name}})}catch{}return i}function Bo(e){if(e===void 0&&(e={}),!!Lr.document){if(!e.eventId){Y&&y.error("Missing eventId option in showReportDialog call");return}if(!e.dsn){Y&&y.error("Missing dsn option in showReportDialog call");return}var r=Lr.document.createElement("script");r.async=!0,r.src=yn(e.dsn,e),e.onLoad&&(r.onload=e.onLoad);var t=Lr.document.head||Lr.document.body;t&&t.appendChild(r)}}var Zt=function(){function e(r){this.name=e.id,this._installFunc={onerror:ic,onunhandledrejection:oc},this._options=A({onerror:!0,onunhandledrejection:!0},r)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50;var r=this._options;for(var t in r){var n=this._installFunc[t];n&&r[t]&&(uc(t),n(),this._installFunc[t]=void 0)}},e.id="GlobalHandlers",e}();function ic(){Se("error",function(e){var r=xe(Zo(),2),t=r[0],n=r[1];if(t.getIntegration(Zt)){var i=e.msg,o=e.url,a=e.line,s=e.column,l=e.error;if(!(Mn()||l&&l.__sentry_own_request__)){var u=l===void 0&&he(i)?sc(i,o,a,s):Ho(Pr(l||i,void 0,n,!1),o,a,s);u.level=M.Error,$o(t,l,u,"onerror")}}})}function oc(){Se("unhandledrejection",function(e){var r=xe(Zo(),2),t=r[0],n=r[1];if(t.getIntegration(Zt)){var i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch{}if(Mn()||i&&i.__sentry_own_request__)return!0;var o=Ye(i)?ac(i):Pr(i,void 0,n,!0);o.level=M.Error,$o(t,i,o,"onunhandledrejection")}})}function ac(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}}function sc(e,r,t,n){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=_r(e)?e.message:e,a="Error",s=o.match(i);s&&(a=s[1],o=s[2]);var l={exception:{values:[{type:a,value:o}]}};return Ho(l,r,t,n)}function Ho(e,r,t,n){var i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},l=s.frames=s.frames||[],u=isNaN(parseInt(n,10))?void 0:n,c=isNaN(parseInt(t,10))?void 0:t,d=he(r)&&r.length>0?r:Bi();return l.length===0&&l.push({colno:u,filename:d,function:"?",in_app:!0,lineno:c}),e}function uc(e){Y&&y.log("Global Handler attached: "+e)}function $o(e,r,t,n){Le(t,{handled:!1,type:n}),e.captureEvent(t,{originalException:r})}function Zo(){var e=Z(),r=e.getClient(),t=r&&r.getOptions().attachStacktrace;return[e,t]}var cc=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],jn=function(){function e(r){this.name=e.id,this._options=A({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},r)}return e.prototype.setupOnce=function(){var r=k();this._options.setTimeout&&G(r,"setTimeout",qo),this._options.setInterval&&G(r,"setInterval",qo),this._options.requestAnimationFrame&&G(r,"requestAnimationFrame",lc),this._options.XMLHttpRequest&&"XMLHttpRequest"in r&&G(XMLHttpRequest.prototype,"send",fc);var t=this._options.eventTarget;if(t){var n=Array.isArray(t)?t:cc;n.forEach(dc)}},e.id="TryCatch",e}();function qo(e){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=r[0];return r[0]=Qe(n,{mechanism:{data:{function:le(e)},handled:!0,type:"instrument"}}),e.apply(this,r)}}function lc(e){return function(r){return e.apply(this,[Qe(r,{mechanism:{data:{function:"requestAnimationFrame",handler:le(e)},handled:!0,type:"instrument"}})])}}function fc(e){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach(function(o){o in n&&typeof n[o]=="function"&&G(n,o,function(a){var s={mechanism:{data:{function:o,handler:le(a)},handled:!0,type:"instrument"}},l=_t(a);return l&&(s.mechanism.data.handler=le(l)),Qe(a,s)})}),e.apply(this,r)}}function dc(e){var r=k(),t=r[e]&&r[e].prototype;!t||!t.hasOwnProperty||!t.hasOwnProperty("addEventListener")||(G(t,"addEventListener",function(n){return function(i,o,a){try{typeof o.handleEvent=="function"&&(o.handleEvent=Qe(o.handleEvent.bind(o),{mechanism:{data:{function:"handleEvent",handler:le(o),target:e},handled:!0,type:"instrument"}}))}catch{}return n.apply(this,[i,Qe(o,{mechanism:{data:{function:"addEventListener",handler:le(o),target:e},handled:!0,type:"instrument"}}),a])}}),G(t,"removeEventListener",function(n){return function(i,o,a){var s=o;try{var l=s&&s.__sentry_wrapped__;l&&n.call(this,i,l,a)}catch{}return n.call(this,i,s,a)}}))}var qt=function(){function e(r){this.name=e.id,this._options=A({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},r)}return e.prototype.addSentryBreadcrumb=function(r){this._options.sentry&&Z().addBreadcrumb({category:"sentry."+(r.type==="transaction"?"transaction":"event"),event_id:r.event_id,level:r.level,message:Te(r)},{event:r})},e.prototype.setupOnce=function(){this._options.console&&Se("console",hc),this._options.dom&&Se("dom",pc(this._options.dom)),this._options.xhr&&Se("xhr",_c),this._options.fetch&&Se("fetch",mc),this._options.history&&Se("history",gc)},e.id="Breadcrumbs",e}();function pc(e){function r(t){var n,i=typeof e=="object"?e.serializeAttribute:void 0;typeof i=="string"&&(i=[i]);try{n=t.event.target?Dt(t.event.target,i):Dt(t.event,i)}catch{n="<unknown>"}n.length!==0&&Z().addBreadcrumb({category:"ui."+t.name,message:n},{event:t.event,name:t.name,global:t.global})}return r}function hc(e){var r={category:"console",data:{arguments:e.args,logger:"console"},level:ao(e.level),message:on(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)r.message="Assertion failed: "+(on(e.args.slice(1)," ")||"console.assert"),r.data.arguments=e.args.slice(1);else return;Z().addBreadcrumb(r,{input:e.args,level:e.level})}function _c(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var r=e.xhr.__sentry_xhr__||{},t=r.method,n=r.url,i=r.status_code,o=r.body;Z().addBreadcrumb({category:"xhr",data:{method:t,url:n,status_code:i},type:"http"},{xhr:e.xhr,input:o});return}}function mc(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"||(e.error?Z().addBreadcrumb({category:"fetch",data:e.fetchData,level:M.Error,type:"http"},{data:e.error,input:e.args}):Z().addBreadcrumb({category:"fetch",data:A(A({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))}function gc(e){var r=k(),t=e.from,n=e.to,i=xr(r.location.href),o=xr(t),a=xr(n);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),i.protocol===o.protocol&&i.host===o.host&&(t=o.relative),Z().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}var vc="cause",yc=5,zn=function(){function e(r){r===void 0&&(r={}),this.name=e.id,this._key=r.key||vc,this._limit=r.limit||yc}return e.prototype.setupOnce=function(){Ie(function(r,t){var n=Z().getIntegration(e);return n?bc(n._key,n._limit,r,t):r})},e.id="LinkedErrors",e}();function bc(e,r,t,n){if(!t.exception||!t.exception.values||!n||!ue(n.originalException,Error))return t;var i=Go(r,n.originalException,e);return t.exception.values=Qr(i,t.exception.values),t}function Go(e,r,t,n){if(n===void 0&&(n=[]),!ue(r[t],Error)||n.length+1>=e)return n;var i=In(r[t]);return Go(e,r[t],t,Qr([i],n))}var et=k(),Fn=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Ie(function(r){if(Z().getIntegration(e)){if(!et.navigator&&!et.location&&!et.document)return r;var t=r.request&&r.request.url||et.location&&et.location.href,n=(et.document||{}).referrer,i=(et.navigator||{}).userAgent,o=A(A(A({},r.request&&r.request.headers),n&&{Referer:n}),i&&{"User-Agent":i}),a=A(A({},t&&{url:t}),{headers:o});return A(A({},r),{request:a})}return r})},e.id="UserAgent",e}();var Bn=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(r,t){r(function(n){var i=t().getIntegration(e);if(i){try{if(wc(n,i._previousEvent))return Y&&y.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return i._previousEvent=n}return i._previousEvent=n}return n})},e.id="Dedupe",e}();function wc(e,r){return r?!!(xc(e,r)||Sc(e,r)):!1}function xc(e,r){var t=e.message,n=r.message;return!(!t&&!n||t&&!n||!t&&n||t!==n||!Xo(e,r)||!Ko(e,r))}function Sc(e,r){var t=Wo(r),n=Wo(e);return!(!t||!n||t.type!==n.type||t.value!==n.value||!Xo(e,r)||!Ko(e,r))}function Ko(e,r){var t=Yo(e),n=Yo(r);if(!t&&!n)return!0;if(t&&!n||!t&&n||(t=t,n=n,n.length!==t.length))return!1;for(var i=0;i<n.length;i++){var o=n[i],a=t[i];if(o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1}return!0}function Xo(e,r){var t=e.fingerprint,n=r.fingerprint;if(!t&&!n)return!0;if(t&&!n||!t&&n)return!1;t=t,n=n;try{return t.join("")===n.join("")}catch{return!1}}function Wo(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Yo(e){var r=e.exception;if(r)try{return r.values[0].stacktrace.frames}catch{return}else if(e.stacktrace)return e.stacktrace.frames}var Hn=function(e){Pe(r,e);function r(t){t===void 0&&(t={});var n=this;return t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Ft}],version:Ft},n=e.call(this,Fo,t)||this,n}return r.prototype.showReportDialog=function(t){t===void 0&&(t={});var n=k().document;if(n){if(!this._isEnabled()){Y&&y.error("Trying to call showReportDialog with Sentry Client disabled");return}Bo(A(A({},t),{dsn:t.dsn||this.getDsn()}))}},r.prototype._prepareEvent=function(t,n,i){return t.platform=t.platform||"javascript",e.prototype._prepareEvent.call(this,t,n,i)},r.prototype._sendEvent=function(t){var n=this.getIntegration(qt);n&&n.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},r}(bn);var $n=[new Bt.InboundFilters,new Bt.FunctionToString,new jn,new qt,new Zt,new zn,new Bn,new Fn];var Zn=class{logCache=new Map;CACHE_DURATION=5*60*1e3;MAX_REPEAT_COUNT=10;DELAY_MS=2e3;async createLogHash(r,t,n){let i=this.normalizeData(t),o={message:r.trim(),data:i,severity:n||"log"},a=JSON.stringify(o,Object.keys(o).sort()),l=new TextEncoder().encode(a),u=await crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(u)).map(d=>d.toString(16).padStart(2,"0")).join("")}normalizeData(r){if(r==null)return null;if(typeof r=="string")return r.trim();if(typeof r=="number"||typeof r=="boolean")return r;if(Array.isArray(r))return r.map(t=>this.normalizeData(t)).sort();if(typeof r=="object"){let t={},n=Object.keys(r).sort();for(let i of n)t[i]=this.normalizeData(r[i]);return t}return r}cleanupExpiredEntries(){let r=Date.now();for(let[t,n]of this.logCache.entries())r-n.timestamp>this.CACHE_DURATION&&(n.timeoutId&&clearTimeout(n.timeoutId),this.logCache.delete(t))}async processLog(r,t,n){this.cleanupExpiredEntries();let i=await this.createLogHash(r,t,n),o=Date.now(),a=this.logCache.get(i);if(a)return a.repeatCount+=1,a.timestamp=o,a.timeoutId&&clearTimeout(a.timeoutId),a.timeoutId=setTimeout(()=>{this.sendDelayedLog(i)},this.DELAY_MS),{shouldSend:!1,processedMessage:this.formatMessageWithRepeatCount(r,a.repeatCount),repeatCount:a.repeatCount,hash:i};{let s={message:r,data:t,severity:n,timestamp:o,repeatCount:1,hash:i};return s.timeoutId=setTimeout(()=>{this.sendDelayedLog(i)},this.DELAY_MS),this.logCache.set(i,s),{shouldSend:!1,processedMessage:r,repeatCount:1,hash:i}}}sendDelayedLog(r){let t=this.logCache.get(r);t&&(t.timeoutId=void 0)}getReadyToSendLog(r){let t=this.logCache.get(r);return!t||t.timeoutId?null:t}formatMessageWithRepeatCount(r,t){return`[${Math.min(t,this.MAX_REPEAT_COUNT)}x] ${r}`}getRepeatCountByHash(r){let t=this.logCache.get(r);return t?t.repeatCount:0}clearCache(){for(let[r,t]of this.logCache.entries())t.timeoutId&&clearTimeout(t.timeoutId);this.logCache.clear()}getCacheStats(){let r=Date.now(),t=Array.from(this.logCache.entries()).map(([n,i])=>({hash:n,repeatCount:i.repeatCount,age:r-i.timestamp}));return{totalEntries:this.logCache.size,entries:t}}},qn=new Zn;var Gn=class{hub=new ze;constructor(){let r=new Hn({dsn:"https://fcfebe517e7e4bcb9199d7c31c1d3927@sentry.pegah.tech/229",release:"1.0.0",integrations:$n.filter(t=>!["Breadcrumbs","GlobalHandlers"].includes(t.name)),enabled:!0,debug:!1});this.hub.bindClient(r)}async captureWithScope(r,t,n=M.Log){let i=await qn.processLog(r,t,n);if(!i.shouldSend)return;let o=qn.getReadyToSendLog(i.hash);o&&this.hub.withScope(a=>{o.data&&a.setExtra("data",o.data),a.setExtra("userAgent",navigator.userAgent),a.setTag("repeat_count",o.repeatCount.toString());let s=o.repeatCount>1?`[${o.repeatCount}x] ${o.message}`:o.message,l=o.severity==="error"?M.Error:o.severity==="warning"?M.Warning:o.severity==="info"?M.Info:M.Log;l===M.Log?this.hub.captureMessage(s,l):this.hub.captureException(s)})}captureError(r,t){this.captureWithScope(r,t,M.Error)}captureLog(r,t){this.captureWithScope(r,t,M.Log)}},U=new Gn;var S=class e{static docReadyEvent="DOMContentLoaded";static currentPath=e.getCurrentPath();static onDocumentReady(r){document.readyState==="complete"||document.readyState==="interactive"?e.setTimeoutWithCleanUp(r,1):document.addEventListener(e.docReadyEvent,r,{signal:e.abortController.signal})}static getCurrentPath(){try{let r=window.parent.location.href,{origin:t}=window.parent.location;if(!t||!r.startsWith(t))return e.currentPath;let n=r.substring(t.length);return!n||typeof n!="string"?e.currentPath:decodeURIComponent(n)}catch{return e.currentPath||""}}static appendHiddenIframe(r){let t=e.createHiddenElement("iframe");t.src=r,e.appendElementToDocument(t)}static appendScript(r){let t=document.createElement("script");t.type="text/javascript",t.src=r,e.appendElementToDocument(t)}static throttleTimeout=new Map;static throttleLikeTagAssignment(r,t,n=500){if(e.throttleTimeout.has(t)){let i=e.throttleTimeout.get(t);i&&clearTimeout(i),e.throttleTimeout.set(t,e.setTimeoutWithCleanUp(()=>r(),n))}else e.throttleTimeout.set(t,e.setTimeoutWithCleanUp(()=>r(),n))}static createHiddenElement(r){let t=document.createElement(r);return t.style.display="none",t}static appendElementToDocument(r){try{document.body.appendChild(r)}catch(t){U.captureError(t,r)}}static abortController=new AbortController;static timeouts=[];static intervals=[];static setTimeoutWithCleanUp(r,t,n=!1){let i=setTimeout(r,t);return n||e.timeouts.push(i),i}static setIntervalWithCleanUp(r,t,n=!1){let i=setInterval(r,t);return n||e.intervals.push(i),i}static clearTimers(){e.timeouts.forEach(r=>{clearTimeout(r)}),e.timeouts.splice(0,e.timeouts.length),e.intervals.forEach(r=>{clearInterval(r)}),e.intervals.splice(0,e.intervals.length)}static observeElements(r,t,n){let{root:i=document.body,timeoutMs:o}=n||{},a=new WeakSet,s=c=>{a.has(c)||(a.add(c),t(c))};i.querySelectorAll(r).forEach(s);let l=new MutationObserver(c=>{for(let d of c)d.addedNodes.forEach(p=>{p instanceof HTMLElement&&(p.matches(r)&&s(p),p.querySelectorAll?.(r).forEach(s))})});l.observe(i,{childList:!0,subtree:!0}),o&&setTimeout(()=>l.disconnect(),o);let{signal:u}=e.abortController;return u&&(u.aborted?l.disconnect():u.addEventListener("abort",()=>l.disconnect(),{once:!0})),{disconnect:()=>l.disconnect()}}};var E=class e{static sessionLifetime=18e5;static storeItem(r,t){localStorage.setItem(r,t)}static loadItem(r){return localStorage.getItem(r)}static deleteItem(r){localStorage.removeItem(r)}static sendSessionData(r){e.storeItem("ma-session:data",JSON.stringify(r)),e.deleteItem("ma-session:data")}static storeSyncedSessionData(r,t){sessionStorage.setItem(r,t),localStorage.setItem(r,t);let n={};n[r]=t,e.sendSessionData(n)}static exportSessionData(){if(!sessionStorage.length)return;let r={};for(let t=0;t<sessionStorage.length;t++){let n=sessionStorage.key(t);n?.startsWith("ma-session:")&&(r[n]=sessionStorage.getItem(n))}e.sendSessionData(r)}static importSessionData(r){let t=JSON.parse(r);Object.keys(t).forEach(n=>{let i=t[n];i===null?sessionStorage.removeItem(n):sessionStorage.setItem(n,i)})}static getSessionStartTime(){let r=e.loadItem("ma-session:start");return r?parseInt(r,10):0}static setSessionStartTime(r){e.storeItem("ma-session:start",r.toString())}static getSessionNumber(){let r=e.loadItem("ma-session:num");return r?parseInt(r,10):-1}static incrementSessionNumber(){let r=e.getSessionNumber()+1;return e.storeItem("ma-session:num",r.toString()),r}static getSessionEndTime(){let r=e.loadItem("ma-session:end");return r?parseInt(r,10):0}static extendSessionLifetime(r){e.storeItem("ma-session:end",(r+e.sessionLifetime).toString())}static isNextSession(r,t){return t<=r||new Date(e.getSessionStartTime()).toLocaleDateString()!==new Date(r).toLocaleDateString()}static deleteSessionParams(){let r=[];Object.keys(localStorage).forEach(t=>{t.startsWith("ma-session:")&&r.push(t)}),r.forEach(t=>{e.deleteItem(t)})}static executeCustomActionInSession(r,t){let n=`ma-session:${e.getSessionNumber()}:${r}`;e.storeItem(n,"1");try{t()}catch(i){U.captureError(i)}}static executeCustomActionOnceInSession(r,t){let n=`ma-session:${e.getSessionNumber()}:${r}`;if(!e.loadItem(n)){e.storeItem(n,"1");try{t()}catch(i){U.captureError(i)}}}static extendSession(){let r=Date.now(),t=e.getSessionEndTime();return e.extendSessionLifetime(r),e.isNextSession(r,t)?(e.setSessionStartTime(r),"new-session-needed"):"no-new-session-needed"}};var ee=class e{static USER_ID_KEY="MEDIAAD_USER_ID";static userIdHolder={value:null,listeners:[]};static withUserIdCallback(r){let t=e.userIdHolder.value;if(t)try{r(t)}catch(n){U.captureError(n)}else e.userIdHolder.listeners.push(r)}static setUserId(r){for(e.userIdHolder.value=r;e.userIdHolder.listeners.length>0;)e.userIdHolder.listeners.pop()?.(r)}static getUserId(){return e.userIdHolder.value||(e.userIdHolder.value=E.loadItem(e.USER_ID_KEY)),e.userIdHolder.value}};var Gt=class{addEventListener(r,t){let n=window;window.addEventListener?window.addEventListener(r,t,{}):n.attachEvent?n.attachEvent(`on${r}`,i=>{t(i)}):U.captureLog("Neither addEventListener nor attachEvent is supported in this browser.")}handleStorageEvent(r){!r||!r.newValue||(r.key==="ma-session:get"?E.exportSessionData():r.key==="ma-session:data"&&E.importSessionData(r.newValue))}handleMessageEvent(r){try{let t=r.data;if(!t||typeof t.indexOf>"u")return;if(t.indexOf("mediaad-fid:")===0){let n=t.split(":")[1];ee.setUserId(n);let i=ee.getUserId();i&&E.storeItem(i,n),E.storeItem(ee.USER_ID_KEY,n)}}catch(t){U.captureError(t,r)}}initialize(){this.addEventListener("storage",this.handleStorageEvent),this.addEventListener("message",this.handleMessageEvent)}};var Wn=class{constructor(r,t){this.location=r;this.document=t;this.currentPath=S.getCurrentPath(),this.matchIntervalCounter={},this.timeouts=[]}currentPath;matchIntervalCounter;timeouts;domainMatches(r){let t=typeof r=="string"?r:r.domain;if(t){let{hostname:n}=this.location;return n===t||n===`www.${t}`||`www.${n}`===t}return!0}domainMatchesAny(r){if(!r||r.length===0)return!1;let{hostname:t}=this.location;return r.some(n=>n?t===n||t===`www.${n}`||`www.${t}`===n:!1)}referrerMatches(r){if(r.referrer){let{referrer:t}=this.document;return t.includes(r.referrer)}return!0}testMatcherEqualsTo(r){return this.currentPath===r.query}testMatcherContains(r){return this.currentPath.includes(r.query)}testMatcherStartsWith(r){return this.currentPath.startsWith(r.query)}testMatcherEndsWith(r){return this.currentPath.endsWith(r.query)}testMatcherRegex(r){return new RegExp(r.query).test(this.currentPath)}testMatcherHtmlElement(r,t,n){let i=S.setIntervalWithCleanUp(()=>{this.matchIntervalCounter[t.id]=(this.matchIntervalCounter[t.id]||0)+1;let o=this.document.getElementById(t.query)||this.document.querySelector(t.query);(o||this.matchIntervalCounter[t.id]>=r.max_interval_reset)&&(clearInterval(i),n(!!o))},1e3);this.timeouts.push(i)}testMatcher(r){if(!this.domainMatches(r))return!1;switch(r.pattern_type){case"equalsTo":return this.testMatcherEqualsTo(r);case"contains":return this.testMatcherContains(r);case"startsWith":return this.testMatcherStartsWith(r);case"endsWith":return this.testMatcherEndsWith(r);case"regex":return this.testMatcherRegex(r);case"htmlElement":return!1;default:return!1}}testMatcherAsync(r,t,n){if(!this.domainMatches(t)||!this.referrerMatches(t)){n(!1);return}t.pattern_type==="htmlElement"?this.testMatcherHtmlElement(r,t,n):n(this.testMatcher(t))}updateCurrentPath(){this.currentPath=S.getCurrentPath()}},Yn=Wn;var Jo="1.17.2";var N=class e{static baseApiUrl;static async sendRequest(r,t,n,i={}){return new Promise((o,a)=>{let s=new XMLHttpRequest;s.onreadystatechange=()=>{if(s.readyState!==XMLHttpRequest.DONE)return;if(s.status!==200){a(new Error(`HTTP error: ${s.status} - ${s.statusText}`));return}let l=s.getResponseHeader("Content-Type");if(l)try{if(!s.responseText)return;let u=s.responseText;l.includes("json")&&(u=JSON.parse(s.responseText)),o(u)}catch(u){U.captureError(u),a(u)}},s.open(t,r),Object.keys(i).length!==0&&(s.withCredentials=!0,e.setHeaders(s,i)),s.send(n)})}static setHeaders(r,t){Object.keys(t).forEach(n=>{r.setRequestHeader(n,t[n])})}static async postJson(r,t){let n={"Content-Type":"application/json; charset=utf-8"};return e.sendRequest(r,"POST",JSON.stringify(t),n)}static async post(r,t,n={}){return e.sendRequest(r,"POST",t,n)}static async get(r){return e.sendRequest(r,"GET",void 0)}static apiUrl(r){return e.baseApiUrl?`${e.baseApiUrl}${r}`:r}static setBaseApiUrl(r){e.baseApiUrl=r}static getBaseApiUrl(){return e.baseApiUrl}};function Be(e){let r={};if("URLSearchParams"in window){if(r=new URLSearchParams(window.parent.location.search),r.has(e))return String(r.get(e))||null}else if(r=window.parent.location.search.substring(1).split("&").reduce((n,i)=>{let o=i.split("="),a=o[0],s=decodeURIComponent(o[1]);return s=Number.isNaN(Number(s))?s:String(s),n[a]=s,n},{}),r[e])return String(r[e])||null;return null}var Mr=class{advertiserData={};async initialize(){let r=At.extractUniqueAdvertiserIds(),t=E.loadItem("ma-session:id"),n=Be("utm_ma"),i=Be("utm_source")||Be("mtm_source");return i&&E.storeItem("ma-session:utm_source",i),n&&t!==n&&(E.deleteSessionParams(),E.storeSyncedSessionData("ma-session:id",n)),r.length!==0&&(await this.loadData(r),S.appendHiddenIframe("https://mediacdn.mediaad.org/static/fingerprint.html"),n&&/\w+-\d+-ts/.test(n)&&S.appendScript("https://cdn.mediaffic.ir/tapsell/web/face/postback/bundle.js"),S.setTimeoutWithCleanUp(()=>this.informSecondsSession("Duration10s"),1e4),S.setTimeoutWithCleanUp(()=>this.informSecondsSession("Duration30s"),3e4)),this.advertiserData}async loadData(r){let t=r.map(async n=>{try{let i=await N.get(`https://ma-cdn.pegah.tech/v1/retargeting/${n}/advertiser.json`);N.getBaseApiUrl()||N.setBaseApiUrl(i.system_api_url),this.advertiserData[n]=i}catch(i){U.captureError(i,n)}});await Promise.all(t)}async informNewSession(r){let t=E.loadItem("ma-session:id");if(t){let n=window.parent.location.href;try{let i=E.loadItem("ma-session:utm_source")||"";await N.postJson(N.apiUrl("/v1/events/post-back"),{clickId:t,actionName:`session-${r}`,uri:n,latestSource:i}),window.postMessage("ma:advertiser-aggregated",window.parent.location.origin)}catch(i){U.captureError(i,{clickId:t,actionName:`session-${r}`,uri:n})}}}async informSecondsSession(r){let t=E.loadItem("ma-session:id");if(t){let n=window.parent.location.href;try{let i=E.loadItem("ma-session:utm_source")||"";await N.postJson(N.apiUrl("/v1/events/post-back"),{clickId:t,actionName:`Session${r}`,uri:n,latestSource:i}),window.postMessage("ma:advertiser-aggregated",window.parent.location.origin)}catch(i){U.captureError(i,{clickId:t,actionName:`Session${r}`,uri:n})}}}},Tc=new Mr,tt=Tc;var oe=(u=>(u.userId="v",u.product_link="l",u.title="t",u.image="i",u.sku="s",u.full_category="c",u.price="p",u.old_price="op",u.currency="cu",u))(oe||{});function Tt(e){let r=e.length;for(;--r>=0;)e[r]=0}var kc=0,La=1,Oc=2,Ic=3,Rc=258,vi=29,sr=256,Qt=sr+1+vi,xt=30,yi=19,Ma=2*Qt+1,rt=15,Kn=16,Ac=7,bi=256,ja=16,za=17,Fa=18,ci=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),$r=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Dc=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ba=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cc=512,De=new Array((Qt+2)*2);Tt(De);var Xt=new Array(xt*2);Tt(Xt);var er=new Array(Cc);Tt(er);var tr=new Array(Rc-Ic+1);Tt(tr);var wi=new Array(vi);Tt(wi);var Zr=new Array(xt);Tt(Zr);function Xn(e,r,t,n,i){this.static_tree=e,this.extra_bits=r,this.extra_base=t,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}var Ha,$a,Za;function Jn(e,r){this.dyn_tree=e,this.max_code=0,this.stat_desc=r}var qa=e=>e<256?er[e]:er[256+(e>>>7)],rr=(e,r)=>{e.pending_buf[e.pending++]=r&255,e.pending_buf[e.pending++]=r>>>8&255},te=(e,r,t)=>{e.bi_valid>Kn-t?(e.bi_buf|=r<<e.bi_valid&65535,rr(e,e.bi_buf),e.bi_buf=r>>Kn-e.bi_valid,e.bi_valid+=t-Kn):(e.bi_buf|=r<<e.bi_valid&65535,e.bi_valid+=t)},ye=(e,r,t)=>{te(e,t[r*2],t[r*2+1])},Ga=(e,r)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--r>0);return t>>>1},Pc=e=>{e.bi_valid===16?(rr(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Uc=(e,r)=>{let t=r.dyn_tree,n=r.max_code,i=r.stat_desc.static_tree,o=r.stat_desc.has_stree,a=r.stat_desc.extra_bits,s=r.stat_desc.extra_base,l=r.stat_desc.max_length,u,c,d,p,f,h,R=0;for(p=0;p<=rt;p++)e.bl_count[p]=0;for(t[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<Ma;u++)c=e.heap[u],p=t[t[c*2+1]*2+1]+1,p>l&&(p=l,R++),t[c*2+1]=p,!(c>n)&&(e.bl_count[p]++,f=0,c>=s&&(f=a[c-s]),h=t[c*2],e.opt_len+=h*(p+f),o&&(e.static_len+=h*(i[c*2+1]+f)));if(R!==0){do{for(p=l-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[l]--,R-=2}while(R>0);for(p=l;p!==0;p--)for(c=e.bl_count[p];c!==0;)d=e.heap[--u],!(d>n)&&(t[d*2+1]!==p&&(e.opt_len+=(p-t[d*2+1])*t[d*2],t[d*2+1]=p),c--)}},Wa=(e,r,t)=>{let n=new Array(rt+1),i=0,o,a;for(o=1;o<=rt;o++)i=i+t[o-1]<<1,n[o]=i;for(a=0;a<=r;a++){let s=e[a*2+1];s!==0&&(e[a*2]=Ga(n[s]++,s))}},Nc=()=>{let e,r,t,n,i,o=new Array(rt+1);for(t=0,n=0;n<vi-1;n++)for(wi[n]=t,e=0;e<1<<ci[n];e++)tr[t++]=n;for(tr[t-1]=n,i=0,n=0;n<16;n++)for(Zr[n]=i,e=0;e<1<<$r[n];e++)er[i++]=n;for(i>>=7;n<xt;n++)for(Zr[n]=i<<7,e=0;e<1<<$r[n]-7;e++)er[256+i++]=n;for(r=0;r<=rt;r++)o[r]=0;for(e=0;e<=143;)De[e*2+1]=8,e++,o[8]++;for(;e<=255;)De[e*2+1]=9,e++,o[9]++;for(;e<=279;)De[e*2+1]=7,e++,o[7]++;for(;e<=287;)De[e*2+1]=8,e++,o[8]++;for(Wa(De,Qt+1,o),e=0;e<xt;e++)Xt[e*2+1]=5,Xt[e*2]=Ga(e,5);Ha=new Xn(De,ci,sr+1,Qt,rt),$a=new Xn(Xt,$r,0,xt,rt),Za=new Xn(new Array(0),Dc,0,yi,Ac)},Ya=e=>{let r;for(r=0;r<Qt;r++)e.dyn_ltree[r*2]=0;for(r=0;r<xt;r++)e.dyn_dtree[r*2]=0;for(r=0;r<yi;r++)e.bl_tree[r*2]=0;e.dyn_ltree[bi*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Ka=e=>{e.bi_valid>8?rr(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Vo=(e,r,t,n)=>{let i=r*2,o=t*2;return e[i]<e[o]||e[i]===e[o]&&n[r]<=n[t]},Vn=(e,r,t)=>{let n=e.heap[t],i=t<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Vo(r,e.heap[i+1],e.heap[i],e.depth)&&i++,!Vo(r,n,e.heap[i],e.depth));)e.heap[t]=e.heap[i],t=i,i<<=1;e.heap[t]=n},Qo=(e,r,t)=>{let n,i,o=0,a,s;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+o++]&255,n+=(e.pending_buf[e.sym_buf+o++]&255)<<8,i=e.pending_buf[e.sym_buf+o++],n===0?ye(e,i,r):(a=tr[i],ye(e,a+sr+1,r),s=ci[a],s!==0&&(i-=wi[a],te(e,i,s)),n--,a=qa(n),ye(e,a,t),s=$r[a],s!==0&&(n-=Zr[a],te(e,n,s)));while(o<e.sym_next);ye(e,bi,r)},li=(e,r)=>{let t=r.dyn_tree,n=r.stat_desc.static_tree,i=r.stat_desc.has_stree,o=r.stat_desc.elems,a,s,l=-1,u;for(e.heap_len=0,e.heap_max=Ma,a=0;a<o;a++)t[a*2]!==0?(e.heap[++e.heap_len]=l=a,e.depth[a]=0):t[a*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=l<2?++l:0,t[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[u*2+1]);for(r.max_code=l,a=e.heap_len>>1;a>=1;a--)Vn(e,t,a);u=o;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Vn(e,t,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,t[u*2]=t[a*2]+t[s*2],e.depth[u]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,t[a*2+1]=t[s*2+1]=u,e.heap[1]=u++,Vn(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Uc(e,r),Wa(t,l,e.bl_count)},ea=(e,r,t)=>{let n,i=-1,o,a=r[0*2+1],s=0,l=7,u=4;for(a===0&&(l=138,u=3),r[(t+1)*2+1]=65535,n=0;n<=t;n++)o=a,a=r[(n+1)*2+1],!(++s<l&&o===a)&&(s<u?e.bl_tree[o*2]+=s:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[ja*2]++):s<=10?e.bl_tree[za*2]++:e.bl_tree[Fa*2]++,s=0,i=o,a===0?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4))},ta=(e,r,t)=>{let n,i=-1,o,a=r[0*2+1],s=0,l=7,u=4;for(a===0&&(l=138,u=3),n=0;n<=t;n++)if(o=a,a=r[(n+1)*2+1],!(++s<l&&o===a)){if(s<u)do ye(e,o,e.bl_tree);while(--s!==0);else o!==0?(o!==i&&(ye(e,o,e.bl_tree),s--),ye(e,ja,e.bl_tree),te(e,s-3,2)):s<=10?(ye(e,za,e.bl_tree),te(e,s-3,3)):(ye(e,Fa,e.bl_tree),te(e,s-11,7));s=0,i=o,a===0?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4)}},Lc=e=>{let r;for(ea(e,e.dyn_ltree,e.l_desc.max_code),ea(e,e.dyn_dtree,e.d_desc.max_code),li(e,e.bl_desc),r=yi-1;r>=3&&e.bl_tree[Ba[r]*2+1]===0;r--);return e.opt_len+=3*(r+1)+5+5+4,r},Mc=(e,r,t,n)=>{let i;for(te(e,r-257,5),te(e,t-1,5),te(e,n-4,4),i=0;i<n;i++)te(e,e.bl_tree[Ba[i]*2+1],3);ta(e,e.dyn_ltree,r-1),ta(e,e.dyn_dtree,t-1)},jc=e=>{let r=4093624447,t;for(t=0;t<=31;t++,r>>>=1)if(r&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(t=32;t<sr;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0},ra=!1,zc=e=>{ra||(Nc(),ra=!0),e.l_desc=new Jn(e.dyn_ltree,Ha),e.d_desc=new Jn(e.dyn_dtree,$a),e.bl_desc=new Jn(e.bl_tree,Za),e.bi_buf=0,e.bi_valid=0,Ya(e)},Xa=(e,r,t,n)=>{te(e,(kc<<1)+(n?1:0),3),Ka(e),rr(e,t),rr(e,~t),t&&e.pending_buf.set(e.window.subarray(r,r+t),e.pending),e.pending+=t},Fc=e=>{te(e,La<<1,3),ye(e,bi,De),Pc(e)},Bc=(e,r,t,n)=>{let i,o,a=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=jc(e)),li(e,e.l_desc),li(e,e.d_desc),a=Lc(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=t+5,t+4<=i&&r!==-1?Xa(e,r,t,n):e.strategy===4||o===i?(te(e,(La<<1)+(n?1:0),3),Qo(e,De,Xt)):(te(e,(Oc<<1)+(n?1:0),3),Mc(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Qo(e,e.dyn_ltree,e.dyn_dtree)),Ya(e),n&&Ka(e)},Hc=(e,r,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=r,e.pending_buf[e.sym_buf+e.sym_next++]=r>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,r===0?e.dyn_ltree[t*2]++:(e.matches++,r--,e.dyn_ltree[(tr[t]+sr+1)*2]++,e.dyn_dtree[qa(r)*2]++),e.sym_next===e.sym_end),$c=zc,Zc=Xa,qc=Bc,Gc=Hc,Wc=Fc,Yc={_tr_init:$c,_tr_stored_block:Zc,_tr_flush_block:qc,_tr_tally:Gc,_tr_align:Wc},Kc=(e,r,t,n)=>{let i=e&65535|0,o=e>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do i=i+r[n++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0},nr=Kc,Xc=()=>{let e,r=[];for(var t=0;t<256;t++){e=t;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;r[t]=e}return r},Jc=new Uint32Array(Xc()),Vc=(e,r,t,n)=>{let i=Jc,o=n+t;e^=-1;for(let a=n;a<o;a++)e=e>>>8^i[(e^r[a])&255];return e^-1},W=Vc,ot={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},kt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:Qc,_tr_stored_block:fi,_tr_flush_block:el,_tr_tally:Ze,_tr_align:tl}=Yc,{Z_NO_FLUSH:qe,Z_PARTIAL_FLUSH:rl,Z_FULL_FLUSH:nl,Z_FINISH:ae,Z_BLOCK:na,Z_OK:K,Z_STREAM_END:ia,Z_STREAM_ERROR:be,Z_DATA_ERROR:il,Z_BUF_ERROR:Qn,Z_DEFAULT_COMPRESSION:ol,Z_FILTERED:al,Z_HUFFMAN_ONLY:jr,Z_RLE:sl,Z_FIXED:ul,Z_DEFAULT_STRATEGY:cl,Z_UNKNOWN:ll,Z_DEFLATED:Wr}=kt,fl=9,dl=15,pl=8,hl=29,_l=256,di=_l+1+hl,ml=30,gl=19,vl=2*di+1,yl=15,O=3,$e=258,we=$e+O+1,bl=32,St=42,xi=57,pi=69,hi=73,_i=91,mi=103,nt=113,Yt=666,X=1,Ot=2,at=3,It=4,wl=3,it=(e,r)=>(e.msg=ot[r],r),oa=e=>e*2-(e>4?9:0),He=e=>{let r=e.length;for(;--r>=0;)e[r]=0},xl=e=>{let r,t,n,i=e.w_size;r=e.hash_size,n=r;do t=e.head[--n],e.head[n]=t>=i?t-i:0;while(--r);r=i,n=r;do t=e.prev[--n],e.prev[n]=t>=i?t-i:0;while(--r)},Sl=(e,r,t)=>(r<<e.hash_shift^t)&e.hash_mask,Ge=Sl,re=e=>{let r=e.state,t=r.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+t),e.next_out),e.next_out+=t,r.pending_out+=t,e.total_out+=t,e.avail_out-=t,r.pending-=t,r.pending===0&&(r.pending_out=0))},ne=(e,r)=>{el(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,r),e.block_start=e.strstart,re(e.strm)},P=(e,r)=>{e.pending_buf[e.pending++]=r},Wt=(e,r)=>{e.pending_buf[e.pending++]=r>>>8&255,e.pending_buf[e.pending++]=r&255},gi=(e,r,t,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,r.set(e.input.subarray(e.next_in,e.next_in+i),t),e.state.wrap===1?e.adler=nr(e.adler,r,i,t):e.state.wrap===2&&(e.adler=W(e.adler,r,i,t)),e.next_in+=i,e.total_in+=i,i)},Ja=(e,r)=>{let t=e.max_chain_length,n=e.strstart,i,o,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-we?e.strstart-(e.w_size-we):0,u=e.window,c=e.w_mask,d=e.prev,p=e.strstart+$e,f=u[n+a-1],h=u[n+a];e.prev_length>=e.good_match&&(t>>=2),s>e.lookahead&&(s=e.lookahead);do if(i=r,!(u[i+a]!==h||u[i+a-1]!==f||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<p);if(o=$e-(p-n),n=p-$e,o>a){if(e.match_start=r,a=o,o>=s)break;f=u[n+a-1],h=u[n+a]}}while((r=d[r&c])>l&&--t!==0);return a<=e.lookahead?a:e.lookahead},Et=e=>{let r=e.w_size,t,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=r+(r-we)&&(e.window.set(e.window.subarray(r,r+r-n),0),e.match_start-=r,e.strstart-=r,e.block_start-=r,e.insert>e.strstart&&(e.insert=e.strstart),xl(e),n+=r),e.strm.avail_in===0)break;if(t=gi(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=t,e.lookahead+e.insert>=O)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Ge(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Ge(e,e.ins_h,e.window[i+O-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<O)););}while(e.lookahead<we&&e.strm.avail_in!==0)},Va=(e,r)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,o,a=0,s=e.strm.avail_in;do{if(n=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o||(o=e.strm.avail_out-o,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>o&&(n=o),n<t&&(n===0&&r!==ae||r===qe||n!==i+e.strm.avail_in)))break;a=r===ae&&n===i+e.strm.avail_in?1:0,fi(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,re(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(gi(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(a===0);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?It:r!==qe&&r!==ae&&e.strm.avail_in===0&&e.strstart===e.block_start?Ot:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(gi(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,t=o>e.w_size?e.w_size:o,i=e.strstart-e.block_start,(i>=t||(i||r===ae)&&r!==qe&&e.strm.avail_in===0&&i<=o)&&(n=i>o?o:i,a=r===ae&&e.strm.avail_in===0&&n===i?1:0,fi(e,e.block_start,n,a),e.block_start+=n,re(e.strm)),a?at:X)},ei=(e,r)=>{let t,n;for(;;){if(e.lookahead<we){if(Et(e),e.lookahead<we&&r===qe)return X;if(e.lookahead===0)break}if(t=0,e.lookahead>=O&&(e.ins_h=Ge(e,e.ins_h,e.window[e.strstart+O-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-we&&(e.match_length=Ja(e,t)),e.match_length>=O)if(n=Ze(e,e.strstart-e.match_start,e.match_length-O),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=O){e.match_length--;do e.strstart++,e.ins_h=Ge(e,e.ins_h,e.window[e.strstart+O-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ge(e,e.ins_h,e.window[e.strstart+1]);else n=Ze(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(ne(e,!1),e.strm.avail_out===0))return X}return e.insert=e.strstart<O-1?e.strstart:O-1,r===ae?(ne(e,!0),e.strm.avail_out===0?at:It):e.sym_next&&(ne(e,!1),e.strm.avail_out===0)?X:Ot},bt=(e,r)=>{let t,n,i;for(;;){if(e.lookahead<we){if(Et(e),e.lookahead<we&&r===qe)return X;if(e.lookahead===0)break}if(t=0,e.lookahead>=O&&(e.ins_h=Ge(e,e.ins_h,e.window[e.strstart+O-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=O-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-we&&(e.match_length=Ja(e,t),e.match_length<=5&&(e.strategy===al||e.match_length===O&&e.strstart-e.match_start>4096)&&(e.match_length=O-1)),e.prev_length>=O&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-O,n=Ze(e,e.strstart-1-e.prev_match,e.prev_length-O),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=Ge(e,e.ins_h,e.window[e.strstart+O-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=O-1,e.strstart++,n&&(ne(e,!1),e.strm.avail_out===0))return X}else if(e.match_available){if(n=Ze(e,0,e.window[e.strstart-1]),n&&ne(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return X}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Ze(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<O-1?e.strstart:O-1,r===ae?(ne(e,!0),e.strm.avail_out===0?at:It):e.sym_next&&(ne(e,!1),e.strm.avail_out===0)?X:Ot},El=(e,r)=>{let t,n,i,o,a=e.window;for(;;){if(e.lookahead<=$e){if(Et(e),e.lookahead<=$e&&r===qe)return X;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=O&&e.strstart>0&&(i=e.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=e.strstart+$e;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);e.match_length=$e-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=O?(t=Ze(e,1,e.match_length-O),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=Ze(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(ne(e,!1),e.strm.avail_out===0))return X}return e.insert=0,r===ae?(ne(e,!0),e.strm.avail_out===0?at:It):e.sym_next&&(ne(e,!1),e.strm.avail_out===0)?X:Ot},Tl=(e,r)=>{let t;for(;;){if(e.lookahead===0&&(Et(e),e.lookahead===0)){if(r===qe)return X;break}if(e.match_length=0,t=Ze(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(ne(e,!1),e.strm.avail_out===0))return X}return e.insert=0,r===ae?(ne(e,!0),e.strm.avail_out===0?at:It):e.sym_next&&(ne(e,!1),e.strm.avail_out===0)?X:Ot};function ve(e,r,t,n,i){this.good_length=e,this.max_lazy=r,this.nice_length=t,this.max_chain=n,this.func=i}var Kt=[new ve(0,0,0,0,Va),new ve(4,4,8,4,ei),new ve(4,5,16,8,ei),new ve(4,6,32,32,ei),new ve(4,4,16,16,bt),new ve(8,16,32,32,bt),new ve(8,16,128,128,bt),new ve(8,32,128,256,bt),new ve(32,128,258,1024,bt),new ve(32,258,258,4096,bt)],kl=e=>{e.window_size=2*e.w_size,He(e.head),e.max_lazy_match=Kt[e.level].max_lazy,e.good_match=Kt[e.level].good_length,e.nice_match=Kt[e.level].nice_length,e.max_chain_length=Kt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=O-1,e.match_available=0,e.ins_h=0};function Ol(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Wr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(vl*2),this.dyn_dtree=new Uint16Array((2*ml+1)*2),this.bl_tree=new Uint16Array((2*gl+1)*2),He(this.dyn_ltree),He(this.dyn_dtree),He(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(yl+1),this.heap=new Uint16Array(2*di+1),He(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*di+1),He(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var ur=e=>{if(!e)return 1;let r=e.state;return!r||r.strm!==e||r.status!==St&&r.status!==xi&&r.status!==pi&&r.status!==hi&&r.status!==_i&&r.status!==mi&&r.status!==nt&&r.status!==Yt?1:0},Qa=e=>{if(ur(e))return it(e,be);e.total_in=e.total_out=0,e.data_type=ll;let r=e.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap===2?xi:r.wrap?St:nt,e.adler=r.wrap===2?0:1,r.last_flush=-2,Qc(r),K},es=e=>{let r=Qa(e);return r===K&&kl(e.state),r},Il=(e,r)=>ur(e)||e.state.wrap!==2?be:(e.state.gzhead=r,K),ts=(e,r,t,n,i,o)=>{if(!e)return be;let a=1;if(r===ol&&(r=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>fl||t!==Wr||n<8||n>15||r<0||r>9||o<0||o>ul||n===8&&a!==1)return it(e,be);n===8&&(n=9);let s=new Ol;return e.state=s,s.strm=e,s.status=St,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+O-1)/O),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=r,s.strategy=o,s.method=t,es(e)},Rl=(e,r)=>ts(e,r,Wr,dl,pl,cl),Al=(e,r)=>{if(ur(e)||r>na||r<0)return e?it(e,be):be;let t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===Yt&&r!==ae)return it(e,e.avail_out===0?Qn:be);let n=t.last_flush;if(t.last_flush=r,t.pending!==0){if(re(e),e.avail_out===0)return t.last_flush=-1,K}else if(e.avail_in===0&&oa(r)<=oa(n)&&r!==ae)return it(e,Qn);if(t.status===Yt&&e.avail_in!==0)return it(e,Qn);if(t.status===St&&t.wrap===0&&(t.status=nt),t.status===St){let i=Wr+(t.w_bits-8<<4)<<8,o=-1;if(t.strategy>=jr||t.level<2?o=0:t.level<6?o=1:t.level===6?o=2:o=3,i|=o<<6,t.strstart!==0&&(i|=bl),i+=31-i%31,Wt(t,i),t.strstart!==0&&(Wt(t,e.adler>>>16),Wt(t,e.adler&65535)),e.adler=1,t.status=nt,re(e),t.pending!==0)return t.last_flush=-1,K}if(t.status===xi){if(e.adler=0,P(t,31),P(t,139),P(t,8),t.gzhead)P(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),P(t,t.gzhead.time&255),P(t,t.gzhead.time>>8&255),P(t,t.gzhead.time>>16&255),P(t,t.gzhead.time>>24&255),P(t,t.level===9?2:t.strategy>=jr||t.level<2?4:0),P(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(P(t,t.gzhead.extra.length&255),P(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=W(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=pi;else if(P(t,0),P(t,0),P(t,0),P(t,0),P(t,0),P(t,t.level===9?2:t.strategy>=jr||t.level<2?4:0),P(t,wl),t.status=nt,re(e),t.pending!==0)return t.last_flush=-1,K}if(t.status===pi){if(t.gzhead.extra){let i=t.pending,o=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+o>t.pending_buf_size;){let s=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=s,re(e),t.pending!==0)return t.last_flush=-1,K;i=0,o-=s}let a=new Uint8Array(t.gzhead.extra);t.pending_buf.set(a.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending+=o,t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=hi}if(t.status===hi){if(t.gzhead.name){let i=t.pending,o;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i)),re(e),t.pending!==0)return t.last_flush=-1,K;i=0}t.gzindex<t.gzhead.name.length?o=t.gzhead.name.charCodeAt(t.gzindex++)&255:o=0,P(t,o)}while(o!==0);t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=_i}if(t.status===_i){if(t.gzhead.comment){let i=t.pending,o;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i)),re(e),t.pending!==0)return t.last_flush=-1,K;i=0}t.gzindex<t.gzhead.comment.length?o=t.gzhead.comment.charCodeAt(t.gzindex++)&255:o=0,P(t,o)}while(o!==0);t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i))}t.status=mi}if(t.status===mi){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(re(e),t.pending!==0))return t.last_flush=-1,K;P(t,e.adler&255),P(t,e.adler>>8&255),e.adler=0}if(t.status=nt,re(e),t.pending!==0)return t.last_flush=-1,K}if(e.avail_in!==0||t.lookahead!==0||r!==qe&&t.status!==Yt){let i=t.level===0?Va(t,r):t.strategy===jr?Tl(t,r):t.strategy===sl?El(t,r):Kt[t.level].func(t,r);if((i===at||i===It)&&(t.status=Yt),i===X||i===at)return e.avail_out===0&&(t.last_flush=-1),K;if(i===Ot&&(r===rl?tl(t):r!==na&&(fi(t,0,0,!1),r===nl&&(He(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),re(e),e.avail_out===0))return t.last_flush=-1,K}return r!==ae?K:t.wrap<=0?ia:(t.wrap===2?(P(t,e.adler&255),P(t,e.adler>>8&255),P(t,e.adler>>16&255),P(t,e.adler>>24&255),P(t,e.total_in&255),P(t,e.total_in>>8&255),P(t,e.total_in>>16&255),P(t,e.total_in>>24&255)):(Wt(t,e.adler>>>16),Wt(t,e.adler&65535)),re(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?K:ia)},Dl=e=>{if(ur(e))return be;let r=e.state.status;return e.state=null,r===nt?it(e,il):K},Cl=(e,r)=>{let t=r.length;if(ur(e))return be;let n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==St||n.lookahead)return be;if(i===1&&(e.adler=nr(e.adler,r,t,0)),n.wrap=0,t>=n.w_size){i===0&&(He(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(r.subarray(t-n.w_size,t),0),r=l,t=n.w_size}let o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=t,e.next_in=0,e.input=r,Et(n);n.lookahead>=O;){let l=n.strstart,u=n.lookahead-(O-1);do n.ins_h=Ge(n,n.ins_h,n.window[l+O-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--u);n.strstart=l,n.lookahead=O-1,Et(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=O-1,n.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,n.wrap=i,K},Pl=Rl,Ul=ts,Nl=es,Ll=Qa,Ml=Il,jl=Al,zl=Dl,Fl=Cl,Bl="pako deflate (from Nodeca project)",Jt={deflateInit:Pl,deflateInit2:Ul,deflateReset:Nl,deflateResetKeep:Ll,deflateSetHeader:Ml,deflate:jl,deflateEnd:zl,deflateSetDictionary:Fl,deflateInfo:Bl},Hl=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),$l=function(e){let r=Array.prototype.slice.call(arguments,1);for(;r.length;){let t=r.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let n in t)Hl(t,n)&&(e[n]=t[n])}}return e},Zl=e=>{let r=0;for(let n=0,i=e.length;n<i;n++)r+=e[n].length;let t=new Uint8Array(r);for(let n=0,i=0,o=e.length;n<o;n++){let a=e[n];t.set(a,i),i+=a.length}return t},Yr={assign:$l,flattenChunks:Zl},rs=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{rs=!1}var ir=new Uint8Array(256);for(let e=0;e<256;e++)ir[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ir[254]=ir[254]=1;var ql=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let r,t,n,i,o,a=e.length,s=0;for(i=0;i<a;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),s+=t<128?1:t<2048?2:t<65536?3:4;for(r=new Uint8Array(s),o=0,i=0;o<s;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?r[o++]=t:t<2048?(r[o++]=192|t>>>6,r[o++]=128|t&63):t<65536?(r[o++]=224|t>>>12,r[o++]=128|t>>>6&63,r[o++]=128|t&63):(r[o++]=240|t>>>18,r[o++]=128|t>>>12&63,r[o++]=128|t>>>6&63,r[o++]=128|t&63);return r},Gl=(e,r)=>{if(r<65534&&e.subarray&&rs)return String.fromCharCode.apply(null,e.length===r?e:e.subarray(0,r));let t="";for(let n=0;n<r;n++)t+=String.fromCharCode(e[n]);return t},Wl=(e,r)=>{let t=r||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,r));let n,i,o=new Array(t*2);for(i=0,n=0;n<t;){let a=e[n++];if(a<128){o[i++]=a;continue}let s=ir[a];if(s>4){o[i++]=65533,n+=s-1;continue}for(a&=s===2?31:s===3?15:7;s>1&&n<t;)a=a<<6|e[n++]&63,s--;if(s>1){o[i++]=65533;continue}a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|a&1023)}return Gl(o,i)},Yl=(e,r)=>{r=r||e.length,r>e.length&&(r=e.length);let t=r-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?r:t+ir[e[t]]>r?t:r},or={string2buf:ql,buf2string:Wl,utf8border:Yl};function Kl(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ns=Kl,is=Object.prototype.toString,{Z_NO_FLUSH:Xl,Z_SYNC_FLUSH:Jl,Z_FULL_FLUSH:Vl,Z_FINISH:Ql,Z_OK:qr,Z_STREAM_END:ef,Z_DEFAULT_COMPRESSION:tf,Z_DEFAULT_STRATEGY:rf,Z_DEFLATED:nf}=kt;function cr(e){this.options=Yr.assign({level:tf,method:nf,chunkSize:16384,windowBits:15,memLevel:8,strategy:rf},e||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ns,this.strm.avail_out=0;let t=Jt.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(t!==qr)throw new Error(ot[t]);if(r.header&&Jt.deflateSetHeader(this.strm,r.header),r.dictionary){let n;if(typeof r.dictionary=="string"?n=or.string2buf(r.dictionary):is.call(r.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(r.dictionary):n=r.dictionary,t=Jt.deflateSetDictionary(this.strm,n),t!==qr)throw new Error(ot[t]);this._dict_set=!0}}cr.prototype.push=function(e,r){let t=this.strm,n=this.options.chunkSize,i,o;if(this.ended)return!1;for(r===~~r?o=r:o=r===!0?Ql:Xl,typeof e=="string"?t.input=or.string2buf(e):is.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),(o===Jl||o===Vl)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(i=Jt.deflate(t,o),i===ef)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=Jt.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===qr;if(t.avail_out===0){this.onData(t.output);continue}if(o>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};cr.prototype.onData=function(e){this.chunks.push(e)};cr.prototype.onEnd=function(e){e===qr&&(this.result=Yr.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Si(e,r){let t=new cr(r);if(t.push(e,!0),t.err)throw t.msg||ot[t.err];return t.result}function of(e,r){return r=r||{},r.raw=!0,Si(e,r)}function af(e,r){return r=r||{},r.gzip=!0,Si(e,r)}var sf=cr,uf=Si,cf=of,lf=af,ff=kt,df={Deflate:sf,deflate:uf,deflateRaw:cf,gzip:lf,constants:ff},zr=16209,pf=16191,hf=function(r,t){let n,i,o,a,s,l,u,c,d,p,f,h,R,b,g,D,x,_,C,q,v,L,I,w,T=r.state;n=r.next_in,I=r.input,i=n+(r.avail_in-5),o=r.next_out,w=r.output,a=o-(t-r.avail_out),s=o+(r.avail_out-257),l=T.dmax,u=T.wsize,c=T.whave,d=T.wnext,p=T.window,f=T.hold,h=T.bits,R=T.lencode,b=T.distcode,g=(1<<T.lenbits)-1,D=(1<<T.distbits)-1;e:do{h<15&&(f+=I[n++]<<h,h+=8,f+=I[n++]<<h,h+=8),x=R[f&g];t:for(;;){if(_=x>>>24,f>>>=_,h-=_,_=x>>>16&255,_===0)w[o++]=x&65535;else if(_&16){C=x&65535,_&=15,_&&(h<_&&(f+=I[n++]<<h,h+=8),C+=f&(1<<_)-1,f>>>=_,h-=_),h<15&&(f+=I[n++]<<h,h+=8,f+=I[n++]<<h,h+=8),x=b[f&D];r:for(;;){if(_=x>>>24,f>>>=_,h-=_,_=x>>>16&255,_&16){if(q=x&65535,_&=15,h<_&&(f+=I[n++]<<h,h+=8,h<_&&(f+=I[n++]<<h,h+=8)),q+=f&(1<<_)-1,q>l){r.msg="invalid distance too far back",T.mode=zr;break e}if(f>>>=_,h-=_,_=o-a,q>_){if(_=q-_,_>c&&T.sane){r.msg="invalid distance too far back",T.mode=zr;break e}if(v=0,L=p,d===0){if(v+=u-_,_<C){C-=_;do w[o++]=p[v++];while(--_);v=o-q,L=w}}else if(d<_){if(v+=u+d-_,_-=d,_<C){C-=_;do w[o++]=p[v++];while(--_);if(v=0,d<C){_=d,C-=_;do w[o++]=p[v++];while(--_);v=o-q,L=w}}}else if(v+=d-_,_<C){C-=_;do w[o++]=p[v++];while(--_);v=o-q,L=w}for(;C>2;)w[o++]=L[v++],w[o++]=L[v++],w[o++]=L[v++],C-=3;C&&(w[o++]=L[v++],C>1&&(w[o++]=L[v++]))}else{v=o-q;do w[o++]=w[v++],w[o++]=w[v++],w[o++]=w[v++],C-=3;while(C>2);C&&(w[o++]=w[v++],C>1&&(w[o++]=w[v++]))}}else if(_&64){r.msg="invalid distance code",T.mode=zr;break e}else{x=b[(x&65535)+(f&(1<<_)-1)];continue r}break}}else if(_&64)if(_&32){T.mode=pf;break e}else{r.msg="invalid literal/length code",T.mode=zr;break e}else{x=R[(x&65535)+(f&(1<<_)-1)];continue t}break}}while(n<i&&o<s);C=h>>3,n-=C,h-=C<<3,f&=(1<<h)-1,r.next_in=n,r.next_out=o,r.avail_in=n<i?5+(i-n):5-(n-i),r.avail_out=o<s?257+(s-o):257-(o-s),T.hold=f,T.bits=h},wt=15,aa=852,sa=592,ua=0,ti=1,ca=2,_f=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),mf=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),gf=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vf=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),yf=(e,r,t,n,i,o,a,s)=>{let l=s.bits,u=0,c=0,d=0,p=0,f=0,h=0,R=0,b=0,g=0,D=0,x,_,C,q,v,L=null,I,w=new Uint16Array(wt+1),T=new Uint16Array(wt+1),We=null,Ii,fr,dr;for(u=0;u<=wt;u++)w[u]=0;for(c=0;c<n;c++)w[r[t+c]]++;for(f=l,p=wt;p>=1&&w[p]===0;p--);if(f>p&&(f=p),p===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,s.bits=1,0;for(d=1;d<p&&w[d]===0;d++);for(f<d&&(f=d),b=1,u=1;u<=wt;u++)if(b<<=1,b-=w[u],b<0)return-1;if(b>0&&(e===ua||p!==1))return-1;for(T[1]=0,u=1;u<wt;u++)T[u+1]=T[u]+w[u];for(c=0;c<n;c++)r[t+c]!==0&&(a[T[r[t+c]]++]=c);if(e===ua?(L=We=a,I=20):e===ti?(L=_f,We=mf,I=257):(L=gf,We=vf,I=0),D=0,c=0,u=d,v=o,h=f,R=0,C=-1,g=1<<f,q=g-1,e===ti&&g>aa||e===ca&&g>sa)return 1;for(;;){Ii=u-R,a[c]+1<I?(fr=0,dr=a[c]):a[c]>=I?(fr=We[a[c]-I],dr=L[a[c]-I]):(fr=96,dr=0),x=1<<u-R,_=1<<h,d=_;do _-=x,i[v+(D>>R)+_]=Ii<<24|fr<<16|dr|0;while(_!==0);for(x=1<<u-1;D&x;)x>>=1;if(x!==0?(D&=x-1,D+=x):D=0,c++,--w[u]===0){if(u===p)break;u=r[t+a[c]]}if(u>f&&(D&q)!==C){for(R===0&&(R=f),v+=d,h=u-R,b=1<<h;h+R<p&&(b-=w[h+R],!(b<=0));)h++,b<<=1;if(g+=1<<h,e===ti&&g>aa||e===ca&&g>sa)return 1;C=D&q,i[C]=f<<24|h<<16|v-o|0}}return D!==0&&(i[v+D]=u-R<<24|64<<16|0),s.bits=f,0},Vt=yf,bf=0,os=1,as=2,{Z_FINISH:la,Z_BLOCK:wf,Z_TREES:Fr,Z_OK:st,Z_STREAM_END:xf,Z_NEED_DICT:Sf,Z_STREAM_ERROR:se,Z_DATA_ERROR:ss,Z_MEM_ERROR:us,Z_BUF_ERROR:Ef,Z_DEFLATED:fa}=kt,Kr=16180,da=16181,pa=16182,ha=16183,_a=16184,ma=16185,ga=16186,va=16187,ya=16188,ba=16189,Gr=16190,Ae=16191,ri=16192,wa=16193,ni=16194,xa=16195,Sa=16196,Ea=16197,Ta=16198,Br=16199,Hr=16200,ka=16201,Oa=16202,Ia=16203,Ra=16204,Aa=16205,ii=16206,Da=16207,Ca=16208,B=16209,cs=16210,ls=16211,Tf=852,kf=592,Of=15,If=Of,Pa=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Rf(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var ut=e=>{if(!e)return 1;let r=e.state;return!r||r.strm!==e||r.mode<Kr||r.mode>ls?1:0},fs=e=>{if(ut(e))return se;let r=e.state;return e.total_in=e.total_out=r.total=0,e.msg="",r.wrap&&(e.adler=r.wrap&1),r.mode=Kr,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(Tf),r.distcode=r.distdyn=new Int32Array(kf),r.sane=1,r.back=-1,st},ds=e=>{if(ut(e))return se;let r=e.state;return r.wsize=0,r.whave=0,r.wnext=0,fs(e)},ps=(e,r)=>{let t;if(ut(e))return se;let n=e.state;return r<0?(t=0,r=-r):(t=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?se:(n.window!==null&&n.wbits!==r&&(n.window=null),n.wrap=t,n.wbits=r,ds(e))},hs=(e,r)=>{if(!e)return se;let t=new Rf;e.state=t,t.strm=e,t.window=null,t.mode=Kr;let n=ps(e,r);return n!==st&&(e.state=null),n},Af=e=>hs(e,If),Ua=!0,oi,ai,Df=e=>{if(Ua){oi=new Int32Array(512),ai=new Int32Array(32);let r=0;for(;r<144;)e.lens[r++]=8;for(;r<256;)e.lens[r++]=9;for(;r<280;)e.lens[r++]=7;for(;r<288;)e.lens[r++]=8;for(Vt(os,e.lens,0,288,oi,0,e.work,{bits:9}),r=0;r<32;)e.lens[r++]=5;Vt(as,e.lens,0,32,ai,0,e.work,{bits:5}),Ua=!1}e.lencode=oi,e.lenbits=9,e.distcode=ai,e.distbits=5},_s=(e,r,t,n)=>{let i,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(r.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(r.subarray(t-n,t-n+i),o.wnext),n-=i,n?(o.window.set(r.subarray(t-n,t),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Cf=(e,r)=>{let t,n,i,o,a,s,l,u,c,d,p,f,h,R,b=0,g,D,x,_,C,q,v,L,I=new Uint8Array(4),w,T,We=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ut(e)||!e.output||!e.input&&e.avail_in!==0)return se;t=e.state,t.mode===Ae&&(t.mode=ri),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,n=e.input,s=e.avail_in,u=t.hold,c=t.bits,d=s,p=l,L=st;e:for(;;)switch(t.mode){case Kr:if(t.wrap===0){t.mode=ri;break}for(;c<16;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,I[0]=u&255,I[1]=u>>>8&255,t.check=W(t.check,I,2,0),u=0,c=0,t.mode=da;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",t.mode=B;break}if((u&15)!==fa){e.msg="unknown compression method",t.mode=B;break}if(u>>>=4,c-=4,v=(u&15)+8,t.wbits===0&&(t.wbits=v),v>15||v>t.wbits){e.msg="invalid window size",t.mode=B;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=u&512?ba:Ae,u=0,c=0;break;case da:for(;c<16;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}if(t.flags=u,(t.flags&255)!==fa){e.msg="unknown compression method",t.mode=B;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=B;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,t.check=W(t.check,I,2,0)),u=0,c=0,t.mode=pa;case pa:for(;c<32;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,I[2]=u>>>16&255,I[3]=u>>>24&255,t.check=W(t.check,I,4,0)),u=0,c=0,t.mode=ha;case ha:for(;c<16;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,t.check=W(t.check,I,2,0)),u=0,c=0,t.mode=_a;case _a:if(t.flags&1024){for(;c<16;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,t.check=W(t.check,I,2,0)),u=0,c=0}else t.head&&(t.head.extra=null);t.mode=ma;case ma:if(t.flags&1024&&(f=t.length,f>s&&(f=s),f&&(t.head&&(v=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(o,o+f),v)),t.flags&512&&t.wrap&4&&(t.check=W(t.check,n,f,o)),s-=f,o+=f,t.length-=f),t.length))break e;t.length=0,t.mode=ga;case ga:if(t.flags&2048){if(s===0)break e;f=0;do v=n[o+f++],t.head&&v&&t.length<65536&&(t.head.name+=String.fromCharCode(v));while(v&&f<s);if(t.flags&512&&t.wrap&4&&(t.check=W(t.check,n,f,o)),s-=f,o+=f,v)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=va;case va:if(t.flags&4096){if(s===0)break e;f=0;do v=n[o+f++],t.head&&v&&t.length<65536&&(t.head.comment+=String.fromCharCode(v));while(v&&f<s);if(t.flags&512&&t.wrap&4&&(t.check=W(t.check,n,f,o)),s-=f,o+=f,v)break e}else t.head&&(t.head.comment=null);t.mode=ya;case ya:if(t.flags&512){for(;c<16;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}if(t.wrap&4&&u!==(t.check&65535)){e.msg="header crc mismatch",t.mode=B;break}u=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=Ae;break;case ba:for(;c<32;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}e.adler=t.check=Pa(u),u=0,c=0,t.mode=Gr;case Gr:if(t.havedict===0)return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,t.hold=u,t.bits=c,Sf;e.adler=t.check=1,t.mode=Ae;case Ae:if(r===wf||r===Fr)break e;case ri:if(t.last){u>>>=c&7,c-=c&7,t.mode=ii;break}for(;c<3;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}switch(t.last=u&1,u>>>=1,c-=1,u&3){case 0:t.mode=wa;break;case 1:if(Df(t),t.mode=Br,r===Fr){u>>>=2,c-=2;break e}break;case 2:t.mode=Sa;break;case 3:e.msg="invalid block type",t.mode=B}u>>>=2,c-=2;break;case wa:for(u>>>=c&7,c-=c&7;c<32;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",t.mode=B;break}if(t.length=u&65535,u=0,c=0,t.mode=ni,r===Fr)break e;case ni:t.mode=xa;case xa:if(f=t.length,f){if(f>s&&(f=s),f>l&&(f=l),f===0)break e;i.set(n.subarray(o,o+f),a),s-=f,o+=f,l-=f,a+=f,t.length-=f;break}t.mode=Ae;break;case Sa:for(;c<14;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}if(t.nlen=(u&31)+257,u>>>=5,c-=5,t.ndist=(u&31)+1,u>>>=5,c-=5,t.ncode=(u&15)+4,u>>>=4,c-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=B;break}t.have=0,t.mode=Ea;case Ea:for(;t.have<t.ncode;){for(;c<3;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}t.lens[We[t.have++]]=u&7,u>>>=3,c-=3}for(;t.have<19;)t.lens[We[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,w={bits:t.lenbits},L=Vt(bf,t.lens,0,19,t.lencode,0,t.work,w),t.lenbits=w.bits,L){e.msg="invalid code lengths set",t.mode=B;break}t.have=0,t.mode=Ta;case Ta:for(;t.have<t.nlen+t.ndist;){for(;b=t.lencode[u&(1<<t.lenbits)-1],g=b>>>24,D=b>>>16&255,x=b&65535,!(g<=c);){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}if(x<16)u>>>=g,c-=g,t.lens[t.have++]=x;else{if(x===16){for(T=g+2;c<T;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}if(u>>>=g,c-=g,t.have===0){e.msg="invalid bit length repeat",t.mode=B;break}v=t.lens[t.have-1],f=3+(u&3),u>>>=2,c-=2}else if(x===17){for(T=g+3;c<T;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}u>>>=g,c-=g,v=0,f=3+(u&7),u>>>=3,c-=3}else{for(T=g+7;c<T;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}u>>>=g,c-=g,v=0,f=11+(u&127),u>>>=7,c-=7}if(t.have+f>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=B;break}for(;f--;)t.lens[t.have++]=v}}if(t.mode===B)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=B;break}if(t.lenbits=9,w={bits:t.lenbits},L=Vt(os,t.lens,0,t.nlen,t.lencode,0,t.work,w),t.lenbits=w.bits,L){e.msg="invalid literal/lengths set",t.mode=B;break}if(t.distbits=6,t.distcode=t.distdyn,w={bits:t.distbits},L=Vt(as,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,w),t.distbits=w.bits,L){e.msg="invalid distances set",t.mode=B;break}if(t.mode=Br,r===Fr)break e;case Br:t.mode=Hr;case Hr:if(s>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,t.hold=u,t.bits=c,hf(e,p),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,n=e.input,s=e.avail_in,u=t.hold,c=t.bits,t.mode===Ae&&(t.back=-1);break}for(t.back=0;b=t.lencode[u&(1<<t.lenbits)-1],g=b>>>24,D=b>>>16&255,x=b&65535,!(g<=c);){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}if(D&&!(D&240)){for(_=g,C=D,q=x;b=t.lencode[q+((u&(1<<_+C)-1)>>_)],g=b>>>24,D=b>>>16&255,x=b&65535,!(_+g<=c);){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}u>>>=_,c-=_,t.back+=_}if(u>>>=g,c-=g,t.back+=g,t.length=x,D===0){t.mode=Aa;break}if(D&32){t.back=-1,t.mode=Ae;break}if(D&64){e.msg="invalid literal/length code",t.mode=B;break}t.extra=D&15,t.mode=ka;case ka:if(t.extra){for(T=t.extra;c<T;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Oa;case Oa:for(;b=t.distcode[u&(1<<t.distbits)-1],g=b>>>24,D=b>>>16&255,x=b&65535,!(g<=c);){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}if(!(D&240)){for(_=g,C=D,q=x;b=t.distcode[q+((u&(1<<_+C)-1)>>_)],g=b>>>24,D=b>>>16&255,x=b&65535,!(_+g<=c);){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}u>>>=_,c-=_,t.back+=_}if(u>>>=g,c-=g,t.back+=g,D&64){e.msg="invalid distance code",t.mode=B;break}t.offset=x,t.extra=D&15,t.mode=Ia;case Ia:if(t.extra){for(T=t.extra;c<T;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=B;break}t.mode=Ra;case Ra:if(l===0)break e;if(f=p-l,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=B;break}f>t.wnext?(f-=t.wnext,h=t.wsize-f):h=t.wnext-f,f>t.length&&(f=t.length),R=t.window}else R=i,h=a-t.offset,f=t.length;f>l&&(f=l),l-=f,t.length-=f;do i[a++]=R[h++];while(--f);t.length===0&&(t.mode=Hr);break;case Aa:if(l===0)break e;i[a++]=t.length,l--,t.mode=Hr;break;case ii:if(t.wrap){for(;c<32;){if(s===0)break e;s--,u|=n[o++]<<c,c+=8}if(p-=l,e.total_out+=p,t.total+=p,t.wrap&4&&p&&(e.adler=t.check=t.flags?W(t.check,i,p,a-p):nr(t.check,i,p,a-p)),p=l,t.wrap&4&&(t.flags?u:Pa(u))!==t.check){e.msg="incorrect data check",t.mode=B;break}u=0,c=0}t.mode=Da;case Da:if(t.wrap&&t.flags){for(;c<32;){if(s===0)break e;s--,u+=n[o++]<<c,c+=8}if(t.wrap&4&&u!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=B;break}u=0,c=0}t.mode=Ca;case Ca:L=xf;break e;case B:L=ss;break e;case cs:return us;case ls:default:return se}return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,t.hold=u,t.bits=c,(t.wsize||p!==e.avail_out&&t.mode<B&&(t.mode<ii||r!==la))&&_s(e,e.output,e.next_out,p-e.avail_out),d-=e.avail_in,p-=e.avail_out,e.total_in+=d,e.total_out+=p,t.total+=p,t.wrap&4&&p&&(e.adler=t.check=t.flags?W(t.check,i,p,e.next_out-p):nr(t.check,i,p,e.next_out-p)),e.data_type=t.bits+(t.last?64:0)+(t.mode===Ae?128:0)+(t.mode===Br||t.mode===ni?256:0),(d===0&&p===0||r===la)&&L===st&&(L=Ef),L},Pf=e=>{if(ut(e))return se;let r=e.state;return r.window&&(r.window=null),e.state=null,st},Uf=(e,r)=>{if(ut(e))return se;let t=e.state;return t.wrap&2?(t.head=r,r.done=!1,st):se},Nf=(e,r)=>{let t=r.length,n,i,o;return ut(e)||(n=e.state,n.wrap!==0&&n.mode!==Gr)?se:n.mode===Gr&&(i=1,i=nr(i,r,t,0),i!==n.check)?ss:(o=_s(e,r,t,t),o?(n.mode=cs,us):(n.havedict=1,st))},Lf=ds,Mf=ps,jf=fs,zf=Af,Ff=hs,Bf=Cf,Hf=Pf,$f=Uf,Zf=Nf,qf="pako inflate (from Nodeca project)",Ce={inflateReset:Lf,inflateReset2:Mf,inflateResetKeep:jf,inflateInit:zf,inflateInit2:Ff,inflate:Bf,inflateEnd:Hf,inflateGetHeader:$f,inflateSetDictionary:Zf,inflateInfo:qf};function Gf(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Wf=Gf,ms=Object.prototype.toString,{Z_NO_FLUSH:Yf,Z_FINISH:Kf,Z_OK:ar,Z_STREAM_END:si,Z_NEED_DICT:ui,Z_STREAM_ERROR:Xf,Z_DATA_ERROR:Na,Z_MEM_ERROR:Jf}=kt;function lr(e){this.options=Yr.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(e&&e.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15||(r.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ns,this.strm.avail_out=0;let t=Ce.inflateInit2(this.strm,r.windowBits);if(t!==ar)throw new Error(ot[t]);if(this.header=new Wf,Ce.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=or.string2buf(r.dictionary):ms.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(t=Ce.inflateSetDictionary(this.strm,r.dictionary),t!==ar)))throw new Error(ot[t])}lr.prototype.push=function(e,r){let t=this.strm,n=this.options.chunkSize,i=this.options.dictionary,o,a,s;if(this.ended)return!1;for(r===~~r?a=r:a=r===!0?Kf:Yf,ms.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),o=Ce.inflate(t,a),o===ui&&i&&(o=Ce.inflateSetDictionary(t,i),o===ar?o=Ce.inflate(t,a):o===Na&&(o=ui));t.avail_in>0&&o===si&&t.state.wrap>0&&e[t.next_in]!==0;)Ce.inflateReset(t),o=Ce.inflate(t,a);switch(o){case Xf:case Na:case ui:case Jf:return this.onEnd(o),this.ended=!0,!1}if(s=t.avail_out,t.next_out&&(t.avail_out===0||o===si))if(this.options.to==="string"){let l=or.utf8border(t.output,t.next_out),u=t.next_out-l,c=or.buf2string(t.output,l);t.next_out=u,t.avail_out=n-u,u&&t.output.set(t.output.subarray(l,l+u),0),this.onData(c)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===ar&&s===0)){if(o===si)return o=Ce.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};lr.prototype.onData=function(e){this.chunks.push(e)};lr.prototype.onEnd=function(e){e===ar&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Yr.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Ei(e,r){let t=new lr(r);if(t.push(e),t.err)throw t.msg||ot[t.err];return t.result}function Vf(e,r){return r=r||{},r.raw=!0,Ei(e,r)}var Qf=lr,ed=Ei,td=Vf,rd=Ei,nd=kt,id={Inflate:Qf,inflate:ed,inflateRaw:td,ungzip:rd,constants:nd},{Deflate:Gg,deflate:Wg,deflateRaw:Yg,gzip:od}=df,{Inflate:Kg,inflate:Xg,inflateRaw:Jg,ungzip:Vg}=id;var gs=od;var Ti=["ads-face.pegah.tech","luxirana.com","winapharma.com","aparatstyle.com","bitycle.com","agah.com","biomaze.ir","wallgold.ir","sepidarang.com"];var J=class e{static assignTagToUser(r,t){E.extendSession()==="new-session-needed"&&tt.informNewSession(E.incrementSessionNumber()).then().catch(l=>{U.captureError(l,{tagId:r})});let i=E.loadItem("ma-session:id"),a=new URLSearchParams(window.parent.location.search).get("utm_ma");if(i||a){let l=i??a??"",u=window.parent.location.href;e.postPostBackEvent(l,r,u).catch(c=>{})}let s=e.loadAttributeValues(t);Object.keys(s).length>0?e.sendTagEventWithAttribs(r,s,!!i).catch(l=>{}):e.sendTagEventWithoutAttribs(r,!!i).catch(l=>{})}static async postPostBackEvent(r,t,n){let i=E.loadItem("ma-session:utm_source")||"";return new Promise((o,a)=>{E.executeCustomActionOnceInSession(`pb:${t}`,()=>{N.postJson(N.apiUrl("/v1/events/post-back"),{clickId:r,tagId:t,uri:n,latestSource:i}).then(()=>{window.postMessage("ma:advertiser-aggregated",window.parent.location.origin),o()}).catch(s=>{U.captureError(s,{tagId:t,pageUrl:n}),a(s)})})})}static async sendTagEventWithAttribs(r,t,n){return new Promise((i,o)=>{let a=`tag:${r}`;E.executeCustomActionInSession(a,()=>{ee.withUserIdCallback(s=>{s&&N.postJson(N.apiUrl(`/v1/events/tag?fid=${s}&c=${n}`),{tagId:r,av:t}).then(()=>{window.postMessage("ma:advertiser-aggregated",window.parent.location.origin),i()}).catch(l=>{U.captureError(l,{tagId:r}),o(l)})})})})}static async sendTagEventWithoutAttribs(r,t){return new Promise((n,i)=>{let o=`tag:${r}`;E.executeCustomActionOnceInSession(o,()=>{ee.withUserIdCallback(a=>{a&&N.postJson(N.apiUrl(`/v1/events/tag?fid=${a}&c=${t}`),{tagId:r}).then(()=>{window.postMessage("ma:advertiser-aggregated","*"),n()}).catch(s=>{U.captureError(s,{tagId:r}),i(s)})})})})}static externalTagCount(r){ee.withUserIdCallback(t=>{N.postJson(N.apiUrl("/v2/events/external-tag-count"),{v:t,i:r}).then(()=>{let i=Object.entries(tt.advertiserData).reduce((o,[,a])=>(o.push(...a.tags),o),[]).find(o=>o.id.toString()===r.toString());e.assignTagToUser(Number(r),i?.attribs),window.postMessage("ma:advertiser-aggregated","*")}).catch(()=>{})})}static loadAttributeValues(r){let t={};return r&&r.forEach(n=>{t[n.name]=e.calculateAttributeValues(n)}),t}static calculateAttributeValues(r){let t,n={};try{t=JSON.parse(r.script),t&&t.forEach(i=>{n[i]=(n[i]||0)+1})}catch(i){U.captureError(i,{attribute:r})}return n}};function vs({tag:e,max_interval_reset:r}){if(!e.css_selector)return;let t=`ma-tag-${e.id}`;S.observeElements(e.css_selector,n=>{n.getAttribute(t)!=="true"&&(n.setAttribute(t,"true"),n.addEventListener("click",()=>{J.assignTagToUser(e.id,e.attribs)},{signal:S.abortController.signal}))},{timeoutMs:r*1e3})}function ys({tag:e,max_interval_reset:r}){if(!e.css_selector)return;let t=`ma-tag-${e.id}`;return S.observeElements(e.css_selector,n=>{n.getAttribute(t)!=="true"&&(n.setAttribute(t,"true"),n.addEventListener("submit",()=>{J.assignTagToUser(e.id,e.attribs)},{signal:S.abortController.signal}))},{timeoutMs:r*1e3})}var ki=class{constructor(r){this.advertiserData=r;this.matcher=new Yn(window.parent.location,document)}triggerIntervalCounter={};timeouts=[];matcher;processPage(){this.transferQueryParams(),this.notifyUserId(),Object.entries(this.advertiserData).forEach(([r,t])=>{this.informPageLoaded(t),E.extendSession()==="new-session-needed"&&tt.informNewSession(E.incrementSessionNumber()).then().catch(i=>{U.captureError(i)}),t.tags.forEach(i=>{this.matcher.testMatcherAsync(t,i,o=>{o&&(this.matcher.domainMatches("mvmchery.com")&&this.monitorElementRemoval(t,i),this.applyTriggerEvent(t,i))})})}),S.setIntervalWithCleanUp(()=>this.checkUrlChange(),1e3)}informPageLoaded(r){let{clientCrawlers:t,serverCrawlers:n,matchedCrawlers:i}=this.findMatchingCrawlers(r),o=window.parent.location.href;ee.withUserIdCallback(async a=>{let s=await this.pageLoaded(o,i,a);S.setTimeoutWithCleanUp(async()=>{if(t.length>0)for(let l of t){let c=new hr(l).pageData();if(c){let d=this.#e(a,c,l.currency,o);await N.post(N.apiUrl(`/v2/events/client-product-viewed/${l.feed_id}`),JSON.stringify(d),{"Content-Type":"application/json"})}else await N.post(N.apiUrl(`/v2/events/product-deleted/${l.crawler_id}`),JSON.stringify({l:window.parent.location.href}),{"Content-Type":"application/json"})}if(n.length>0){if(!s)return;let l=this.buildContentPath(o,n,a,s),u=await this.createCompressedContent();await N.post(N.apiUrl(l),u,{"Content-Type":"application/octet-stream","Content-Encoding":"gzip"})}},2e3)})}findMatchingCrawlers(r){let t=(r.crawlers||[]).filter(o=>this.matcher.testMatcher(o)),n=t.filter(o=>o.client_side_crawl),i=t.filter(o=>!o.client_side_crawl);return{clientCrawlers:n,serverCrawlers:i,matchedCrawlers:t}}async createCompressedContent(){try{let r=await new Promise((t,n)=>{let i=gs(document.documentElement.outerHTML);i?t(i):n(new Error("Error creating compressed content."))});return new Blob([r])}catch(r){return U.captureError(r),new Blob([])}}#e(r,t,n,i){let o=Object.keys(t).reduce((a,s)=>{if(oe[s]&&(a[oe[s]]=t[s]),(a[oe[s]]&&s==="price"||s==="old_price")&&(a[oe[s]]=parseInt(a[oe[s]],10)),a[oe[s]]&&s==="full_category"){a[oe[s]]=a[oe[s]].split(hr.FullCategorySeparator);let l;a[oe[s]].forEach((u,c)=>{u===a.t&&(l=c)}),l!==void 0&&a[oe[s]].splice(l,1)}return a},{});return o.v=r,o.cu=n,o.l=i,o}async pageLoaded(r,t,n){let i=this.buildRequestData(r,t,n);return N.postJson(N.apiUrl("/v2/events/page/loaded"),i)}buildRequestData(r,t,n){let i={l:r};if(t.length>0&&(i.p=1,i.c=t.map(o=>o.crawler_id).join(",")),n){i.m=n;let o=E.loadItem("_yngt"),a=E.loadItem("sid");o&&(i.y=o),a&&(i.s=a)}return i}buildContentPath(r,t,n,i){let o=`/v2/events/page/content?t=${i}&l=${encodeURIComponent(r)}`;return t.length>0&&(o+=`&p=1&c=${t.map(a=>a.crawler_id).join(",")}`),n&&(o+=`&fid=${n}`),o}applyTriggerEvent(r,t){switch(t.trigger_type){case"showPage":this.handleShowPage(t);break;case"clickOnElement":Rt()||this.matcher.domainMatchesAny(Ti)?vs({tag:{id:t.id,attribs:t.attribs,css_selector:t.css_selector},max_interval_reset:r.max_interval_reset}):this.handleClickOnElement(r,t);break;case"submitForm":(Rt()||this.matcher.domainMatchesAny(Ti))&&ys({tag:{id:t.id,attribs:t.attribs,css_selector:t.css_selector},max_interval_reset:r.max_interval_reset}),this.handleSubmitForm(r,t);break;case"timeToStay":this.handleTimeToStay(t);break;case"customScript":this.handleCustomScript(t);break;default:}}handleShowPage(r){J.assignTagToUser(r.id,r.attribs)}handleClickOnElement(r,t){let n=t.css_selector;if(!n)return;t.id in this.triggerIntervalCounter||(this.triggerIntervalCounter[t.id]=0);let i=S.setIntervalWithCleanUp(()=>{this.triggerIntervalCounter[t.id]+=1;let o=Array.from(document.querySelectorAll(n));(o.length>0||this.triggerIntervalCounter[t.id]>=r.max_interval_reset)&&clearInterval(i),o.forEach(a=>{let s=`ma-tag-${t.id}`;a.getAttribute(s)!=="true"&&(a.setAttribute(s,"true"),a.addEventListener("click",()=>{J.assignTagToUser(t.id,t.attribs)},{signal:S.abortController.signal}))})},1e3);this.timeouts.push(i)}handleSubmitForm(r,t){let n=t.css_selector;if(!n)return;t.id in this.triggerIntervalCounter||(this.triggerIntervalCounter[t.id]=0);let i=S.setIntervalWithCleanUp(()=>{this.triggerIntervalCounter[t.id]+=1;let o=Array.from(document.querySelectorAll(n));(o.length>0||this.triggerIntervalCounter[t.id]>=r.max_interval_reset)&&clearInterval(i),o.forEach(a=>{let s=`ma-tag-${t.id}`;a.getAttribute(s)!=="true"&&(a.setAttribute(s,"true"),a.addEventListener("submit",()=>{J.assignTagToUser(t.id,t.attribs)},{signal:S.abortController.signal}))})},1e3);this.timeouts.push(i)}handleTimeToStay(r){let t=S.setTimeoutWithCleanUp(()=>{J.assignTagToUser(r.id,r.attribs)},r.time_to_remain*1e3);this.timeouts.push(t)}handleCustomScript(r){try{if(r.custom_script){let t=new Function("docReady","assignTagToUser","tag",r.custom_script);t.bind(this),t(S.onDocumentReady,J.assignTagToUser,r)}}catch(t){U.captureError(t,{tag:r})}}refresh(){let r=this.timeouts.slice();if(this.timeouts.length=0,r.length===0)this.processPage();else{let t=0;r.forEach(n=>{clearTimeout(n),t+1===r.length&&this.processPage(),t+=1})}}checkUrlChange(){let r=S.getCurrentPath();r!==S.currentPath&&(S.currentPath=r,this.matcher.updateCurrentPath(),S.onDocumentReady(()=>{S.setTimeoutWithCleanUp(()=>this.refresh(),2e3)}))}monitorElementRemoval(r,t){if(!t.css_selector)return;let n=document.querySelector(t.css_selector);if(!n)return;new MutationObserver(o=>{o.forEach(()=>{document.contains(n)||S.throttleLikeTagAssignment(()=>this.applyTriggerEvent(r,t),t.id.toString())})}).observe(document.body,{childList:!0,subtree:!0})}transferQueryParams(){if((E.loadItem("ma-session:id")||Be("utm_ma"))===null)return;let t=new URL(window.parent.location.href),n=new URLSearchParams(t.search),i=s=>{s.forEach(l=>{let u=l.getAttribute("href");if(!u)return;let c=new URL(u);n.forEach((d,p)=>{c.searchParams.append(p,d)}),l.setAttribute("href",c.toString())})};new MutationObserver(()=>{S.throttleLikeTagAssignment(()=>{let s=document.querySelectorAll("[data-ma-cta]");i(s)},"tqp",1e3)}).observe(document.body,{childList:!0,subtree:!0});let a=document.querySelectorAll("[data-ma-cta]");i(a)}notifyUserId(){if(!Be("ma_fid"))return;let t=ee.getUserId()}},Oi=ki;function bs(e,r={}){let t=location.href,n=r.pollingInterval??1e3,i=l=>{let u=location.href;u!==t&&(t=u,e(u,l))},o=()=>i("popstate"),a=()=>i("hashchange");window.addEventListener("popstate",o),window.addEventListener("hashchange",a);let s=setInterval(()=>{i("poll")},n);return()=>{window.removeEventListener("popstate",o),window.removeEventListener("hashchange",a),clearInterval(s)}}var Xr=class{constructor(){this.initializeApp()}initializeApp(){let r=new Gt;window.tpsl_version=Jo,!window.mediaadRetargetingScriptLoaded&&(window.mediaadRetargetingScriptLoaded=!0,r.initialize(),E.storeItem("ma-session:get","1"),E.deleteItem("ma-session:get"),S.onDocumentReady(async()=>{try{let t=await tt.initialize();this.prepareExternalTagCount();let n,i=()=>{n=new Oi(t),n.processPage()};i(),bs(()=>{S.abortController.abort(),S.clearTimers(),n=void 0,i()})}catch(t){U.captureError(t)}}))}prepareExternalTagCount(){let r=localStorage.getItem("mediaad.retargeting.debug")==="true",t=window.mediaadRetargeting??{};window.mediaadRetargeting={ts:[],count:J.externalTagCount,debug:r,...t},window.mediaadRetargeting.ts.forEach(window.mediaadRetargeting.count)}};var Xv=new Xr;})();
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

pako/dist/pako.esm.mjs:
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)
*/
