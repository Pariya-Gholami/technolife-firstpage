(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9397],{54098:function(e,t){var n,i="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=i.DOMException}return e.prototype=i,new e}();n=r,function(e){var t={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(t.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function u(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function c(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=c(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var n;t.arrayBuffer&&t.blob&&(n=e)&&DataView.prototype.isPrototypeOf(n)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||r(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,i=u(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,n=c(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},t.formData&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=s(e),t=o(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},l.prototype.delete=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=o(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),a(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),a(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var n,i,r=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new l(t.headers)),this.method=(i=(n=t.method||this.method||"GET").toUpperCase(),f.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function E(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},d.call(y.prototype),d.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var m=[301,302,303,307,308];v.redirect=function(e,t){if(-1===m.indexOf(t))throw RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.DOMException=n.DOMException;try{new e.DOMException}catch(T){e.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function _(n,i){return new Promise(function(r,s){var o=new y(n,i);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}}),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new v(i,n))},a.onerror=function(){s(TypeError("Network request failed"))},a.ontimeout=function(){s(TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),o.signal&&(o.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",u)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})}_.polyfill=!0,n.fetch||(n.fetch=_,n.Headers=l,n.Request=y,n.Response=v),e.Headers=l,e.Request=y,e.Response=v,e.fetch=_,Object.defineProperty(e,"__esModule",{value:!0})}({}),r.fetch.ponyfill=!0,delete r.fetch.polyfill,(t=r.fetch).default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,e.exports=t},72445:function(e){"use strict";e.exports=function(e){var t=e.uri,n=e.name,i=e.type;this.uri=t,this.name=n,this.type=i}},40804:function(e,t,n){"use strict";var i=n(51268);e.exports=function e(t,n,r){void 0===n&&(n=""),void 0===r&&(r=i);var s,o=new Map;function a(e,t){var n=o.get(t);n?n.push.apply(n,e):o.set(t,e)}if(r(t))s=null,a([n],t);else{var l=n?n+".":"";if("undefined"!=typeof FileList&&t instanceof FileList)s=Array.prototype.map.call(t,function(e,t){return a([""+l+t],e),null});else if(Array.isArray(t))s=t.map(function(t,n){var i=e(t,""+l+n,r);return i.files.forEach(a),i.clone});else if(t&&t.constructor===Object)for(var u in s={},t){var c=e(t[u],""+l+u,r);c.files.forEach(a),s[u]=c.clone}else s=t}return{clone:s,files:o}}},51268:function(e,t,n){"use strict";var i=n(72445);e.exports=function(e){return"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob||e instanceof i}},53458:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},43450:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableType=t.EnumType=void 0,r(n(99113),t);var s=n(5012);Object.defineProperty(t,"EnumType",{enumerable:!0,get:function(){return s.EnumType}});var o=n(1807);Object.defineProperty(t,"VariableType",{enumerable:!0,get:function(){return o.VariableType}})},99113:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jsonToGraphQLQuery=t.configFields=void 0;var i=n(5012),r=n(1807);function s(e){if(e instanceof i.EnumType)return e.value;if(e instanceof r.VariableType)return"$".concat(e.value);if("object"!=typeof e||null===e)return JSON.stringify(e);if(Array.isArray(e))return"[".concat(e.map(function(e){return s(e)}).join(", "),"]");var t=Object.keys(e).map(function(t){return"".concat(t,": ").concat(s(e[t]))}).join(", ");return"{".concat(t,"}")}function o(e,n){return -1==t.configFields.indexOf(e)&&-1==n.indexOf(e)}t.configFields=["__args","__alias","__aliasFor","__variables","__directives","__on","__all_on","__typeName","__name"],t.jsonToGraphQLQuery=function(e,t){if(void 0===t&&(t={}),!e||"object"!=typeof e)throw Error("query object not specified");if(0==Object.keys(e).length)throw Error("query object has no data");t.ignoreFields instanceof Array||(t.ignoreFields=[]);var n=[];!function e(t,n,i,r){Object.keys(t).filter(function(e){return o(e,r.ignoreFields)}).forEach(function(a){var l=t[a];if("object"==typeof l){if(Array.isArray(l)&&!(l=l.find(function(e){return e&&"object"==typeof e}))){i.push(["".concat(a),n]);return}if(l&&0===Object.keys(l).filter(function(e){return!1!==l[e]||r.includeFalsyKeys}).length)return;var u=Object.keys(l).filter(function(e){return o(e,r.ignoreFields)}).length>0,c="object"==typeof l.__args&&Object.keys(l.__args).length>0,p="object"==typeof l.__directives,h=l.__all_on instanceof Array,d="object"==typeof l.__on,f="".concat(a);if("string"==typeof l.__name&&(f="".concat(f," ").concat(l.__name)),"string"==typeof l.__aliasFor&&(f="".concat(f,": ").concat(l.__aliasFor)),"object"==typeof l.__variables&&Object.keys(l.__variables).length>0)f="".concat(f," (").concat(function(e){var t=[];for(var n in e)t.push("$".concat(n,": ").concat(e[n]));return t.join(", ")}(l.__variables),")");else if(c||p){var y="",E="";p&&(E=Object.entries(l.__directives).map(function(e){var t;return"@".concat(function(e){var t=Object.keys(e)[0],n=e[t];if("boolean"==typeof n||"object"==typeof n&&0===Object.keys(n).length)return t;if("object"==typeof n){var i=[];for(var r in n){var o=s(n[r]).replace(/"/g,"");i.push("".concat(r,": ").concat(o))}return"".concat(t,"(").concat(i.join(", "),")")}throw Error("Unsupported type for directive: ".concat(typeof n,". Types allowed: object, boolean.\n")+"Offending object: ".concat(JSON.stringify(e)))}(((t={})[e[0]]=e[1],t)))}).join(" ")),c&&(y="(".concat(function(e){var t=[];for(var n in e)t.push("".concat(n,": ").concat(s(e[n])));return t.join(", ")}(l.__args),")")),f="".concat(f," ").concat(y).concat(p&&c?" ":"").concat(E)}i.push([f+(u||d||h?" {":""),n]),e(l,n+1,i,r),h&&l.__all_on.forEach(function(e){i.push(["...".concat(e),n+1])}),d&&(l.__on instanceof Array?l.__on:[l.__on]).forEach(function(t){var s=t.__typeName;i.push(["... on ".concat(s," {"),n+1]),e(t,n+2,i,r),i.push(["}",n+1])}),(u||d||h)&&i.push(["}",n])}else(!0===r.includeFalsyKeys||l)&&i.push(["".concat(a),n])})}(e,0,n,t);var i="";return n.forEach(function(e){var n=e[0],r=e[1];t.pretty?(i&&(i+="\n"),i+=Array(4*r+1).join(" ")+n):(i&&(i+=" "),i+=n)}),i}},5012:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnumType=void 0,t.EnumType=function(e){this.value=e}},1807:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariableType=void 0;var n=function(){function e(e){this.value=e}return e.prototype.toJSON=function(){return"$".concat(this.value)},e}();t.VariableType=n},92105:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>t.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var l=o(n(67294)),u=n(96657),c=(0,n(60010).createAnimation)("PulseLoader","0% {transform: scale(1); opacity: 1} 45% {transform: scale(0.1); opacity: 0.7} 80% {transform: scale(1); opacity: 1}","pulse");t.default=function(e){var t=e.loading,n=e.color,r=void 0===n?"#000000":n,s=e.speedMultiplier,o=void 0===s?1:s,p=e.cssOverride,h=e.size,d=void 0===h?15:h,f=e.margin,y=void 0===f?2:f,E=a(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),v=i({display:"inherit"},void 0===p?{}:p),m=function(e){return{backgroundColor:r,width:(0,u.cssValue)(d),height:(0,u.cssValue)(d),margin:(0,u.cssValue)(y),borderRadius:"100%",display:"inline-block",animation:"".concat(c," ").concat(.75/o,"s ").concat(.12*e/o,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return void 0===t||t?l.createElement("span",i({style:v},E),l.createElement("span",{style:m(1)}),l.createElement("span",{style:m(2)}),l.createElement("span",{style:m(3)})):null}},60010:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=void 0,t.createAnimation=function(e,t,n){var i="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return i;var r=document.createElement("style");document.head.appendChild(r);var s=r.sheet,o="\n    @keyframes ".concat(i," {\n      ").concat(t,"\n    }\n  ");return s&&s.insertRule(o,0),i}},96657:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cssValue=t.parseLengthAndUnit=void 0;var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function i(e){if("number"==typeof e)return{value:e,unit:"px"};var t,i=(e.match(/^[0-9.]*/)||"").toString();t=i.includes(".")?parseFloat(i):parseInt(i,10);var r=(e.match(/[^0-9]*$/)||"").toString();return n[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}t.parseLengthAndUnit=i,t.cssValue=function(e){var t=i(e);return"".concat(t.value).concat(t.unit)}},66858:function(e,t,n){"use strict";n.d(t,{g6:function(){return eN}});let i={parse:JSON.parse,stringify:JSON.stringify};var r,s,o,a,l,u,c,p,h=n(51268),d=n(40804),f=n(53458);let y=e=>h(e)||null!==e&&"object"==typeof e&&"function"==typeof e.pipe,E=(e,t,n,r=i)=>{let{clone:s,files:o}=d({query:e,variables:t,operationName:n},"",y);if(0===o.size){if(!Array.isArray(e))return r.stringify(s);if(void 0!==t&&!Array.isArray(t))throw Error("Cannot create request body with given variable type, array expected");let a=e.reduce((e,n,i)=>(e.push({query:n,variables:t?t[i]:void 0}),e),[]);return r.stringify(a)}let l="undefined"==typeof FormData?f:FormData,u=new l;u.append("operations",r.stringify(s));let c={},p=0;return o.forEach(e=>{c[++p]=e}),u.append("map",r.stringify(c)),p=0,o.forEach((e,t)=>{u.append(`${++p}`,t)}),u},v=e=>e.toUpperCase(),m=e=>{let t={};return e.forEach((e,n)=>{t[n]=e}),t},T=(e,t,n)=>e.document?e:{document:e,variables:t,requestHeaders:n,signal:void 0},_=(e,t,n)=>e.query?e:{query:e,variables:t,requestHeaders:n,signal:void 0},b=(e,t)=>e.documents?e:{documents:e,requestHeaders:t,signal:void 0},N=/\r\n|[\n\r]/g;function O(e,t){let n=0,i=1;for(let r of e.body.matchAll(N)){if("number"==typeof r.index||function(e,t){let n=Boolean(e);if(!n)throw Error(null!=t?t:"Unexpected invariant triggered.")}(!1),r.index>=t)break;n=r.index+r[0].length,i+=1}return{line:i,column:t+1-n}}function A(e,t){let n=e.locationOffset.column-1,i="".padStart(n)+e.body,r=t.line-1,s=e.locationOffset.line-1,o=t.line+s,a=1===t.line?n:0,l=t.column+a,u=`${e.name}:${o}:${l}
`,c=i.split(/\r\n|[\n\r]/g),p=c[r];if(p.length>120){let h=Math.floor(l/80),d=[];for(let f=0;f<p.length;f+=80)d.push(p.slice(f,f+80));return u+g([[`${o} |`,d[0]],...d.slice(1,h+1).map(e=>["|",e]),["|","^".padStart(l%80)],["|",d[h+1]]])}return u+g([[`${o-1} |`,c[r-1]],[`${o} |`,p],["|","^".padStart(l)],[`${o+1} |`,c[r+1]]])}function g(e){let t=e.filter(([e,t])=>void 0!==t),n=Math.max(...t.map(([e])=>e.length));return t.map(([e,t])=>e.padStart(n)+(t?" "+t:"")).join("\n")}class I extends Error{constructor(e,...t){var n,i,r,s;let{nodes:o,source:a,positions:l,path:u,originalError:c,extensions:p}=function(e){let t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!=u?u:void 0,this.originalError=null!=c?c:void 0,this.nodes=x(Array.isArray(o)?o:o?[o]:void 0);let h=x(null===(n=this.nodes)||void 0===n?void 0:n.map(e=>e.loc).filter(e=>null!=e));this.source=null!=a?a:null==h?void 0:null===(i=h[0])||void 0===i?void 0:i.source,this.positions=null!=l?l:null==h?void 0:h.map(e=>e.start),this.locations=l&&a?l.map(e=>O(a,e)):null==h?void 0:h.map(e=>O(e.source,e.start));let d="object"==typeof(s=null==c?void 0:c.extensions)&&null!==s?null==c?void 0:c.extensions:void 0;this.extensions=null!==(r=null!=p?p:d)&&void 0!==r?r:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=c&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,I):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes){for(let t of this.nodes)if(t.loc){var n;e+="\n\n"+A((n=t.loc).source,O(n.source,n.start))}}else if(this.source&&this.locations)for(let i of this.locations)e+="\n\n"+A(this.source,i);return e}toJSON(){let e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function x(e){return void 0===e||0===e.length?void 0:e}function D(e,t,n){return new I(`Syntax Error: ${n}`,{source:e,positions:[t]})}class S{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class k{constructor(e,t,n,i,r,s){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=r,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}let C={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},w=new Set(Object.keys(C));function R(e){let t=null==e?void 0:e.kind;return"string"==typeof t&&w.has(t)}function L(e){return 9===e||32===e}function F(e){return e>=48&&e<=57}function P(e){return e>=97&&e<=122||e>=65&&e<=90}function j(e){return P(e)||95===e}(r=l||(l={})).QUERY="query",r.MUTATION="mutation",r.SUBSCRIPTION="subscription",(s=u||(u={})).QUERY="QUERY",s.MUTATION="MUTATION",s.SUBSCRIPTION="SUBSCRIPTION",s.FIELD="FIELD",s.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",s.FRAGMENT_SPREAD="FRAGMENT_SPREAD",s.INLINE_FRAGMENT="INLINE_FRAGMENT",s.VARIABLE_DEFINITION="VARIABLE_DEFINITION",s.SCHEMA="SCHEMA",s.SCALAR="SCALAR",s.OBJECT="OBJECT",s.FIELD_DEFINITION="FIELD_DEFINITION",s.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",s.INTERFACE="INTERFACE",s.UNION="UNION",s.ENUM="ENUM",s.ENUM_VALUE="ENUM_VALUE",s.INPUT_OBJECT="INPUT_OBJECT",s.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",(o=c||(c={})).NAME="Name",o.DOCUMENT="Document",o.OPERATION_DEFINITION="OperationDefinition",o.VARIABLE_DEFINITION="VariableDefinition",o.SELECTION_SET="SelectionSet",o.FIELD="Field",o.ARGUMENT="Argument",o.FRAGMENT_SPREAD="FragmentSpread",o.INLINE_FRAGMENT="InlineFragment",o.FRAGMENT_DEFINITION="FragmentDefinition",o.VARIABLE="Variable",o.INT="IntValue",o.FLOAT="FloatValue",o.STRING="StringValue",o.BOOLEAN="BooleanValue",o.NULL="NullValue",o.ENUM="EnumValue",o.LIST="ListValue",o.OBJECT="ObjectValue",o.OBJECT_FIELD="ObjectField",o.DIRECTIVE="Directive",o.NAMED_TYPE="NamedType",o.LIST_TYPE="ListType",o.NON_NULL_TYPE="NonNullType",o.SCHEMA_DEFINITION="SchemaDefinition",o.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",o.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",o.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",o.FIELD_DEFINITION="FieldDefinition",o.INPUT_VALUE_DEFINITION="InputValueDefinition",o.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",o.UNION_TYPE_DEFINITION="UnionTypeDefinition",o.ENUM_TYPE_DEFINITION="EnumTypeDefinition",o.ENUM_VALUE_DEFINITION="EnumValueDefinition",o.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",o.DIRECTIVE_DEFINITION="DirectiveDefinition",o.SCHEMA_EXTENSION="SchemaExtension",o.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",o.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",o.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",o.UNION_TYPE_EXTENSION="UnionTypeExtension",o.ENUM_TYPE_EXTENSION="EnumTypeExtension",o.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",(a=p||(p={})).SOF="<SOF>",a.EOF="<EOF>",a.BANG="!",a.DOLLAR="$",a.AMP="&",a.PAREN_L="(",a.PAREN_R=")",a.SPREAD="...",a.COLON=":",a.EQUALS="=",a.AT="@",a.BRACKET_L="[",a.BRACKET_R="]",a.BRACE_L="{",a.PIPE="|",a.BRACE_R="}",a.NAME="Name",a.INT="Int",a.FLOAT="Float",a.STRING="String",a.BLOCK_STRING="BlockString",a.COMMENT="Comment";class B{constructor(e){let t=new k(p.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){this.lastToken=this.token;let e=this.token=this.lookahead();return e}lookahead(){let e=this.token;if(e.kind!==p.EOF)do if(e.next)e=e.next;else{let t=function(e,t){let n=e.source.body,i=n.length,r=t;for(;r<i;){let s=n.charCodeAt(r);switch(s){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++e.line,e.lineStart=r;continue;case 13:10===n.charCodeAt(r+1)?r+=2:++r,++e.line,e.lineStart=r;continue;case 35:return function(e,t){let n=e.source.body,i=n.length,r=t+1;for(;r<i;){let s=n.charCodeAt(r);if(10===s||13===s)break;if(M(s))++r;else if(U(n,r))r+=2;else break}return K(e,p.COMMENT,t,r,n.slice(t+1,r))}(e,r);case 33:return K(e,p.BANG,r,r+1);case 36:return K(e,p.DOLLAR,r,r+1);case 38:return K(e,p.AMP,r,r+1);case 40:return K(e,p.PAREN_L,r,r+1);case 41:return K(e,p.PAREN_R,r,r+1);case 46:if(46===n.charCodeAt(r+1)&&46===n.charCodeAt(r+2))return K(e,p.SPREAD,r,r+3);break;case 58:return K(e,p.COLON,r,r+1);case 61:return K(e,p.EQUALS,r,r+1);case 64:return K(e,p.AT,r,r+1);case 91:return K(e,p.BRACKET_L,r,r+1);case 93:return K(e,p.BRACKET_R,r,r+1);case 123:return K(e,p.BRACE_L,r,r+1);case 124:return K(e,p.PIPE,r,r+1);case 125:return K(e,p.BRACE_R,r,r+1);case 34:if(34===n.charCodeAt(r+1)&&34===n.charCodeAt(r+2))return function(e,t){let n=e.source.body,i=n.length,r=e.lineStart,s=t+3,o=s,a="",l=[];for(;s<i;){let u=n.charCodeAt(s);if(34===u&&34===n.charCodeAt(s+1)&&34===n.charCodeAt(s+2)){a+=n.slice(o,s),l.push(a);let c=K(e,p.BLOCK_STRING,t,s+3,(function(e){var t,n;let i=Number.MAX_SAFE_INTEGER,r=null,s=-1;for(let o=0;o<e.length;++o){let a=e[o],l=function(e){let t=0;for(;t<e.length&&L(e.charCodeAt(t));)++t;return t}(a);l!==a.length&&(r=null!==(n=r)&&void 0!==n?n:o,s=o,0!==o&&l<i&&(i=l))}return e.map((e,t)=>0===t?e:e.slice(i)).slice(null!==(t=r)&&void 0!==t?t:0,s+1)})(l).join("\n"));return e.line+=l.length-1,e.lineStart=r,c}if(92===u&&34===n.charCodeAt(s+1)&&34===n.charCodeAt(s+2)&&34===n.charCodeAt(s+3)){a+=n.slice(o,s),o=s+1,s+=4;continue}if(10===u||13===u){a+=n.slice(o,s),l.push(a),13===u&&10===n.charCodeAt(s+1)?s+=2:++s,a="",o=s,r=s;continue}if(M(u))++s;else if(U(n,s))s+=2;else throw D(e.source,s,`Invalid character within String: ${$(e,s)}.`)}throw D(e.source,s,"Unterminated string.")}(e,r);return function(e,t){let n=e.source.body,i=n.length,r=t+1,s=r,o="";for(;r<i;){let a=n.charCodeAt(r);if(34===a)return o+=n.slice(s,r),K(e,p.STRING,t,r+1,o);if(92===a){o+=n.slice(s,r);let l=117===n.charCodeAt(r+1)?123===n.charCodeAt(r+2)?function(e,t){let n=e.source.body,i=0,r=3;for(;r<12;){let s=n.charCodeAt(t+r++);if(125===s){if(r<5||!M(i))break;return{value:String.fromCodePoint(i),size:r}}if((i=i<<4|J(s))<0)break}throw D(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+r)}".`)}(e,r):function(e,t){let n=e.source.body,i=Y(n,t+2);if(M(i))return{value:String.fromCodePoint(i),size:6};if(V(i)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){let r=Y(n,t+8);if(q(r))return{value:String.fromCodePoint(i,r),size:12}}throw D(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}(e,r):function(e,t){let n=e.source.body,i=n.charCodeAt(t+1);switch(i){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw D(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}(e,r);o+=l.value,r+=l.size,s=r;continue}if(10===a||13===a)break;if(M(a))++r;else if(U(n,r))r+=2;else throw D(e.source,r,`Invalid character within String: ${$(e,r)}.`)}throw D(e.source,r,"Unterminated string.")}(e,r)}if(F(s)||45===s)return function(e,t,n){let i=e.source.body,r=t,s=n,o=!1;if(45===s&&(s=i.charCodeAt(++r)),48===s){if(F(s=i.charCodeAt(++r)))throw D(e.source,r,`Invalid number, unexpected digit after 0: ${$(e,r)}.`)}else r=G(e,r,s),s=i.charCodeAt(r);if(46===s&&(o=!0,s=i.charCodeAt(++r),r=G(e,r,s),s=i.charCodeAt(r)),(69===s||101===s)&&(o=!0,(43===(s=i.charCodeAt(++r))||45===s)&&(s=i.charCodeAt(++r)),r=G(e,r,s),s=i.charCodeAt(r)),46===s||j(s))throw D(e.source,r,`Invalid number, expected digit but got: ${$(e,r)}.`);return K(e,o?p.FLOAT:p.INT,t,r,i.slice(t,r))}(e,r,s);if(j(s))return function(e,t){let n=e.source.body,i=n.length,r=t+1;for(;r<i;){let s=n.charCodeAt(r);if(P(s)||F(s)||95===s)++r;else break}return K(e,p.NAME,t,r,n.slice(t,r))}(e,r);throw D(e.source,r,39===s?"Unexpected single quote character ('), did you mean to use a double quote (\")?":M(s)||U(n,r)?`Unexpected character: ${$(e,r)}.`:`Invalid character: ${$(e,r)}.`)}return K(e,p.EOF,i,i)}(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===p.COMMENT);return e}}function M(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function U(e,t){return V(e.charCodeAt(t))&&q(e.charCodeAt(t+1))}function V(e){return e>=55296&&e<=56319}function q(e){return e>=56320&&e<=57343}function $(e,t){let n=e.source.body.codePointAt(t);if(void 0===n)return p.EOF;if(n>=32&&n<=126){let i=String.fromCodePoint(n);return'"'===i?"'\"'":`"${i}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function K(e,t,n,i,r){let s=e.line,o=1+n-e.lineStart;return new k(t,n,i,s,o,r)}function G(e,t,n){if(!F(n))throw D(e.source,t,`Invalid number, expected digit but got: ${$(e,t)}.`);let i=e.source.body,r=t+1;for(;F(i.charCodeAt(r));)++r;return r}function Y(e,t){return J(e.charCodeAt(t))<<12|J(e.charCodeAt(t+1))<<8|J(e.charCodeAt(t+2))<<4|J(e.charCodeAt(t+3))}function J(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function H(e,t){let n=Boolean(e);if(!n)throw Error(t)}function z(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";let n=[...t,e];if("function"==typeof e.toJSON){let i=e.toJSON();if(i!==e)return"string"==typeof i?i:z(i,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";let n=Math.min(10,e.length),i=e.length-n,r=[];for(let s=0;s<n;++s)r.push(z(e[s],t));return 1===i?r.push("... 1 more item"):i>1&&r.push(`... ${i} more items`),"["+r.join(", ")+"]"}(e,n);return function(e,t){let n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){let t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){let n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";let i=n.map(([e,n])=>e+": "+z(n,t));return"{ "+i.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}let Q=globalThis.process&&!0,X=Q?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if("object"==typeof e&&null!==e){var n;let i=t.prototype[Symbol.toStringTag],r=Symbol.toStringTag in e?e[Symbol.toStringTag]:null===(n=e.constructor)||void 0===n?void 0:n.name;if(i===r){let s=z(e,[]);throw Error(`Cannot use ${i} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class W{constructor(e,t="GraphQL request",n={line:1,column:1}){"string"==typeof e||H(!1,`Body must be a string. Received: ${z(e,[])}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||H(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||H(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}class Z{constructor(e,t={}){let n=X(e,W)?e:new W(e);this._lexer=new B(n),this._options=t,this._tokenCounter=0}parseName(){let e=this.expectToken(p.NAME);return this.node(e,{kind:c.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:c.DOCUMENT,definitions:this.many(p.SOF,this.parseDefinition,p.EOF)})}parseDefinition(){if(this.peek(p.BRACE_L))return this.parseOperationDefinition();let e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===p.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw D(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){let e;let t=this._lexer.token;if(this.peek(p.BRACE_L))return this.node(t,{kind:c.OPERATION_DEFINITION,operation:l.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let n=this.parseOperationType();return this.peek(p.NAME)&&(e=this.parseName()),this.node(t,{kind:c.OPERATION_DEFINITION,operation:n,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let e=this.expectToken(p.NAME);switch(e.value){case"query":return l.QUERY;case"mutation":return l.MUTATION;case"subscription":return l.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(p.PAREN_L,this.parseVariableDefinition,p.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:c.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(p.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(p.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let e=this._lexer.token;return this.expectToken(p.DOLLAR),this.node(e,{kind:c.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:c.SELECTION_SET,selections:this.many(p.BRACE_L,this.parseSelection,p.BRACE_R)})}parseSelection(){return this.peek(p.SPREAD)?this.parseFragment():this.parseField()}parseField(){let e,t;let n=this._lexer.token,i=this.parseName();return this.expectOptionalToken(p.COLON)?(e=i,t=this.parseName()):t=i,this.node(n,{kind:c.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(p.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){let t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(p.PAREN_L,t,p.PAREN_R)}parseArgument(e=!1){let t=this._lexer.token,n=this.parseName();return this.expectToken(p.COLON),this.node(t,{kind:c.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let e=this._lexer.token;this.expectToken(p.SPREAD);let t=this.expectOptionalKeyword("on");return!t&&this.peek(p.NAME)?this.node(e,{kind:c.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:c.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let e=this._lexer.token;return(this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables)?this.node(e,{kind:c.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:c.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){let t=this._lexer.token;switch(t.kind){case p.BRACKET_L:return this.parseList(e);case p.BRACE_L:return this.parseObject(e);case p.INT:return this.advanceLexer(),this.node(t,{kind:c.INT,value:t.value});case p.FLOAT:return this.advanceLexer(),this.node(t,{kind:c.FLOAT,value:t.value});case p.STRING:case p.BLOCK_STRING:return this.parseStringLiteral();case p.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:c.BOOLEAN,value:!0});case"false":return this.node(t,{kind:c.BOOLEAN,value:!1});case"null":return this.node(t,{kind:c.NULL});default:return this.node(t,{kind:c.ENUM,value:t.value})}case p.DOLLAR:if(e){if(this.expectToken(p.DOLLAR),this._lexer.token.kind===p.NAME){let n=this._lexer.token.value;throw D(this._lexer.source,t.start,`Unexpected variable "$${n}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:c.STRING,value:e.value,block:e.kind===p.BLOCK_STRING})}parseList(e){let t=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:c.LIST,values:this.any(p.BRACKET_L,t,p.BRACKET_R)})}parseObject(e){let t=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:c.OBJECT,fields:this.any(p.BRACE_L,t,p.BRACE_R)})}parseObjectField(e){let t=this._lexer.token,n=this.parseName();return this.expectToken(p.COLON),this.node(t,{kind:c.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){let t=[];for(;this.peek(p.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){let t=this._lexer.token;return this.expectToken(p.AT),this.node(t,{kind:c.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){let e;let t=this._lexer.token;if(this.expectOptionalToken(p.BRACKET_L)){let n=this.parseTypeReference();this.expectToken(p.BRACKET_R),e=this.node(t,{kind:c.LIST_TYPE,type:n})}else e=this.parseNamedType();return this.expectOptionalToken(p.BANG)?this.node(t,{kind:c.NON_NULL_TYPE,type:e}):e}parseNamedType(){return this.node(this._lexer.token,{kind:c.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(p.STRING)||this.peek(p.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");let n=this.parseConstDirectives(),i=this.many(p.BRACE_L,this.parseOperationTypeDefinition,p.BRACE_R);return this.node(e,{kind:c.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:i})}parseOperationTypeDefinition(){let e=this._lexer.token,t=this.parseOperationType();this.expectToken(p.COLON);let n=this.parseNamedType();return this.node(e,{kind:c.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");let n=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:c.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:i})}parseObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");let n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:c.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:r,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(p.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(p.BRACE_L,this.parseFieldDefinition,p.BRACE_R)}parseFieldDefinition(){let e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(p.COLON);let r=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(e,{kind:c.FIELD_DEFINITION,description:t,name:n,arguments:i,type:r,directives:s})}parseArgumentDefs(){return this.optionalMany(p.PAREN_L,this.parseInputValueDef,p.PAREN_R)}parseInputValueDef(){let e;let t=this._lexer.token,n=this.parseDescription(),i=this.parseName();this.expectToken(p.COLON);let r=this.parseTypeReference();this.expectOptionalToken(p.EQUALS)&&(e=this.parseConstValueLiteral());let s=this.parseConstDirectives();return this.node(t,{kind:c.INPUT_VALUE_DEFINITION,description:n,name:i,type:r,defaultValue:e,directives:s})}parseInterfaceTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");let n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:c.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:r,fields:s})}parseUnionTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");let n=this.parseName(),i=this.parseConstDirectives(),r=this.parseUnionMemberTypes();return this.node(e,{kind:c.UNION_TYPE_DEFINITION,description:t,name:n,directives:i,types:r})}parseUnionMemberTypes(){return this.expectOptionalToken(p.EQUALS)?this.delimitedMany(p.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");let n=this.parseName(),i=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();return this.node(e,{kind:c.ENUM_TYPE_DEFINITION,description:t,name:n,directives:i,values:r})}parseEnumValuesDefinition(){return this.optionalMany(p.BRACE_L,this.parseEnumValueDefinition,p.BRACE_R)}parseEnumValueDefinition(){let e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:c.ENUM_VALUE_DEFINITION,description:t,name:n,directives:i})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw D(this._lexer.source,this._lexer.token.start,`${ee(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");let n=this.parseName(),i=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();return this.node(e,{kind:c.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:i,fields:r})}parseInputFieldsDefinition(){return this.optionalMany(p.BRACE_L,this.parseInputValueDef,p.BRACE_R)}parseTypeSystemExtension(){let e=this._lexer.lookahead();if(e.kind===p.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let t=this.parseConstDirectives(),n=this.optionalMany(p.BRACE_L,this.parseOperationTypeDefinition,p.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:c.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:c.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:c.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:r})}parseInterfaceTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:c.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:r})}parseUnionTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let t=this.parseName(),n=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(0===n.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:c.UNION_TYPE_EXTENSION,name:t,directives:n,types:i})}parseEnumTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let t=this.parseName(),n=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:c.ENUM_TYPE_EXTENSION,name:t,directives:n,values:i})}parseInputObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let t=this.parseName(),n=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:c.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:i})}parseDirectiveDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(p.AT);let n=this.parseName(),i=this.parseArgumentDefs(),r=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let s=this.parseDirectiveLocations();return this.node(e,{kind:c.DIRECTIVE_DEFINITION,description:t,name:n,arguments:i,repeatable:r,locations:s})}parseDirectiveLocations(){return this.delimitedMany(p.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(u,t.value))return t;throw this.unexpected(e)}node(e,t){return!0!==this._options.noLocation&&(t.loc=new S(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){let t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw D(this._lexer.source,t.start,`Expected ${et(e)}, found ${ee(t)}.`)}expectOptionalToken(e){let t=this._lexer.token;return t.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){let t=this._lexer.token;if(t.kind===p.NAME&&t.value===e)this.advanceLexer();else throw D(this._lexer.source,t.start,`Expected "${e}", found ${ee(t)}.`)}expectOptionalKeyword(e){let t=this._lexer.token;return t.kind===p.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){let t=null!=e?e:this._lexer.token;return D(this._lexer.source,t.start,`Unexpected ${ee(t)}.`)}any(e,t,n){this.expectToken(e);let i=[];for(;!this.expectOptionalToken(n);)i.push(t.call(this));return i}optionalMany(e,t,n){if(this.expectOptionalToken(e)){let i=[];do i.push(t.call(this));while(!this.expectOptionalToken(n));return i}return[]}many(e,t,n){this.expectToken(e);let i=[];do i.push(t.call(this));while(!this.expectOptionalToken(n));return i}delimitedMany(e,t){this.expectOptionalToken(e);let n=[];do n.push(t.call(this));while(this.expectOptionalToken(e));return n}advanceLexer(){let{maxTokens:e}=this._options,t=this._lexer.advance();if(void 0!==e&&t.kind!==p.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw D(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function ee(e){let t=e.value;return et(e.kind)+(null!=t?` "${t}"`:"")}function et(e){return e===p.BANG||e===p.DOLLAR||e===p.AMP||e===p.PAREN_L||e===p.PAREN_R||e===p.SPREAD||e===p.COLON||e===p.EQUALS||e===p.AT||e===p.BRACKET_L||e===p.BRACKET_R||e===p.BRACE_L||e===p.PIPE||e===p.BRACE_R?`"${e}"`:e}let en=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function ei(e){return er[e.charCodeAt(0)]}let er=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],es=Object.freeze({}),eo={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>ea(e.definitions,"\n\n")},OperationDefinition:{leave(e){let t=eu("(",ea(e.variableDefinitions,", "),")"),n=ea([e.operation,ea([e.name,t]),ea(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:i})=>e+": "+t+eu(" = ",n)+eu(" ",ea(i," "))},SelectionSet:{leave:({selections:e})=>el(e)},Field:{leave({alias:e,name:t,arguments:n,directives:i,selectionSet:r}){let s=eu("",e,": ")+t,o=s+eu("(",ea(n,", "),")");return o.length>80&&(o=s+eu("(\n",ec(ea(n,"\n")),"\n)")),ea([o,ea(i," "),r]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+eu(" ",ea(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>ea(["...",eu("on ",e),ea(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:i,selectionSet:r})=>`fragment ${e}${eu("(",ea(n,", "),")")} on ${t} ${eu("",ea(i," ")," ")}`+r},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){let n=e.replace(/"""/g,'\\"""'),i=n.split(/\r\n|[\n\r]/g),r=1===i.length,s=i.length>1&&i.slice(1).every(e=>0===e.length||L(e.charCodeAt(0))),o=n.endsWith('\\"""'),a=e.endsWith('"')&&!o,l=e.endsWith("\\"),u=a||l,c=!(null!=t&&t.minimize)&&(!r||e.length>70||u||s||o),p="",h=r&&L(e.charCodeAt(0));return(c&&!h||s)&&(p+="\n"),p+=n,(c||u)&&(p+="\n"),'"""'+p+'"""'}(e):`"${e.replace(en,ei)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+ea(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+ea(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+eu("(",ea(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>eu("",e,"\n")+ea(["schema",ea(t," "),el(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>eu("",e,"\n")+ea(["scalar",t,ea(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:i,fields:r})=>eu("",e,"\n")+ea(["type",t,eu("implements ",ea(n," & ")),ea(i," "),el(r)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:i,directives:r})=>eu("",e,"\n")+t+(ep(n)?eu("(\n",ec(ea(n,"\n")),"\n)"):eu("(",ea(n,", "),")"))+": "+i+eu(" ",ea(r," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:i,directives:r})=>eu("",e,"\n")+ea([t+": "+n,eu("= ",i),ea(r," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:i,fields:r})=>eu("",e,"\n")+ea(["interface",t,eu("implements ",ea(n," & ")),ea(i," "),el(r)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:i})=>eu("",e,"\n")+ea(["union",t,ea(n," "),eu("= ",ea(i," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:i})=>eu("",e,"\n")+ea(["enum",t,ea(n," "),el(i)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>eu("",e,"\n")+ea([t,ea(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:i})=>eu("",e,"\n")+ea(["input",t,ea(n," "),el(i)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:i,locations:r})=>eu("",e,"\n")+"directive @"+t+(ep(n)?eu("(\n",ec(ea(n,"\n")),"\n)"):eu("(",ea(n,", "),")"))+(i?" repeatable":"")+" on "+ea(r," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>ea(["extend schema",ea(e," "),el(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>ea(["extend scalar",e,ea(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:i})=>ea(["extend type",e,eu("implements ",ea(t," & ")),ea(n," "),el(i)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:i})=>ea(["extend interface",e,eu("implements ",ea(t," & ")),ea(n," "),el(i)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>ea(["extend union",e,ea(t," "),eu("= ",ea(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>ea(["extend enum",e,ea(t," "),el(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>ea(["extend input",e,ea(t," "),el(n)]," ")}};function ea(e,t=""){var n;return null!==(n=null==e?void 0:e.filter(e=>e).join(t))&&void 0!==n?n:""}function el(e){return eu("{\n",ec(ea(e,"\n")),"\n}")}function eu(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function ec(e){return eu("  ",e.replace(/\n/g,"\n  "))}function ep(e){var t;return null!==(t=null==e?void 0:e.some(e=>e.includes("\n")))&&void 0!==t&&t}let eh=e=>{let t;let n=e.definitions.filter(e=>"OperationDefinition"===e.kind);return 1===n.length&&(t=n[0]?.name?.value),t},ed=e=>{if("string"==typeof e){let t;try{let n=function(e,t){let n=new Z(e,void 0);return n.parseDocument()}(e);t=eh(n)}catch(i){}return{query:e,operationName:t}}let r=eh(e);return{query:function(e,t,n=C){let i,r,s;let o=new Map;for(let a of Object.values(c))o.set(a,function(e,t){let n=e[t];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}(t,a));let l=Array.isArray(e),u=[e],p=-1,h=[],d=e,f=[],y=[];do{var E,v,m;let T;p++;let _=p===u.length,b=_&&0!==h.length;if(_){if(r=0===y.length?void 0:f[f.length-1],d=s,s=y.pop(),b){if(l){d=d.slice();let N=0;for(let[O,A]of h){let g=O-N;null===A?(d.splice(g,1),N++):d[g]=A}}else for(let[I,x]of(d=Object.defineProperties({},Object.getOwnPropertyDescriptors(d)),h))d[I]=x}p=i.index,u=i.keys,h=i.edits,l=i.inArray,i=i.prev}else if(s){if(null==(d=s[r=l?p:u[p]]))continue;f.push(r)}if(!Array.isArray(d)){R(d)||H(!1,`Invalid AST Node: ${z(d,[])}.`);let D=_?null===(E=o.get(d.kind))||void 0===E?void 0:E.leave:null===(v=o.get(d.kind))||void 0===v?void 0:v.enter;if((T=null==D?void 0:D.call(t,d,r,s,f,y))===es)break;if(!1===T){if(!_){f.pop();continue}}else if(void 0!==T&&(h.push([r,T]),!_)){if(R(T))d=T;else{f.pop();continue}}}void 0===T&&b&&h.push([r,d]),_?f.pop():(i={inArray:l,index:p,keys:u,edits:h,prev:i},u=(l=Array.isArray(d))?d:null!==(m=n[d.kind])&&void 0!==m?m:[],p=-1,h=[],s&&y.push(s),s=d)}while(void 0!==i);return 0!==h.length?h[h.length-1][1]:e}(e,eo),operationName:r}};class ef extends Error{constructor(e,t){let n=`${ef.extractMessage(e)}: ${JSON.stringify({response:e,request:t})}`;super(n),Object.setPrototypeOf(this,ef.prototype),this.response=e,this.request=t,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,ef)}static extractMessage(e){return e.errors?.[0]?.message??`GraphQL Error (Code: ${e.status})`}}var ey=n(54098),eE=n.t(ey,2);class ev{get type(){return this._type}get id(){return this._id}get payload(){return this._payload}constructor(e,t,n){this._type=e,this._payload=t,this._id=n}get text(){let e={type:this.type};return null!=this.id&&void 0!=this.id&&(e.id=this.id),null!=this.payload&&void 0!=this.payload&&(e.payload=this.payload),JSON.stringify(e)}static parse(e,t){let{type:n,payload:i,id:r}=JSON.parse(e);return new ev(n,t(i),r)}}let em=e=>{let t={};return e&&("undefined"!=typeof Headers&&e instanceof Headers||eE&&ey.Headers&&e instanceof ey.Headers?t=m(e):Array.isArray(e)?e.forEach(([e,n])=>{e&&void 0!==n&&(t[e]=n)}):t=e),t},eT=e=>e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),e_=e=>{if(!Array.isArray(e.query)){let t=[`query=${encodeURIComponent(eT(e.query))}`];return e.variables&&t.push(`variables=${encodeURIComponent(e.jsonSerializer.stringify(e.variables))}`),e.operationName&&t.push(`operationName=${encodeURIComponent(e.operationName)}`),t.join("&")}if(void 0!==e.variables&&!Array.isArray(e.variables))throw Error("Cannot create query with given variable type, array expected");let n=e.query.reduce((t,n,i)=>(t.push({query:eT(n),variables:e.variables?e.jsonSerializer.stringify(e.variables[i]):void 0}),t),[]);return`query=${encodeURIComponent(e.jsonSerializer.stringify(n))}`},eb=e=>async t=>{let n;let{url:r,query:s,variables:o,operationName:a,fetch:l,fetchOptions:u,middleware:c}=t,p={...t.headers},h="";"POST"===e?"string"==typeof(n=E(s,o,a,u.jsonSerializer))&&(p["Content-Type"]="application/json"):h=e_({query:s,variables:o,operationName:a,jsonSerializer:u.jsonSerializer??i});let d={method:e,headers:p,body:n,...u},f=r,y=d;if(c){let v=await Promise.resolve(c({...d,url:r,operationName:a,variables:o})),{url:m,...T}=v;f=m,y=T}return h&&(f=`${f}?${h}`),await l(f,y)};class eN{constructor(e,t={}){this.url=e,this.requestConfig=t,this.rawRequest=async(...e)=>{let[t,n,i]=e,r=_(t,n,i),{headers:s,fetch:o=ey,method:a="POST",requestMiddleware:l,responseMiddleware:u,...c}=this.requestConfig,{url:p}=this;void 0!==r.signal&&(c.signal=r.signal);let{operationName:h}=ed(r.query);return eO({url:p,query:r.query,variables:r.variables,headers:{...em(eg(s)),...em(r.requestHeaders)},operationName:h,fetch:o,method:a,fetchOptions:c,middleware:l}).then(e=>(u&&u(e),e)).catch(e=>{throw u&&u(e),e})}}async request(e,...t){let[n,i]=t,r=T(e,n,i),{headers:s,fetch:o=ey,method:a="POST",requestMiddleware:l,responseMiddleware:u,...c}=this.requestConfig,{url:p}=this;void 0!==r.signal&&(c.signal=r.signal);let{query:h,operationName:d}=ed(r.document);return eO({url:p,query:h,variables:r.variables,headers:{...em(eg(s)),...em(r.requestHeaders)},operationName:d,fetch:o,method:a,fetchOptions:c,middleware:l}).then(e=>(u&&u(e),e.data)).catch(e=>{throw u&&u(e),e})}batchRequests(e,t){let n=b(e,t),{headers:i,...r}=this.requestConfig;void 0!==n.signal&&(r.signal=n.signal);let s=n.documents.map(({document:e})=>ed(e).query),o=n.documents.map(({variables:e})=>e);return eO({url:this.url,query:s,variables:o,headers:{...em(eg(i)),...em(n.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??ey,method:this.requestConfig.method||"POST",fetchOptions:r,middleware:this.requestConfig.requestMiddleware}).then(e=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(e),e.data)).catch(e=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(e),e})}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,t){let{headers:n}=this.requestConfig;return n?n[e]=t:this.requestConfig.headers={[e]:t},this}setEndpoint(e){return this.url=e,this}}let eO=async e=>{let{query:t,variables:n,fetchOptions:r}=e,s=eb(v(e.method??"post")),o=Array.isArray(e.query),a=await s(e),l=await eA(a,r.jsonSerializer??i),u=Array.isArray(l)?!l.some(({data:e})=>!e):Boolean(l.data),c=Array.isArray(l)||!l.errors||Array.isArray(l.errors)&&!l.errors.length||"all"===r.errorPolicy||"ignore"===r.errorPolicy;if(a.ok&&c&&u){let{errors:p,...h}=(Array.isArray(l),l),d="ignore"===r.errorPolicy?h:l;return{...o?{data:d}:d,headers:a.headers,status:a.status}}throw new ef({..."string"==typeof l?{error:l}:l,status:a.status,headers:a.headers},{query:t,variables:n})},eA=async(e,t)=>{let n;return(e.headers.forEach((e,t)=>{"content-type"===t.toLowerCase()&&(n=e)}),n&&(n.toLowerCase().startsWith("application/json")||n.toLowerCase().startsWith("application/graphql+json")||n.toLowerCase().startsWith("application/graphql-response+json")))?t.parse(await e.text()):e.text()},eg=e=>"function"==typeof e?e():e}}]);